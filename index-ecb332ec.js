(function () {
  const e = document.createElement("link").relList;
  if (e && e.supports && e.supports("modulepreload")) return;
  for (const r of document.querySelectorAll('link[rel="modulepreload"]')) i(r);
  new MutationObserver((r) => {
    for (const s of r)
      if (s.type === "childList")
        for (const a of s.addedNodes)
          a.tagName === "LINK" && a.rel === "modulepreload" && i(a);
  }).observe(document, { childList: !0, subtree: !0 });
  function n(r) {
    const s = {};
    return (
      r.integrity && (s.integrity = r.integrity),
      r.referrerPolicy && (s.referrerPolicy = r.referrerPolicy),
      r.crossOrigin === "use-credentials"
        ? (s.credentials = "include")
        : r.crossOrigin === "anonymous"
        ? (s.credentials = "omit")
        : (s.credentials = "same-origin"),
      s
    );
  }
  function i(r) {
    if (r.ep) return;
    r.ep = !0;
    const s = n(r);
    fetch(r.href, s);
  }
})();
function w0(t) {
  return t && t.__esModule && Object.prototype.hasOwnProperty.call(t, "default")
    ? t.default
    : t;
}
var S0 = { exports: {} },
  kc = {};
/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */ var $R = Symbol.for("react.transitional.element"),
  YR = Symbol.for("react.fragment");
function R0(t, e, n) {
  var i = null;
  if (
    (n !== void 0 && (i = "" + n),
    e.key !== void 0 && (i = "" + e.key),
    "key" in e)
  ) {
    n = {};
    for (var r in e) r !== "key" && (n[r] = e[r]);
  } else n = e;
  return (
    (e = n.ref),
    { $$typeof: $R, type: t, key: i, ref: e !== void 0 ? e : null, props: n }
  );
}
kc.Fragment = YR;
kc.jsx = R0;
kc.jsxs = R0;
S0.exports = kc;
var V = S0.exports,
  b0 = { exports: {} },
  J = {};
/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */ var ym = Symbol.for("react.transitional.element"),
  XR = Symbol.for("react.portal"),
  WR = Symbol.for("react.fragment"),
  ZR = Symbol.for("react.strict_mode"),
  JR = Symbol.for("react.profiler"),
  eb = Symbol.for("react.consumer"),
  tb = Symbol.for("react.context"),
  nb = Symbol.for("react.forward_ref"),
  ib = Symbol.for("react.suspense"),
  rb = Symbol.for("react.memo"),
  I0 = Symbol.for("react.lazy"),
  A_ = Symbol.iterator;
function sb(t) {
  return t === null || typeof t != "object"
    ? null
    : ((t = (A_ && t[A_]) || t["@@iterator"]),
      typeof t == "function" ? t : null);
}
var C0 = {
    isMounted: function () {
      return !1;
    },
    enqueueForceUpdate: function () {},
    enqueueReplaceState: function () {},
    enqueueSetState: function () {},
  },
  D0 = Object.assign,
  O0 = {};
function na(t, e, n) {
  (this.props = t),
    (this.context = e),
    (this.refs = O0),
    (this.updater = n || C0);
}
na.prototype.isReactComponent = {};
na.prototype.setState = function (t, e) {
  if (typeof t != "object" && typeof t != "function" && t != null)
    throw Error(
      "takes an object of state variables to update or a function which returns an object of state variables."
    );
  this.updater.enqueueSetState(this, t, e, "setState");
};
na.prototype.forceUpdate = function (t) {
  this.updater.enqueueForceUpdate(this, t, "forceUpdate");
};
function N0() {}
N0.prototype = na.prototype;
function vm(t, e, n) {
  (this.props = t),
    (this.context = e),
    (this.refs = O0),
    (this.updater = n || C0);
}
var Em = (vm.prototype = new N0());
Em.constructor = vm;
D0(Em, na.prototype);
Em.isPureReactComponent = !0;
var w_ = Array.isArray,
  Ie = { H: null, A: null, T: null, S: null },
  M0 = Object.prototype.hasOwnProperty;
function Tm(t, e, n, i, r, s) {
  return (
    (n = s.ref),
    { $$typeof: ym, type: t, key: e, ref: n !== void 0 ? n : null, props: s }
  );
}
function ab(t, e) {
  return Tm(t.type, e, void 0, void 0, void 0, t.props);
}
function Am(t) {
  return typeof t == "object" && t !== null && t.$$typeof === ym;
}
function ob(t) {
  var e = { "=": "=0", ":": "=2" };
  return (
    "$" +
    t.replace(/[=:]/g, function (n) {
      return e[n];
    })
  );
}
var S_ = /\/+/g;
function Wh(t, e) {
  return typeof t == "object" && t !== null && t.key != null
    ? ob("" + t.key)
    : e.toString(36);
}
function R_() {}
function lb(t) {
  switch (t.status) {
    case "fulfilled":
      return t.value;
    case "rejected":
      throw t.reason;
    default:
      switch (
        (typeof t.status == "string"
          ? t.then(R_, R_)
          : ((t.status = "pending"),
            t.then(
              function (e) {
                t.status === "pending" &&
                  ((t.status = "fulfilled"), (t.value = e));
              },
              function (e) {
                t.status === "pending" &&
                  ((t.status = "rejected"), (t.reason = e));
              }
            )),
        t.status)
      ) {
        case "fulfilled":
          return t.value;
        case "rejected":
          throw t.reason;
      }
  }
  throw t;
}
function ss(t, e, n, i, r) {
  var s = typeof t;
  (s === "undefined" || s === "boolean") && (t = null);
  var a = !1;
  if (t === null) a = !0;
  else
    switch (s) {
      case "bigint":
      case "string":
      case "number":
        a = !0;
        break;
      case "object":
        switch (t.$$typeof) {
          case ym:
          case XR:
            a = !0;
            break;
          case I0:
            return (a = t._init), ss(a(t._payload), e, n, i, r);
        }
    }
  if (a)
    return (
      (r = r(t)),
      (a = i === "" ? "." + Wh(t, 0) : i),
      w_(r)
        ? ((n = ""),
          a != null && (n = a.replace(S_, "$&/") + "/"),
          ss(r, e, n, "", function (c) {
            return c;
          }))
        : r != null &&
          (Am(r) &&
            (r = ab(
              r,
              n +
                (r.key == null || (t && t.key === r.key)
                  ? ""
                  : ("" + r.key).replace(S_, "$&/") + "/") +
                a
            )),
          e.push(r)),
      1
    );
  a = 0;
  var l = i === "" ? "." : i + ":";
  if (w_(t))
    for (var u = 0; u < t.length; u++)
      (i = t[u]), (s = l + Wh(i, u)), (a += ss(i, e, n, s, r));
  else if (((u = sb(t)), typeof u == "function"))
    for (t = u.call(t), u = 0; !(i = t.next()).done; )
      (i = i.value), (s = l + Wh(i, u++)), (a += ss(i, e, n, s, r));
  else if (s === "object") {
    if (typeof t.then == "function") return ss(lb(t), e, n, i, r);
    throw (
      ((e = String(t)),
      Error(
        "Objects are not valid as a React child (found: " +
          (e === "[object Object]"
            ? "object with keys {" + Object.keys(t).join(", ") + "}"
            : e) +
          "). If you meant to render a collection of children, use an array instead."
      ))
    );
  }
  return a;
}
function Fl(t, e, n) {
  if (t == null) return t;
  var i = [],
    r = 0;
  return (
    ss(t, i, "", "", function (s) {
      return e.call(n, s, r++);
    }),
    i
  );
}
function ub(t) {
  if (t._status === -1) {
    var e = t._result;
    (e = e()),
      e.then(
        function (n) {
          (t._status === 0 || t._status === -1) &&
            ((t._status = 1), (t._result = n));
        },
        function (n) {
          (t._status === 0 || t._status === -1) &&
            ((t._status = 2), (t._result = n));
        }
      ),
      t._status === -1 && ((t._status = 0), (t._result = e));
  }
  if (t._status === 1) return t._result.default;
  throw t._result;
}
var b_ =
  typeof reportError == "function"
    ? reportError
    : function (t) {
        if (
          typeof window == "object" &&
          typeof window.ErrorEvent == "function"
        ) {
          var e = new window.ErrorEvent("error", {
            bubbles: !0,
            cancelable: !0,
            message:
              typeof t == "object" && t !== null && typeof t.message == "string"
                ? String(t.message)
                : String(t),
            error: t,
          });
          if (!window.dispatchEvent(e)) return;
        } else if (
          typeof process == "object" &&
          typeof process.emit == "function"
        ) {
          process.emit("uncaughtException", t);
          return;
        }
        console.error(t);
      };
function cb() {}
J.Children = {
  map: Fl,
  forEach: function (t, e, n) {
    Fl(
      t,
      function () {
        e.apply(this, arguments);
      },
      n
    );
  },
  count: function (t) {
    var e = 0;
    return (
      Fl(t, function () {
        e++;
      }),
      e
    );
  },
  toArray: function (t) {
    return (
      Fl(t, function (e) {
        return e;
      }) || []
    );
  },
  only: function (t) {
    if (!Am(t))
      throw Error(
        "React.Children.only expected to receive a single React element child."
      );
    return t;
  },
};
J.Component = na;
J.Fragment = WR;
J.Profiler = JR;
J.PureComponent = vm;
J.StrictMode = ZR;
J.Suspense = ib;
J.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE = Ie;
J.act = function () {
  throw Error("act(...) is not supported in production builds of React.");
};
J.cache = function (t) {
  return function () {
    return t.apply(null, arguments);
  };
};
J.cloneElement = function (t, e, n) {
  if (t == null)
    throw Error(
      "The argument must be a React element, but you passed " + t + "."
    );
  var i = D0({}, t.props),
    r = t.key,
    s = void 0;
  if (e != null)
    for (a in (e.ref !== void 0 && (s = void 0),
    e.key !== void 0 && (r = "" + e.key),
    e))
      !M0.call(e, a) ||
        a === "key" ||
        a === "__self" ||
        a === "__source" ||
        (a === "ref" && e.ref === void 0) ||
        (i[a] = e[a]);
  var a = arguments.length - 2;
  if (a === 1) i.children = n;
  else if (1 < a) {
    for (var l = Array(a), u = 0; u < a; u++) l[u] = arguments[u + 2];
    i.children = l;
  }
  return Tm(t.type, r, void 0, void 0, s, i);
};
J.createContext = function (t) {
  return (
    (t = {
      $$typeof: tb,
      _currentValue: t,
      _currentValue2: t,
      _threadCount: 0,
      Provider: null,
      Consumer: null,
    }),
    (t.Provider = t),
    (t.Consumer = { $$typeof: eb, _context: t }),
    t
  );
};
J.createElement = function (t, e, n) {
  var i,
    r = {},
    s = null;
  if (e != null)
    for (i in (e.key !== void 0 && (s = "" + e.key), e))
      M0.call(e, i) &&
        i !== "key" &&
        i !== "__self" &&
        i !== "__source" &&
        (r[i] = e[i]);
  var a = arguments.length - 2;
  if (a === 1) r.children = n;
  else if (1 < a) {
    for (var l = Array(a), u = 0; u < a; u++) l[u] = arguments[u + 2];
    r.children = l;
  }
  if (t && t.defaultProps)
    for (i in ((a = t.defaultProps), a)) r[i] === void 0 && (r[i] = a[i]);
  return Tm(t, s, void 0, void 0, null, r);
};
J.createRef = function () {
  return { current: null };
};
J.forwardRef = function (t) {
  return { $$typeof: nb, render: t };
};
J.isValidElement = Am;
J.lazy = function (t) {
  return { $$typeof: I0, _payload: { _status: -1, _result: t }, _init: ub };
};
J.memo = function (t, e) {
  return { $$typeof: rb, type: t, compare: e === void 0 ? null : e };
};
J.startTransition = function (t) {
  var e = Ie.T,
    n = {};
  Ie.T = n;
  try {
    var i = t(),
      r = Ie.S;
    r !== null && r(n, i),
      typeof i == "object" &&
        i !== null &&
        typeof i.then == "function" &&
        i.then(cb, b_);
  } catch (s) {
    b_(s);
  } finally {
    Ie.T = e;
  }
};
J.unstable_useCacheRefresh = function () {
  return Ie.H.useCacheRefresh();
};
J.use = function (t) {
  return Ie.H.use(t);
};
J.useActionState = function (t, e, n) {
  return Ie.H.useActionState(t, e, n);
};
J.useCallback = function (t, e) {
  return Ie.H.useCallback(t, e);
};
J.useContext = function (t) {
  return Ie.H.useContext(t);
};
J.useDebugValue = function () {};
J.useDeferredValue = function (t, e) {
  return Ie.H.useDeferredValue(t, e);
};
J.useEffect = function (t, e) {
  return Ie.H.useEffect(t, e);
};
J.useId = function () {
  return Ie.H.useId();
};
J.useImperativeHandle = function (t, e, n) {
  return Ie.H.useImperativeHandle(t, e, n);
};
J.useInsertionEffect = function (t, e) {
  return Ie.H.useInsertionEffect(t, e);
};
J.useLayoutEffect = function (t, e) {
  return Ie.H.useLayoutEffect(t, e);
};
J.useMemo = function (t, e) {
  return Ie.H.useMemo(t, e);
};
J.useOptimistic = function (t, e) {
  return Ie.H.useOptimistic(t, e);
};
J.useReducer = function (t, e, n) {
  return Ie.H.useReducer(t, e, n);
};
J.useRef = function (t) {
  return Ie.H.useRef(t);
};
J.useState = function (t) {
  return Ie.H.useState(t);
};
J.useSyncExternalStore = function (t, e, n) {
  return Ie.H.useSyncExternalStore(t, e, n);
};
J.useTransition = function () {
  return Ie.H.useTransition();
};
J.version = "19.0.0";
b0.exports = J;
var k = b0.exports;
const hb = w0(k);
var k0 = { exports: {} },
  xc = {},
  x0 = { exports: {} },
  V0 = {};
/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */ (function (t) {
  function e(q, W) {
    var Y = q.length;
    q.push(W);
    e: for (; 0 < Y; ) {
      var _e = (Y - 1) >>> 1,
        xe = q[_e];
      if (0 < r(xe, W)) (q[_e] = W), (q[Y] = xe), (Y = _e);
      else break e;
    }
  }
  function n(q) {
    return q.length === 0 ? null : q[0];
  }
  function i(q) {
    if (q.length === 0) return null;
    var W = q[0],
      Y = q.pop();
    if (Y !== W) {
      q[0] = Y;
      e: for (var _e = 0, xe = q.length, Wr = xe >>> 1; _e < Wr; ) {
        var Nt = 2 * (_e + 1) - 1,
          Ue = q[Nt],
          xn = Nt + 1,
          dn = q[xn];
        if (0 > r(Ue, Y))
          xn < xe && 0 > r(dn, Ue)
            ? ((q[_e] = dn), (q[xn] = Y), (_e = xn))
            : ((q[_e] = Ue), (q[Nt] = Y), (_e = Nt));
        else if (xn < xe && 0 > r(dn, Y)) (q[_e] = dn), (q[xn] = Y), (_e = xn);
        else break e;
      }
    }
    return W;
  }
  function r(q, W) {
    var Y = q.sortIndex - W.sortIndex;
    return Y !== 0 ? Y : q.id - W.id;
  }
  if (
    ((t.unstable_now = void 0),
    typeof performance == "object" && typeof performance.now == "function")
  ) {
    var s = performance;
    t.unstable_now = function () {
      return s.now();
    };
  } else {
    var a = Date,
      l = a.now();
    t.unstable_now = function () {
      return a.now() - l;
    };
  }
  var u = [],
    c = [],
    f = 1,
    p = null,
    m = 3,
    _ = !1,
    b = !1,
    C = !1,
    D = typeof setTimeout == "function" ? setTimeout : null,
    E = typeof clearTimeout == "function" ? clearTimeout : null,
    v = typeof setImmediate < "u" ? setImmediate : null;
  function w(q) {
    for (var W = n(c); W !== null; ) {
      if (W.callback === null) i(c);
      else if (W.startTime <= q)
        i(c), (W.sortIndex = W.expirationTime), e(u, W);
      else break;
      W = n(c);
    }
  }
  function O(q) {
    if (((C = !1), w(q), !b))
      if (n(u) !== null) (b = !0), Ot();
      else {
        var W = n(c);
        W !== null && kn(O, W.startTime - q);
      }
  }
  var B = !1,
    j = -1,
    A = 5,
    y = -1;
  function T() {
    return !(t.unstable_now() - y < A);
  }
  function S() {
    if (B) {
      var q = t.unstable_now();
      y = q;
      var W = !0;
      try {
        e: {
          (b = !1), C && ((C = !1), E(j), (j = -1)), (_ = !0);
          var Y = m;
          try {
            t: {
              for (
                w(q), p = n(u);
                p !== null && !(p.expirationTime > q && T());

              ) {
                var _e = p.callback;
                if (typeof _e == "function") {
                  (p.callback = null), (m = p.priorityLevel);
                  var xe = _e(p.expirationTime <= q);
                  if (((q = t.unstable_now()), typeof xe == "function")) {
                    (p.callback = xe), w(q), (W = !0);
                    break t;
                  }
                  p === n(u) && i(u), w(q);
                } else i(u);
                p = n(u);
              }
              if (p !== null) W = !0;
              else {
                var Wr = n(c);
                Wr !== null && kn(O, Wr.startTime - q), (W = !1);
              }
            }
            break e;
          } finally {
            (p = null), (m = Y), (_ = !1);
          }
          W = void 0;
        }
      } finally {
        W ? I() : (B = !1);
      }
    }
  }
  var I;
  if (typeof v == "function")
    I = function () {
      v(S);
    };
  else if (typeof MessageChannel < "u") {
    var M = new MessageChannel(),
      R = M.port2;
    (M.port1.onmessage = S),
      (I = function () {
        R.postMessage(null);
      });
  } else
    I = function () {
      D(S, 0);
    };
  function Ot() {
    B || ((B = !0), I());
  }
  function kn(q, W) {
    j = D(function () {
      q(t.unstable_now());
    }, W);
  }
  (t.unstable_IdlePriority = 5),
    (t.unstable_ImmediatePriority = 1),
    (t.unstable_LowPriority = 4),
    (t.unstable_NormalPriority = 3),
    (t.unstable_Profiling = null),
    (t.unstable_UserBlockingPriority = 2),
    (t.unstable_cancelCallback = function (q) {
      q.callback = null;
    }),
    (t.unstable_continueExecution = function () {
      b || _ || ((b = !0), Ot());
    }),
    (t.unstable_forceFrameRate = function (q) {
      0 > q || 125 < q
        ? console.error(
            "forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"
          )
        : (A = 0 < q ? Math.floor(1e3 / q) : 5);
    }),
    (t.unstable_getCurrentPriorityLevel = function () {
      return m;
    }),
    (t.unstable_getFirstCallbackNode = function () {
      return n(u);
    }),
    (t.unstable_next = function (q) {
      switch (m) {
        case 1:
        case 2:
        case 3:
          var W = 3;
          break;
        default:
          W = m;
      }
      var Y = m;
      m = W;
      try {
        return q();
      } finally {
        m = Y;
      }
    }),
    (t.unstable_pauseExecution = function () {}),
    (t.unstable_requestPaint = function () {}),
    (t.unstable_runWithPriority = function (q, W) {
      switch (q) {
        case 1:
        case 2:
        case 3:
        case 4:
        case 5:
          break;
        default:
          q = 3;
      }
      var Y = m;
      m = q;
      try {
        return W();
      } finally {
        m = Y;
      }
    }),
    (t.unstable_scheduleCallback = function (q, W, Y) {
      var _e = t.unstable_now();
      switch (
        (typeof Y == "object" && Y !== null
          ? ((Y = Y.delay), (Y = typeof Y == "number" && 0 < Y ? _e + Y : _e))
          : (Y = _e),
        q)
      ) {
        case 1:
          var xe = -1;
          break;
        case 2:
          xe = 250;
          break;
        case 5:
          xe = 1073741823;
          break;
        case 4:
          xe = 1e4;
          break;
        default:
          xe = 5e3;
      }
      return (
        (xe = Y + xe),
        (q = {
          id: f++,
          callback: W,
          priorityLevel: q,
          startTime: Y,
          expirationTime: xe,
          sortIndex: -1,
        }),
        Y > _e
          ? ((q.sortIndex = Y),
            e(c, q),
            n(u) === null &&
              q === n(c) &&
              (C ? (E(j), (j = -1)) : (C = !0), kn(O, Y - _e)))
          : ((q.sortIndex = xe), e(u, q), b || _ || ((b = !0), Ot())),
        q
      );
    }),
    (t.unstable_shouldYield = T),
    (t.unstable_wrapCallback = function (q) {
      var W = m;
      return function () {
        var Y = m;
        m = W;
        try {
          return q.apply(this, arguments);
        } finally {
          m = Y;
        }
      };
    });
})(V0);
x0.exports = V0;
var fb = x0.exports,
  P0 = { exports: {} },
  wt = {};
/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */ var db = k;
function U0(t) {
  var e = "https://react.dev/errors/" + t;
  if (1 < arguments.length) {
    e += "?args[]=" + encodeURIComponent(arguments[1]);
    for (var n = 2; n < arguments.length; n++)
      e += "&args[]=" + encodeURIComponent(arguments[n]);
  }
  return (
    "Minified React error #" +
    t +
    "; visit " +
    e +
    " for the full message or use the non-minified dev environment for full errors and additional helpful warnings."
  );
}
function gi() {}
var Tt = {
    d: {
      f: gi,
      r: function () {
        throw Error(U0(522));
      },
      D: gi,
      C: gi,
      L: gi,
      m: gi,
      X: gi,
      S: gi,
      M: gi,
    },
    p: 0,
    findDOMNode: null,
  },
  mb = Symbol.for("react.portal");
function pb(t, e, n) {
  var i = 3 < arguments.length && arguments[3] !== void 0 ? arguments[3] : null;
  return {
    $$typeof: mb,
    key: i == null ? null : "" + i,
    children: t,
    containerInfo: e,
    implementation: n,
  };
}
var io = db.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;
function Vc(t, e) {
  if (t === "font") return "";
  if (typeof e == "string") return e === "use-credentials" ? e : "";
}
wt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE = Tt;
wt.createPortal = function (t, e) {
  var n = 2 < arguments.length && arguments[2] !== void 0 ? arguments[2] : null;
  if (!e || (e.nodeType !== 1 && e.nodeType !== 9 && e.nodeType !== 11))
    throw Error(U0(299));
  return pb(t, e, null, n);
};
wt.flushSync = function (t) {
  var e = io.T,
    n = Tt.p;
  try {
    if (((io.T = null), (Tt.p = 2), t)) return t();
  } finally {
    (io.T = e), (Tt.p = n), Tt.d.f();
  }
};
wt.preconnect = function (t, e) {
  typeof t == "string" &&
    (e
      ? ((e = e.crossOrigin),
        (e =
          typeof e == "string" ? (e === "use-credentials" ? e : "") : void 0))
      : (e = null),
    Tt.d.C(t, e));
};
wt.prefetchDNS = function (t) {
  typeof t == "string" && Tt.d.D(t);
};
wt.preinit = function (t, e) {
  if (typeof t == "string" && e && typeof e.as == "string") {
    var n = e.as,
      i = Vc(n, e.crossOrigin),
      r = typeof e.integrity == "string" ? e.integrity : void 0,
      s = typeof e.fetchPriority == "string" ? e.fetchPriority : void 0;
    n === "style"
      ? Tt.d.S(t, typeof e.precedence == "string" ? e.precedence : void 0, {
          crossOrigin: i,
          integrity: r,
          fetchPriority: s,
        })
      : n === "script" &&
        Tt.d.X(t, {
          crossOrigin: i,
          integrity: r,
          fetchPriority: s,
          nonce: typeof e.nonce == "string" ? e.nonce : void 0,
        });
  }
};
wt.preinitModule = function (t, e) {
  if (typeof t == "string")
    if (typeof e == "object" && e !== null) {
      if (e.as == null || e.as === "script") {
        var n = Vc(e.as, e.crossOrigin);
        Tt.d.M(t, {
          crossOrigin: n,
          integrity: typeof e.integrity == "string" ? e.integrity : void 0,
          nonce: typeof e.nonce == "string" ? e.nonce : void 0,
        });
      }
    } else e == null && Tt.d.M(t);
};
wt.preload = function (t, e) {
  if (
    typeof t == "string" &&
    typeof e == "object" &&
    e !== null &&
    typeof e.as == "string"
  ) {
    var n = e.as,
      i = Vc(n, e.crossOrigin);
    Tt.d.L(t, n, {
      crossOrigin: i,
      integrity: typeof e.integrity == "string" ? e.integrity : void 0,
      nonce: typeof e.nonce == "string" ? e.nonce : void 0,
      type: typeof e.type == "string" ? e.type : void 0,
      fetchPriority:
        typeof e.fetchPriority == "string" ? e.fetchPriority : void 0,
      referrerPolicy:
        typeof e.referrerPolicy == "string" ? e.referrerPolicy : void 0,
      imageSrcSet: typeof e.imageSrcSet == "string" ? e.imageSrcSet : void 0,
      imageSizes: typeof e.imageSizes == "string" ? e.imageSizes : void 0,
      media: typeof e.media == "string" ? e.media : void 0,
    });
  }
};
wt.preloadModule = function (t, e) {
  if (typeof t == "string")
    if (e) {
      var n = Vc(e.as, e.crossOrigin);
      Tt.d.m(t, {
        as: typeof e.as == "string" && e.as !== "script" ? e.as : void 0,
        crossOrigin: n,
        integrity: typeof e.integrity == "string" ? e.integrity : void 0,
      });
    } else Tt.d.m(t);
};
wt.requestFormReset = function (t) {
  Tt.d.r(t);
};
wt.unstable_batchedUpdates = function (t, e) {
  return t(e);
};
wt.useFormState = function (t, e, n) {
  return io.H.useFormState(t, e, n);
};
wt.useFormStatus = function () {
  return io.H.useHostTransitionStatus();
};
wt.version = "19.0.0";
function L0() {
  if (
    !(
      typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ > "u" ||
      typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE != "function"
    )
  )
    try {
      __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(L0);
    } catch (t) {
      console.error(t);
    }
}
L0(), (P0.exports = wt);
var gb = P0.exports;
/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */ var Qe = fb,
  B0 = k,
  _b = gb;
function U(t) {
  var e = "https://react.dev/errors/" + t;
  if (1 < arguments.length) {
    e += "?args[]=" + encodeURIComponent(arguments[1]);
    for (var n = 2; n < arguments.length; n++)
      e += "&args[]=" + encodeURIComponent(arguments[n]);
  }
  return (
    "Minified React error #" +
    t +
    "; visit " +
    e +
    " for the full message or use the non-minified dev environment for full errors and additional helpful warnings."
  );
}
function z0(t) {
  return !(!t || (t.nodeType !== 1 && t.nodeType !== 9 && t.nodeType !== 11));
}
var yb = Symbol.for("react.element"),
  Gl = Symbol.for("react.transitional.element"),
  Ga = Symbol.for("react.portal"),
  ms = Symbol.for("react.fragment"),
  j0 = Symbol.for("react.strict_mode"),
  Xf = Symbol.for("react.profiler"),
  vb = Symbol.for("react.provider"),
  q0 = Symbol.for("react.consumer"),
  Fn = Symbol.for("react.context"),
  wm = Symbol.for("react.forward_ref"),
  Wf = Symbol.for("react.suspense"),
  Zf = Symbol.for("react.suspense_list"),
  Sm = Symbol.for("react.memo"),
  Ei = Symbol.for("react.lazy"),
  H0 = Symbol.for("react.offscreen"),
  Eb = Symbol.for("react.memo_cache_sentinel"),
  I_ = Symbol.iterator;
function xa(t) {
  return t === null || typeof t != "object"
    ? null
    : ((t = (I_ && t[I_]) || t["@@iterator"]),
      typeof t == "function" ? t : null);
}
var Tb = Symbol.for("react.client.reference");
function Jf(t) {
  if (t == null) return null;
  if (typeof t == "function")
    return t.$$typeof === Tb ? null : t.displayName || t.name || null;
  if (typeof t == "string") return t;
  switch (t) {
    case ms:
      return "Fragment";
    case Ga:
      return "Portal";
    case Xf:
      return "Profiler";
    case j0:
      return "StrictMode";
    case Wf:
      return "Suspense";
    case Zf:
      return "SuspenseList";
  }
  if (typeof t == "object")
    switch (t.$$typeof) {
      case Fn:
        return (t.displayName || "Context") + ".Provider";
      case q0:
        return (t._context.displayName || "Context") + ".Consumer";
      case wm:
        var e = t.render;
        return (
          (t = t.displayName),
          t ||
            ((t = e.displayName || e.name || ""),
            (t = t !== "" ? "ForwardRef(" + t + ")" : "ForwardRef")),
          t
        );
      case Sm:
        return (
          (e = t.displayName || null), e !== null ? e : Jf(t.type) || "Memo"
        );
      case Ei:
        (e = t._payload), (t = t._init);
        try {
          return Jf(t(e));
        } catch {}
    }
  return null;
}
var Z = B0.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,
  Te = Object.assign,
  Zh,
  C_;
function Ka(t) {
  if (Zh === void 0)
    try {
      throw Error();
    } catch (n) {
      var e = n.stack.trim().match(/\n( *(at )?)/);
      (Zh = (e && e[1]) || ""),
        (C_ =
          -1 <
          n.stack.indexOf(`
    at`)
            ? " (<anonymous>)"
            : -1 < n.stack.indexOf("@")
            ? "@unknown:0:0"
            : "");
    }
  return (
    `
` +
    Zh +
    t +
    C_
  );
}
var Jh = !1;
function ef(t, e) {
  if (!t || Jh) return "";
  Jh = !0;
  var n = Error.prepareStackTrace;
  Error.prepareStackTrace = void 0;
  try {
    var i = {
      DetermineComponentFrameRoot: function () {
        try {
          if (e) {
            var p = function () {
              throw Error();
            };
            if (
              (Object.defineProperty(p.prototype, "props", {
                set: function () {
                  throw Error();
                },
              }),
              typeof Reflect == "object" && Reflect.construct)
            ) {
              try {
                Reflect.construct(p, []);
              } catch (_) {
                var m = _;
              }
              Reflect.construct(t, [], p);
            } else {
              try {
                p.call();
              } catch (_) {
                m = _;
              }
              t.call(p.prototype);
            }
          } else {
            try {
              throw Error();
            } catch (_) {
              m = _;
            }
            (p = t()) &&
              typeof p.catch == "function" &&
              p.catch(function () {});
          }
        } catch (_) {
          if (_ && m && typeof _.stack == "string") return [_.stack, m.stack];
        }
        return [null, null];
      },
    };
    i.DetermineComponentFrameRoot.displayName = "DetermineComponentFrameRoot";
    var r = Object.getOwnPropertyDescriptor(
      i.DetermineComponentFrameRoot,
      "name"
    );
    r &&
      r.configurable &&
      Object.defineProperty(i.DetermineComponentFrameRoot, "name", {
        value: "DetermineComponentFrameRoot",
      });
    var s = i.DetermineComponentFrameRoot(),
      a = s[0],
      l = s[1];
    if (a && l) {
      var u = a.split(`
`),
        c = l.split(`
`);
      for (
        r = i = 0;
        i < u.length && !u[i].includes("DetermineComponentFrameRoot");

      )
        i++;
      for (; r < c.length && !c[r].includes("DetermineComponentFrameRoot"); )
        r++;
      if (i === u.length || r === c.length)
        for (
          i = u.length - 1, r = c.length - 1;
          1 <= i && 0 <= r && u[i] !== c[r];

        )
          r--;
      for (; 1 <= i && 0 <= r; i--, r--)
        if (u[i] !== c[r]) {
          if (i !== 1 || r !== 1)
            do
              if ((i--, r--, 0 > r || u[i] !== c[r])) {
                var f =
                  `
` + u[i].replace(" at new ", " at ");
                return (
                  t.displayName &&
                    f.includes("<anonymous>") &&
                    (f = f.replace("<anonymous>", t.displayName)),
                  f
                );
              }
            while (1 <= i && 0 <= r);
          break;
        }
    }
  } finally {
    (Jh = !1), (Error.prepareStackTrace = n);
  }
  return (n = t ? t.displayName || t.name : "") ? Ka(n) : "";
}
function Ab(t) {
  switch (t.tag) {
    case 26:
    case 27:
    case 5:
      return Ka(t.type);
    case 16:
      return Ka("Lazy");
    case 13:
      return Ka("Suspense");
    case 19:
      return Ka("SuspenseList");
    case 0:
    case 15:
      return (t = ef(t.type, !1)), t;
    case 11:
      return (t = ef(t.type.render, !1)), t;
    case 1:
      return (t = ef(t.type, !0)), t;
    default:
      return "";
  }
}
function D_(t) {
  try {
    var e = "";
    do (e += Ab(t)), (t = t.return);
    while (t);
    return e;
  } catch (n) {
    return (
      `
Error generating stack: ` +
      n.message +
      `
` +
      n.stack
    );
  }
}
function ia(t) {
  var e = t,
    n = t;
  if (t.alternate) for (; e.return; ) e = e.return;
  else {
    t = e;
    do (e = t), e.flags & 4098 && (n = e.return), (t = e.return);
    while (t);
  }
  return e.tag === 3 ? n : null;
}
function F0(t) {
  if (t.tag === 13) {
    var e = t.memoizedState;
    if (
      (e === null && ((t = t.alternate), t !== null && (e = t.memoizedState)),
      e !== null)
    )
      return e.dehydrated;
  }
  return null;
}
function O_(t) {
  if (ia(t) !== t) throw Error(U(188));
}
function wb(t) {
  var e = t.alternate;
  if (!e) {
    if (((e = ia(t)), e === null)) throw Error(U(188));
    return e !== t ? null : t;
  }
  for (var n = t, i = e; ; ) {
    var r = n.return;
    if (r === null) break;
    var s = r.alternate;
    if (s === null) {
      if (((i = r.return), i !== null)) {
        n = i;
        continue;
      }
      break;
    }
    if (r.child === s.child) {
      for (s = r.child; s; ) {
        if (s === n) return O_(r), t;
        if (s === i) return O_(r), e;
        s = s.sibling;
      }
      throw Error(U(188));
    }
    if (n.return !== i.return) (n = r), (i = s);
    else {
      for (var a = !1, l = r.child; l; ) {
        if (l === n) {
          (a = !0), (n = r), (i = s);
          break;
        }
        if (l === i) {
          (a = !0), (i = r), (n = s);
          break;
        }
        l = l.sibling;
      }
      if (!a) {
        for (l = s.child; l; ) {
          if (l === n) {
            (a = !0), (n = s), (i = r);
            break;
          }
          if (l === i) {
            (a = !0), (i = s), (n = r);
            break;
          }
          l = l.sibling;
        }
        if (!a) throw Error(U(189));
      }
    }
    if (n.alternate !== i) throw Error(U(190));
  }
  if (n.tag !== 3) throw Error(U(188));
  return n.stateNode.current === n ? t : e;
}
function G0(t) {
  var e = t.tag;
  if (e === 5 || e === 26 || e === 27 || e === 6) return t;
  for (t = t.child; t !== null; ) {
    if (((e = G0(t)), e !== null)) return e;
    t = t.sibling;
  }
  return null;
}
var Qa = Array.isArray,
  Ee = _b.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,
  Tr = { pending: !1, data: null, method: null, action: null },
  ed = [],
  ps = -1;
function Dn(t) {
  return { current: t };
}
function Ze(t) {
  0 > ps || ((t.current = ed[ps]), (ed[ps] = null), ps--);
}
function we(t, e) {
  ps++, (ed[ps] = t.current), (t.current = e);
}
var yn = Dn(null),
  Io = Dn(null),
  xi = Dn(null),
  Bu = Dn(null);
function zu(t, e) {
  switch ((we(xi, e), we(Io, t), we(yn, null), (t = e.nodeType), t)) {
    case 9:
    case 11:
      e = (e = e.documentElement) && (e = e.namespaceURI) ? Ny(e) : 0;
      break;
    default:
      if (
        ((t = t === 8 ? e.parentNode : e),
        (e = t.tagName),
        (t = t.namespaceURI))
      )
        (t = Ny(t)), (e = iA(t, e));
      else
        switch (e) {
          case "svg":
            e = 1;
            break;
          case "math":
            e = 2;
            break;
          default:
            e = 0;
        }
  }
  Ze(yn), we(yn, e);
}
function Ls() {
  Ze(yn), Ze(Io), Ze(xi);
}
function td(t) {
  t.memoizedState !== null && we(Bu, t);
  var e = yn.current,
    n = iA(e, t.type);
  e !== n && (we(Io, t), we(yn, n));
}
function ju(t) {
  Io.current === t && (Ze(yn), Ze(Io)),
    Bu.current === t && (Ze(Bu), (Lo._currentValue = Tr));
}
var nd = Object.prototype.hasOwnProperty,
  Rm = Qe.unstable_scheduleCallback,
  tf = Qe.unstable_cancelCallback,
  Sb = Qe.unstable_shouldYield,
  Rb = Qe.unstable_requestPaint,
  vn = Qe.unstable_now,
  bb = Qe.unstable_getCurrentPriorityLevel,
  K0 = Qe.unstable_ImmediatePriority,
  Q0 = Qe.unstable_UserBlockingPriority,
  qu = Qe.unstable_NormalPriority,
  Ib = Qe.unstable_LowPriority,
  $0 = Qe.unstable_IdlePriority,
  Cb = Qe.log,
  Db = Qe.unstable_setDisableYieldValue,
  Zo = null,
  Lt = null;
function Ob(t) {
  if (Lt && typeof Lt.onCommitFiberRoot == "function")
    try {
      Lt.onCommitFiberRoot(Zo, t, void 0, (t.current.flags & 128) === 128);
    } catch {}
}
function Ni(t) {
  if (
    (typeof Cb == "function" && Db(t),
    Lt && typeof Lt.setStrictMode == "function")
  )
    try {
      Lt.setStrictMode(Zo, t);
    } catch {}
}
var Bt = Math.clz32 ? Math.clz32 : kb,
  Nb = Math.log,
  Mb = Math.LN2;
function kb(t) {
  return (t >>>= 0), t === 0 ? 32 : (31 - ((Nb(t) / Mb) | 0)) | 0;
}
var Kl = 128,
  Ql = 4194304;
function mr(t) {
  var e = t & 42;
  if (e !== 0) return e;
  switch (t & -t) {
    case 1:
      return 1;
    case 2:
      return 2;
    case 4:
      return 4;
    case 8:
      return 8;
    case 16:
      return 16;
    case 32:
      return 32;
    case 64:
      return 64;
    case 128:
    case 256:
    case 512:
    case 1024:
    case 2048:
    case 4096:
    case 8192:
    case 16384:
    case 32768:
    case 65536:
    case 131072:
    case 262144:
    case 524288:
    case 1048576:
    case 2097152:
      return t & 4194176;
    case 4194304:
    case 8388608:
    case 16777216:
    case 33554432:
      return t & 62914560;
    case 67108864:
      return 67108864;
    case 134217728:
      return 134217728;
    case 268435456:
      return 268435456;
    case 536870912:
      return 536870912;
    case 1073741824:
      return 0;
    default:
      return t;
  }
}
function Pc(t, e) {
  var n = t.pendingLanes;
  if (n === 0) return 0;
  var i = 0,
    r = t.suspendedLanes,
    s = t.pingedLanes,
    a = t.warmLanes;
  t = t.finishedLanes !== 0;
  var l = n & 134217727;
  return (
    l !== 0
      ? ((n = l & ~r),
        n !== 0
          ? (i = mr(n))
          : ((s &= l),
            s !== 0
              ? (i = mr(s))
              : t || ((a = l & ~a), a !== 0 && (i = mr(a)))))
      : ((l = n & ~r),
        l !== 0
          ? (i = mr(l))
          : s !== 0
          ? (i = mr(s))
          : t || ((a = n & ~a), a !== 0 && (i = mr(a)))),
    i === 0
      ? 0
      : e !== 0 &&
        e !== i &&
        !(e & r) &&
        ((r = i & -i),
        (a = e & -e),
        r >= a || (r === 32 && (a & 4194176) !== 0))
      ? e
      : i
  );
}
function Jo(t, e) {
  return (t.pendingLanes & ~(t.suspendedLanes & ~t.pingedLanes) & e) === 0;
}
function xb(t, e) {
  switch (t) {
    case 1:
    case 2:
    case 4:
    case 8:
      return e + 250;
    case 16:
    case 32:
    case 64:
    case 128:
    case 256:
    case 512:
    case 1024:
    case 2048:
    case 4096:
    case 8192:
    case 16384:
    case 32768:
    case 65536:
    case 131072:
    case 262144:
    case 524288:
    case 1048576:
    case 2097152:
      return e + 5e3;
    case 4194304:
    case 8388608:
    case 16777216:
    case 33554432:
      return -1;
    case 67108864:
    case 134217728:
    case 268435456:
    case 536870912:
    case 1073741824:
      return -1;
    default:
      return -1;
  }
}
function Y0() {
  var t = Kl;
  return (Kl <<= 1), !(Kl & 4194176) && (Kl = 128), t;
}
function X0() {
  var t = Ql;
  return (Ql <<= 1), !(Ql & 62914560) && (Ql = 4194304), t;
}
function nf(t) {
  for (var e = [], n = 0; 31 > n; n++) e.push(t);
  return e;
}
function el(t, e) {
  (t.pendingLanes |= e),
    e !== 268435456 &&
      ((t.suspendedLanes = 0), (t.pingedLanes = 0), (t.warmLanes = 0));
}
function Vb(t, e, n, i, r, s) {
  var a = t.pendingLanes;
  (t.pendingLanes = n),
    (t.suspendedLanes = 0),
    (t.pingedLanes = 0),
    (t.warmLanes = 0),
    (t.expiredLanes &= n),
    (t.entangledLanes &= n),
    (t.errorRecoveryDisabledLanes &= n),
    (t.shellSuspendCounter = 0);
  var l = t.entanglements,
    u = t.expirationTimes,
    c = t.hiddenUpdates;
  for (n = a & ~n; 0 < n; ) {
    var f = 31 - Bt(n),
      p = 1 << f;
    (l[f] = 0), (u[f] = -1);
    var m = c[f];
    if (m !== null)
      for (c[f] = null, f = 0; f < m.length; f++) {
        var _ = m[f];
        _ !== null && (_.lane &= -536870913);
      }
    n &= ~p;
  }
  i !== 0 && W0(t, i, 0),
    s !== 0 && r === 0 && t.tag !== 0 && (t.suspendedLanes |= s & ~(a & ~e));
}
function W0(t, e, n) {
  (t.pendingLanes |= e), (t.suspendedLanes &= ~e);
  var i = 31 - Bt(e);
  (t.entangledLanes |= e),
    (t.entanglements[i] = t.entanglements[i] | 1073741824 | (n & 4194218));
}
function Z0(t, e) {
  var n = (t.entangledLanes |= e);
  for (t = t.entanglements; n; ) {
    var i = 31 - Bt(n),
      r = 1 << i;
    (r & e) | (t[i] & e) && (t[i] |= e), (n &= ~r);
  }
}
function J0(t) {
  return (t &= -t), 2 < t ? (8 < t ? (t & 134217727 ? 32 : 268435456) : 8) : 2;
}
function eE() {
  var t = Ee.p;
  return t !== 0 ? t : ((t = window.event), t === void 0 ? 32 : dA(t.type));
}
function Pb(t, e) {
  var n = Ee.p;
  try {
    return (Ee.p = t), e();
  } finally {
    Ee.p = n;
  }
}
var nr = Math.random().toString(36).slice(2),
  dt = "__reactFiber$" + nr,
  Ct = "__reactProps$" + nr,
  ra = "__reactContainer$" + nr,
  id = "__reactEvents$" + nr,
  Ub = "__reactListeners$" + nr,
  Lb = "__reactHandles$" + nr,
  N_ = "__reactResources$" + nr,
  Co = "__reactMarker$" + nr;
function bm(t) {
  delete t[dt], delete t[Ct], delete t[id], delete t[Ub], delete t[Lb];
}
function yr(t) {
  var e = t[dt];
  if (e) return e;
  for (var n = t.parentNode; n; ) {
    if ((e = n[ra] || n[dt])) {
      if (
        ((n = e.alternate),
        e.child !== null || (n !== null && n.child !== null))
      )
        for (t = ky(t); t !== null; ) {
          if ((n = t[dt])) return n;
          t = ky(t);
        }
      return e;
    }
    (t = n), (n = t.parentNode);
  }
  return null;
}
function sa(t) {
  if ((t = t[dt] || t[ra])) {
    var e = t.tag;
    if (e === 5 || e === 6 || e === 13 || e === 26 || e === 27 || e === 3)
      return t;
  }
  return null;
}
function $a(t) {
  var e = t.tag;
  if (e === 5 || e === 26 || e === 27 || e === 6) return t.stateNode;
  throw Error(U(33));
}
function bs(t) {
  var e = t[N_];
  return (
    e ||
      (e = t[N_] = { hoistableStyles: new Map(), hoistableScripts: new Map() }),
    e
  );
}
function Xe(t) {
  t[Co] = !0;
}
var tE = new Set(),
  nE = {};
function zr(t, e) {
  Bs(t, e), Bs(t + "Capture", e);
}
function Bs(t, e) {
  for (nE[t] = e, t = 0; t < e.length; t++) tE.add(e[t]);
}
var ii = !(
    typeof window > "u" ||
    typeof window.document > "u" ||
    typeof window.document.createElement > "u"
  ),
  Bb = RegExp(
    "^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"
  ),
  M_ = {},
  k_ = {};
function zb(t) {
  return nd.call(k_, t)
    ? !0
    : nd.call(M_, t)
    ? !1
    : Bb.test(t)
    ? (k_[t] = !0)
    : ((M_[t] = !0), !1);
}
function pu(t, e, n) {
  if (zb(e))
    if (n === null) t.removeAttribute(e);
    else {
      switch (typeof n) {
        case "undefined":
        case "function":
        case "symbol":
          t.removeAttribute(e);
          return;
        case "boolean":
          var i = e.toLowerCase().slice(0, 5);
          if (i !== "data-" && i !== "aria-") {
            t.removeAttribute(e);
            return;
          }
      }
      t.setAttribute(e, "" + n);
    }
}
function $l(t, e, n) {
  if (n === null) t.removeAttribute(e);
  else {
    switch (typeof n) {
      case "undefined":
      case "function":
      case "symbol":
      case "boolean":
        t.removeAttribute(e);
        return;
    }
    t.setAttribute(e, "" + n);
  }
}
function Un(t, e, n, i) {
  if (i === null) t.removeAttribute(n);
  else {
    switch (typeof i) {
      case "undefined":
      case "function":
      case "symbol":
      case "boolean":
        t.removeAttribute(n);
        return;
    }
    t.setAttributeNS(e, n, "" + i);
  }
}
function Gt(t) {
  switch (typeof t) {
    case "bigint":
    case "boolean":
    case "number":
    case "string":
    case "undefined":
      return t;
    case "object":
      return t;
    default:
      return "";
  }
}
function iE(t) {
  var e = t.type;
  return (
    (t = t.nodeName) &&
    t.toLowerCase() === "input" &&
    (e === "checkbox" || e === "radio")
  );
}
function jb(t) {
  var e = iE(t) ? "checked" : "value",
    n = Object.getOwnPropertyDescriptor(t.constructor.prototype, e),
    i = "" + t[e];
  if (
    !t.hasOwnProperty(e) &&
    typeof n < "u" &&
    typeof n.get == "function" &&
    typeof n.set == "function"
  ) {
    var r = n.get,
      s = n.set;
    return (
      Object.defineProperty(t, e, {
        configurable: !0,
        get: function () {
          return r.call(this);
        },
        set: function (a) {
          (i = "" + a), s.call(this, a);
        },
      }),
      Object.defineProperty(t, e, { enumerable: n.enumerable }),
      {
        getValue: function () {
          return i;
        },
        setValue: function (a) {
          i = "" + a;
        },
        stopTracking: function () {
          (t._valueTracker = null), delete t[e];
        },
      }
    );
  }
}
function Hu(t) {
  t._valueTracker || (t._valueTracker = jb(t));
}
function rE(t) {
  if (!t) return !1;
  var e = t._valueTracker;
  if (!e) return !0;
  var n = e.getValue(),
    i = "";
  return (
    t && (i = iE(t) ? (t.checked ? "true" : "false") : t.value),
    (t = i),
    t !== n ? (e.setValue(t), !0) : !1
  );
}
function Fu(t) {
  if (((t = t || (typeof document < "u" ? document : void 0)), typeof t > "u"))
    return null;
  try {
    return t.activeElement || t.body;
  } catch {
    return t.body;
  }
}
var qb = /[\n"\\]/g;
function $t(t) {
  return t.replace(qb, function (e) {
    return "\\" + e.charCodeAt(0).toString(16) + " ";
  });
}
function rd(t, e, n, i, r, s, a, l) {
  (t.name = ""),
    a != null &&
    typeof a != "function" &&
    typeof a != "symbol" &&
    typeof a != "boolean"
      ? (t.type = a)
      : t.removeAttribute("type"),
    e != null
      ? a === "number"
        ? ((e === 0 && t.value === "") || t.value != e) &&
          (t.value = "" + Gt(e))
        : t.value !== "" + Gt(e) && (t.value = "" + Gt(e))
      : (a !== "submit" && a !== "reset") || t.removeAttribute("value"),
    e != null
      ? sd(t, a, Gt(e))
      : n != null
      ? sd(t, a, Gt(n))
      : i != null && t.removeAttribute("value"),
    r == null && s != null && (t.defaultChecked = !!s),
    r != null &&
      (t.checked = r && typeof r != "function" && typeof r != "symbol"),
    l != null &&
    typeof l != "function" &&
    typeof l != "symbol" &&
    typeof l != "boolean"
      ? (t.name = "" + Gt(l))
      : t.removeAttribute("name");
}
function sE(t, e, n, i, r, s, a, l) {
  if (
    (s != null &&
      typeof s != "function" &&
      typeof s != "symbol" &&
      typeof s != "boolean" &&
      (t.type = s),
    e != null || n != null)
  ) {
    if (!((s !== "submit" && s !== "reset") || e != null)) return;
    (n = n != null ? "" + Gt(n) : ""),
      (e = e != null ? "" + Gt(e) : n),
      l || e === t.value || (t.value = e),
      (t.defaultValue = e);
  }
  (i = i ?? r),
    (i = typeof i != "function" && typeof i != "symbol" && !!i),
    (t.checked = l ? t.checked : !!i),
    (t.defaultChecked = !!i),
    a != null &&
      typeof a != "function" &&
      typeof a != "symbol" &&
      typeof a != "boolean" &&
      (t.name = a);
}
function sd(t, e, n) {
  (e === "number" && Fu(t.ownerDocument) === t) ||
    t.defaultValue === "" + n ||
    (t.defaultValue = "" + n);
}
function Is(t, e, n, i) {
  if (((t = t.options), e)) {
    e = {};
    for (var r = 0; r < n.length; r++) e["$" + n[r]] = !0;
    for (n = 0; n < t.length; n++)
      (r = e.hasOwnProperty("$" + t[n].value)),
        t[n].selected !== r && (t[n].selected = r),
        r && i && (t[n].defaultSelected = !0);
  } else {
    for (n = "" + Gt(n), e = null, r = 0; r < t.length; r++) {
      if (t[r].value === n) {
        (t[r].selected = !0), i && (t[r].defaultSelected = !0);
        return;
      }
      e !== null || t[r].disabled || (e = t[r]);
    }
    e !== null && (e.selected = !0);
  }
}
function aE(t, e, n) {
  if (
    e != null &&
    ((e = "" + Gt(e)), e !== t.value && (t.value = e), n == null)
  ) {
    t.defaultValue !== e && (t.defaultValue = e);
    return;
  }
  t.defaultValue = n != null ? "" + Gt(n) : "";
}
function oE(t, e, n, i) {
  if (e == null) {
    if (i != null) {
      if (n != null) throw Error(U(92));
      if (Qa(i)) {
        if (1 < i.length) throw Error(U(93));
        i = i[0];
      }
      n = i;
    }
    n == null && (n = ""), (e = n);
  }
  (n = Gt(e)),
    (t.defaultValue = n),
    (i = t.textContent),
    i === n && i !== "" && i !== null && (t.value = i);
}
function zs(t, e) {
  if (e) {
    var n = t.firstChild;
    if (n && n === t.lastChild && n.nodeType === 3) {
      n.nodeValue = e;
      return;
    }
  }
  t.textContent = e;
}
var Hb = new Set(
  "animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(
    " "
  )
);
function x_(t, e, n) {
  var i = e.indexOf("--") === 0;
  n == null || typeof n == "boolean" || n === ""
    ? i
      ? t.setProperty(e, "")
      : e === "float"
      ? (t.cssFloat = "")
      : (t[e] = "")
    : i
    ? t.setProperty(e, n)
    : typeof n != "number" || n === 0 || Hb.has(e)
    ? e === "float"
      ? (t.cssFloat = n)
      : (t[e] = ("" + n).trim())
    : (t[e] = n + "px");
}
function lE(t, e, n) {
  if (e != null && typeof e != "object") throw Error(U(62));
  if (((t = t.style), n != null)) {
    for (var i in n)
      !n.hasOwnProperty(i) ||
        (e != null && e.hasOwnProperty(i)) ||
        (i.indexOf("--") === 0
          ? t.setProperty(i, "")
          : i === "float"
          ? (t.cssFloat = "")
          : (t[i] = ""));
    for (var r in e)
      (i = e[r]), e.hasOwnProperty(r) && n[r] !== i && x_(t, r, i);
  } else for (var s in e) e.hasOwnProperty(s) && x_(t, s, e[s]);
}
function Im(t) {
  if (t.indexOf("-") === -1) return !1;
  switch (t) {
    case "annotation-xml":
    case "color-profile":
    case "font-face":
    case "font-face-src":
    case "font-face-uri":
    case "font-face-format":
    case "font-face-name":
    case "missing-glyph":
      return !1;
    default:
      return !0;
  }
}
var Fb = new Map([
    ["acceptCharset", "accept-charset"],
    ["htmlFor", "for"],
    ["httpEquiv", "http-equiv"],
    ["crossOrigin", "crossorigin"],
    ["accentHeight", "accent-height"],
    ["alignmentBaseline", "alignment-baseline"],
    ["arabicForm", "arabic-form"],
    ["baselineShift", "baseline-shift"],
    ["capHeight", "cap-height"],
    ["clipPath", "clip-path"],
    ["clipRule", "clip-rule"],
    ["colorInterpolation", "color-interpolation"],
    ["colorInterpolationFilters", "color-interpolation-filters"],
    ["colorProfile", "color-profile"],
    ["colorRendering", "color-rendering"],
    ["dominantBaseline", "dominant-baseline"],
    ["enableBackground", "enable-background"],
    ["fillOpacity", "fill-opacity"],
    ["fillRule", "fill-rule"],
    ["floodColor", "flood-color"],
    ["floodOpacity", "flood-opacity"],
    ["fontFamily", "font-family"],
    ["fontSize", "font-size"],
    ["fontSizeAdjust", "font-size-adjust"],
    ["fontStretch", "font-stretch"],
    ["fontStyle", "font-style"],
    ["fontVariant", "font-variant"],
    ["fontWeight", "font-weight"],
    ["glyphName", "glyph-name"],
    ["glyphOrientationHorizontal", "glyph-orientation-horizontal"],
    ["glyphOrientationVertical", "glyph-orientation-vertical"],
    ["horizAdvX", "horiz-adv-x"],
    ["horizOriginX", "horiz-origin-x"],
    ["imageRendering", "image-rendering"],
    ["letterSpacing", "letter-spacing"],
    ["lightingColor", "lighting-color"],
    ["markerEnd", "marker-end"],
    ["markerMid", "marker-mid"],
    ["markerStart", "marker-start"],
    ["overlinePosition", "overline-position"],
    ["overlineThickness", "overline-thickness"],
    ["paintOrder", "paint-order"],
    ["panose-1", "panose-1"],
    ["pointerEvents", "pointer-events"],
    ["renderingIntent", "rendering-intent"],
    ["shapeRendering", "shape-rendering"],
    ["stopColor", "stop-color"],
    ["stopOpacity", "stop-opacity"],
    ["strikethroughPosition", "strikethrough-position"],
    ["strikethroughThickness", "strikethrough-thickness"],
    ["strokeDasharray", "stroke-dasharray"],
    ["strokeDashoffset", "stroke-dashoffset"],
    ["strokeLinecap", "stroke-linecap"],
    ["strokeLinejoin", "stroke-linejoin"],
    ["strokeMiterlimit", "stroke-miterlimit"],
    ["strokeOpacity", "stroke-opacity"],
    ["strokeWidth", "stroke-width"],
    ["textAnchor", "text-anchor"],
    ["textDecoration", "text-decoration"],
    ["textRendering", "text-rendering"],
    ["transformOrigin", "transform-origin"],
    ["underlinePosition", "underline-position"],
    ["underlineThickness", "underline-thickness"],
    ["unicodeBidi", "unicode-bidi"],
    ["unicodeRange", "unicode-range"],
    ["unitsPerEm", "units-per-em"],
    ["vAlphabetic", "v-alphabetic"],
    ["vHanging", "v-hanging"],
    ["vIdeographic", "v-ideographic"],
    ["vMathematical", "v-mathematical"],
    ["vectorEffect", "vector-effect"],
    ["vertAdvY", "vert-adv-y"],
    ["vertOriginX", "vert-origin-x"],
    ["vertOriginY", "vert-origin-y"],
    ["wordSpacing", "word-spacing"],
    ["writingMode", "writing-mode"],
    ["xmlnsXlink", "xmlns:xlink"],
    ["xHeight", "x-height"],
  ]),
  Gb =
    /^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;
function gu(t) {
  return Gb.test("" + t)
    ? "javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')"
    : t;
}
var ad = null;
function Cm(t) {
  return (
    (t = t.target || t.srcElement || window),
    t.correspondingUseElement && (t = t.correspondingUseElement),
    t.nodeType === 3 ? t.parentNode : t
  );
}
var gs = null,
  Cs = null;
function V_(t) {
  var e = sa(t);
  if (e && (t = e.stateNode)) {
    var n = t[Ct] || null;
    e: switch (((t = e.stateNode), e.type)) {
      case "input":
        if (
          (rd(
            t,
            n.value,
            n.defaultValue,
            n.defaultValue,
            n.checked,
            n.defaultChecked,
            n.type,
            n.name
          ),
          (e = n.name),
          n.type === "radio" && e != null)
        ) {
          for (n = t; n.parentNode; ) n = n.parentNode;
          for (
            n = n.querySelectorAll(
              'input[name="' + $t("" + e) + '"][type="radio"]'
            ),
              e = 0;
            e < n.length;
            e++
          ) {
            var i = n[e];
            if (i !== t && i.form === t.form) {
              var r = i[Ct] || null;
              if (!r) throw Error(U(90));
              rd(
                i,
                r.value,
                r.defaultValue,
                r.defaultValue,
                r.checked,
                r.defaultChecked,
                r.type,
                r.name
              );
            }
          }
          for (e = 0; e < n.length; e++) (i = n[e]), i.form === t.form && rE(i);
        }
        break e;
      case "textarea":
        aE(t, n.value, n.defaultValue);
        break e;
      case "select":
        (e = n.value), e != null && Is(t, !!n.multiple, e, !1);
    }
  }
}
var rf = !1;
function uE(t, e, n) {
  if (rf) return t(e, n);
  rf = !0;
  try {
    var i = t(e);
    return i;
  } finally {
    if (
      ((rf = !1),
      (gs !== null || Cs !== null) &&
        (Kc(), gs && ((e = gs), (t = Cs), (Cs = gs = null), V_(e), t)))
    )
      for (e = 0; e < t.length; e++) V_(t[e]);
  }
}
function Do(t, e) {
  var n = t.stateNode;
  if (n === null) return null;
  var i = n[Ct] || null;
  if (i === null) return null;
  n = i[e];
  e: switch (e) {
    case "onClick":
    case "onClickCapture":
    case "onDoubleClick":
    case "onDoubleClickCapture":
    case "onMouseDown":
    case "onMouseDownCapture":
    case "onMouseMove":
    case "onMouseMoveCapture":
    case "onMouseUp":
    case "onMouseUpCapture":
    case "onMouseEnter":
      (i = !i.disabled) ||
        ((t = t.type),
        (i = !(
          t === "button" ||
          t === "input" ||
          t === "select" ||
          t === "textarea"
        ))),
        (t = !i);
      break e;
    default:
      t = !1;
  }
  if (t) return null;
  if (n && typeof n != "function") throw Error(U(231, e, typeof n));
  return n;
}
var od = !1;
if (ii)
  try {
    var Va = {};
    Object.defineProperty(Va, "passive", {
      get: function () {
        od = !0;
      },
    }),
      window.addEventListener("test", Va, Va),
      window.removeEventListener("test", Va, Va);
  } catch {
    od = !1;
  }
var Mi = null,
  Dm = null,
  _u = null;
function cE() {
  if (_u) return _u;
  var t,
    e = Dm,
    n = e.length,
    i,
    r = "value" in Mi ? Mi.value : Mi.textContent,
    s = r.length;
  for (t = 0; t < n && e[t] === r[t]; t++);
  var a = n - t;
  for (i = 1; i <= a && e[n - i] === r[s - i]; i++);
  return (_u = r.slice(t, 1 < i ? 1 - i : void 0));
}
function yu(t) {
  var e = t.keyCode;
  return (
    "charCode" in t
      ? ((t = t.charCode), t === 0 && e === 13 && (t = 13))
      : (t = e),
    t === 10 && (t = 13),
    32 <= t || t === 13 ? t : 0
  );
}
function Yl() {
  return !0;
}
function P_() {
  return !1;
}
function Dt(t) {
  function e(n, i, r, s, a) {
    (this._reactName = n),
      (this._targetInst = r),
      (this.type = i),
      (this.nativeEvent = s),
      (this.target = a),
      (this.currentTarget = null);
    for (var l in t)
      t.hasOwnProperty(l) && ((n = t[l]), (this[l] = n ? n(s) : s[l]));
    return (
      (this.isDefaultPrevented = (
        s.defaultPrevented != null ? s.defaultPrevented : s.returnValue === !1
      )
        ? Yl
        : P_),
      (this.isPropagationStopped = P_),
      this
    );
  }
  return (
    Te(e.prototype, {
      preventDefault: function () {
        this.defaultPrevented = !0;
        var n = this.nativeEvent;
        n &&
          (n.preventDefault
            ? n.preventDefault()
            : typeof n.returnValue != "unknown" && (n.returnValue = !1),
          (this.isDefaultPrevented = Yl));
      },
      stopPropagation: function () {
        var n = this.nativeEvent;
        n &&
          (n.stopPropagation
            ? n.stopPropagation()
            : typeof n.cancelBubble != "unknown" && (n.cancelBubble = !0),
          (this.isPropagationStopped = Yl));
      },
      persist: function () {},
      isPersistent: Yl,
    }),
    e
  );
}
var jr = {
    eventPhase: 0,
    bubbles: 0,
    cancelable: 0,
    timeStamp: function (t) {
      return t.timeStamp || Date.now();
    },
    defaultPrevented: 0,
    isTrusted: 0,
  },
  Uc = Dt(jr),
  tl = Te({}, jr, { view: 0, detail: 0 }),
  Kb = Dt(tl),
  sf,
  af,
  Pa,
  Lc = Te({}, tl, {
    screenX: 0,
    screenY: 0,
    clientX: 0,
    clientY: 0,
    pageX: 0,
    pageY: 0,
    ctrlKey: 0,
    shiftKey: 0,
    altKey: 0,
    metaKey: 0,
    getModifierState: Om,
    button: 0,
    buttons: 0,
    relatedTarget: function (t) {
      return t.relatedTarget === void 0
        ? t.fromElement === t.srcElement
          ? t.toElement
          : t.fromElement
        : t.relatedTarget;
    },
    movementX: function (t) {
      return "movementX" in t
        ? t.movementX
        : (t !== Pa &&
            (Pa && t.type === "mousemove"
              ? ((sf = t.screenX - Pa.screenX), (af = t.screenY - Pa.screenY))
              : (af = sf = 0),
            (Pa = t)),
          sf);
    },
    movementY: function (t) {
      return "movementY" in t ? t.movementY : af;
    },
  }),
  U_ = Dt(Lc),
  Qb = Te({}, Lc, { dataTransfer: 0 }),
  $b = Dt(Qb),
  Yb = Te({}, tl, { relatedTarget: 0 }),
  of = Dt(Yb),
  Xb = Te({}, jr, { animationName: 0, elapsedTime: 0, pseudoElement: 0 }),
  Wb = Dt(Xb),
  Zb = Te({}, jr, {
    clipboardData: function (t) {
      return "clipboardData" in t ? t.clipboardData : window.clipboardData;
    },
  }),
  Jb = Dt(Zb),
  e1 = Te({}, jr, { data: 0 }),
  L_ = Dt(e1),
  t1 = {
    Esc: "Escape",
    Spacebar: " ",
    Left: "ArrowLeft",
    Up: "ArrowUp",
    Right: "ArrowRight",
    Down: "ArrowDown",
    Del: "Delete",
    Win: "OS",
    Menu: "ContextMenu",
    Apps: "ContextMenu",
    Scroll: "ScrollLock",
    MozPrintableKey: "Unidentified",
  },
  n1 = {
    8: "Backspace",
    9: "Tab",
    12: "Clear",
    13: "Enter",
    16: "Shift",
    17: "Control",
    18: "Alt",
    19: "Pause",
    20: "CapsLock",
    27: "Escape",
    32: " ",
    33: "PageUp",
    34: "PageDown",
    35: "End",
    36: "Home",
    37: "ArrowLeft",
    38: "ArrowUp",
    39: "ArrowRight",
    40: "ArrowDown",
    45: "Insert",
    46: "Delete",
    112: "F1",
    113: "F2",
    114: "F3",
    115: "F4",
    116: "F5",
    117: "F6",
    118: "F7",
    119: "F8",
    120: "F9",
    121: "F10",
    122: "F11",
    123: "F12",
    144: "NumLock",
    145: "ScrollLock",
    224: "Meta",
  },
  i1 = {
    Alt: "altKey",
    Control: "ctrlKey",
    Meta: "metaKey",
    Shift: "shiftKey",
  };
function r1(t) {
  var e = this.nativeEvent;
  return e.getModifierState ? e.getModifierState(t) : (t = i1[t]) ? !!e[t] : !1;
}
function Om() {
  return r1;
}
var s1 = Te({}, tl, {
    key: function (t) {
      if (t.key) {
        var e = t1[t.key] || t.key;
        if (e !== "Unidentified") return e;
      }
      return t.type === "keypress"
        ? ((t = yu(t)), t === 13 ? "Enter" : String.fromCharCode(t))
        : t.type === "keydown" || t.type === "keyup"
        ? n1[t.keyCode] || "Unidentified"
        : "";
    },
    code: 0,
    location: 0,
    ctrlKey: 0,
    shiftKey: 0,
    altKey: 0,
    metaKey: 0,
    repeat: 0,
    locale: 0,
    getModifierState: Om,
    charCode: function (t) {
      return t.type === "keypress" ? yu(t) : 0;
    },
    keyCode: function (t) {
      return t.type === "keydown" || t.type === "keyup" ? t.keyCode : 0;
    },
    which: function (t) {
      return t.type === "keypress"
        ? yu(t)
        : t.type === "keydown" || t.type === "keyup"
        ? t.keyCode
        : 0;
    },
  }),
  a1 = Dt(s1),
  o1 = Te({}, Lc, {
    pointerId: 0,
    width: 0,
    height: 0,
    pressure: 0,
    tangentialPressure: 0,
    tiltX: 0,
    tiltY: 0,
    twist: 0,
    pointerType: 0,
    isPrimary: 0,
  }),
  B_ = Dt(o1),
  l1 = Te({}, tl, {
    touches: 0,
    targetTouches: 0,
    changedTouches: 0,
    altKey: 0,
    metaKey: 0,
    ctrlKey: 0,
    shiftKey: 0,
    getModifierState: Om,
  }),
  u1 = Dt(l1),
  c1 = Te({}, jr, { propertyName: 0, elapsedTime: 0, pseudoElement: 0 }),
  h1 = Dt(c1),
  f1 = Te({}, Lc, {
    deltaX: function (t) {
      return "deltaX" in t ? t.deltaX : "wheelDeltaX" in t ? -t.wheelDeltaX : 0;
    },
    deltaY: function (t) {
      return "deltaY" in t
        ? t.deltaY
        : "wheelDeltaY" in t
        ? -t.wheelDeltaY
        : "wheelDelta" in t
        ? -t.wheelDelta
        : 0;
    },
    deltaZ: 0,
    deltaMode: 0,
  }),
  d1 = Dt(f1),
  m1 = Te({}, jr, { newState: 0, oldState: 0 }),
  p1 = Dt(m1),
  g1 = [9, 13, 27, 32],
  Nm = ii && "CompositionEvent" in window,
  ro = null;
ii && "documentMode" in document && (ro = document.documentMode);
var _1 = ii && "TextEvent" in window && !ro,
  hE = ii && (!Nm || (ro && 8 < ro && 11 >= ro)),
  z_ = String.fromCharCode(32),
  j_ = !1;
function fE(t, e) {
  switch (t) {
    case "keyup":
      return g1.indexOf(e.keyCode) !== -1;
    case "keydown":
      return e.keyCode !== 229;
    case "keypress":
    case "mousedown":
    case "focusout":
      return !0;
    default:
      return !1;
  }
}
function dE(t) {
  return (t = t.detail), typeof t == "object" && "data" in t ? t.data : null;
}
var _s = !1;
function y1(t, e) {
  switch (t) {
    case "compositionend":
      return dE(e);
    case "keypress":
      return e.which !== 32 ? null : ((j_ = !0), z_);
    case "textInput":
      return (t = e.data), t === z_ && j_ ? null : t;
    default:
      return null;
  }
}
function v1(t, e) {
  if (_s)
    return t === "compositionend" || (!Nm && fE(t, e))
      ? ((t = cE()), (_u = Dm = Mi = null), (_s = !1), t)
      : null;
  switch (t) {
    case "paste":
      return null;
    case "keypress":
      if (!(e.ctrlKey || e.altKey || e.metaKey) || (e.ctrlKey && e.altKey)) {
        if (e.char && 1 < e.char.length) return e.char;
        if (e.which) return String.fromCharCode(e.which);
      }
      return null;
    case "compositionend":
      return hE && e.locale !== "ko" ? null : e.data;
    default:
      return null;
  }
}
var E1 = {
  color: !0,
  date: !0,
  datetime: !0,
  "datetime-local": !0,
  email: !0,
  month: !0,
  number: !0,
  password: !0,
  range: !0,
  search: !0,
  tel: !0,
  text: !0,
  time: !0,
  url: !0,
  week: !0,
};
function q_(t) {
  var e = t && t.nodeName && t.nodeName.toLowerCase();
  return e === "input" ? !!E1[t.type] : e === "textarea";
}
function mE(t, e, n, i) {
  gs ? (Cs ? Cs.push(i) : (Cs = [i])) : (gs = i),
    (e = ac(e, "onChange")),
    0 < e.length &&
      ((n = new Uc("onChange", "change", null, n, i)),
      t.push({ event: n, listeners: e }));
}
var so = null,
  Oo = null;
function T1(t) {
  eA(t, 0);
}
function Bc(t) {
  var e = $a(t);
  if (rE(e)) return t;
}
function H_(t, e) {
  if (t === "change") return e;
}
var pE = !1;
if (ii) {
  var lf;
  if (ii) {
    var uf = "oninput" in document;
    if (!uf) {
      var F_ = document.createElement("div");
      F_.setAttribute("oninput", "return;"),
        (uf = typeof F_.oninput == "function");
    }
    lf = uf;
  } else lf = !1;
  pE = lf && (!document.documentMode || 9 < document.documentMode);
}
function G_() {
  so && (so.detachEvent("onpropertychange", gE), (Oo = so = null));
}
function gE(t) {
  if (t.propertyName === "value" && Bc(Oo)) {
    var e = [];
    mE(e, Oo, t, Cm(t)), uE(T1, e);
  }
}
function A1(t, e, n) {
  t === "focusin"
    ? (G_(), (so = e), (Oo = n), so.attachEvent("onpropertychange", gE))
    : t === "focusout" && G_();
}
function w1(t) {
  if (t === "selectionchange" || t === "keyup" || t === "keydown")
    return Bc(Oo);
}
function S1(t, e) {
  if (t === "click") return Bc(e);
}
function R1(t, e) {
  if (t === "input" || t === "change") return Bc(e);
}
function b1(t, e) {
  return (t === e && (t !== 0 || 1 / t === 1 / e)) || (t !== t && e !== e);
}
var jt = typeof Object.is == "function" ? Object.is : b1;
function No(t, e) {
  if (jt(t, e)) return !0;
  if (typeof t != "object" || t === null || typeof e != "object" || e === null)
    return !1;
  var n = Object.keys(t),
    i = Object.keys(e);
  if (n.length !== i.length) return !1;
  for (i = 0; i < n.length; i++) {
    var r = n[i];
    if (!nd.call(e, r) || !jt(t[r], e[r])) return !1;
  }
  return !0;
}
function K_(t) {
  for (; t && t.firstChild; ) t = t.firstChild;
  return t;
}
function Q_(t, e) {
  var n = K_(t);
  t = 0;
  for (var i; n; ) {
    if (n.nodeType === 3) {
      if (((i = t + n.textContent.length), t <= e && i >= e))
        return { node: n, offset: e - t };
      t = i;
    }
    e: {
      for (; n; ) {
        if (n.nextSibling) {
          n = n.nextSibling;
          break e;
        }
        n = n.parentNode;
      }
      n = void 0;
    }
    n = K_(n);
  }
}
function _E(t, e) {
  return t && e
    ? t === e
      ? !0
      : t && t.nodeType === 3
      ? !1
      : e && e.nodeType === 3
      ? _E(t, e.parentNode)
      : "contains" in t
      ? t.contains(e)
      : t.compareDocumentPosition
      ? !!(t.compareDocumentPosition(e) & 16)
      : !1
    : !1;
}
function yE(t) {
  t =
    t != null && t.ownerDocument != null && t.ownerDocument.defaultView != null
      ? t.ownerDocument.defaultView
      : window;
  for (var e = Fu(t.document); e instanceof t.HTMLIFrameElement; ) {
    try {
      var n = typeof e.contentWindow.location.href == "string";
    } catch {
      n = !1;
    }
    if (n) t = e.contentWindow;
    else break;
    e = Fu(t.document);
  }
  return e;
}
function Mm(t) {
  var e = t && t.nodeName && t.nodeName.toLowerCase();
  return (
    e &&
    ((e === "input" &&
      (t.type === "text" ||
        t.type === "search" ||
        t.type === "tel" ||
        t.type === "url" ||
        t.type === "password")) ||
      e === "textarea" ||
      t.contentEditable === "true")
  );
}
function I1(t, e) {
  var n = yE(e);
  e = t.focusedElem;
  var i = t.selectionRange;
  if (
    n !== e &&
    e &&
    e.ownerDocument &&
    _E(e.ownerDocument.documentElement, e)
  ) {
    if (i !== null && Mm(e)) {
      if (
        ((t = i.start),
        (n = i.end),
        n === void 0 && (n = t),
        "selectionStart" in e)
      )
        (e.selectionStart = t), (e.selectionEnd = Math.min(n, e.value.length));
      else if (
        ((n = ((t = e.ownerDocument || document) && t.defaultView) || window),
        n.getSelection)
      ) {
        n = n.getSelection();
        var r = e.textContent.length,
          s = Math.min(i.start, r);
        (i = i.end === void 0 ? s : Math.min(i.end, r)),
          !n.extend && s > i && ((r = i), (i = s), (s = r)),
          (r = Q_(e, s));
        var a = Q_(e, i);
        r &&
          a &&
          (n.rangeCount !== 1 ||
            n.anchorNode !== r.node ||
            n.anchorOffset !== r.offset ||
            n.focusNode !== a.node ||
            n.focusOffset !== a.offset) &&
          ((t = t.createRange()),
          t.setStart(r.node, r.offset),
          n.removeAllRanges(),
          s > i
            ? (n.addRange(t), n.extend(a.node, a.offset))
            : (t.setEnd(a.node, a.offset), n.addRange(t)));
      }
    }
    for (t = [], n = e; (n = n.parentNode); )
      n.nodeType === 1 &&
        t.push({ element: n, left: n.scrollLeft, top: n.scrollTop });
    for (typeof e.focus == "function" && e.focus(), e = 0; e < t.length; e++)
      (n = t[e]),
        (n.element.scrollLeft = n.left),
        (n.element.scrollTop = n.top);
  }
}
var C1 = ii && "documentMode" in document && 11 >= document.documentMode,
  ys = null,
  ld = null,
  ao = null,
  ud = !1;
function $_(t, e, n) {
  var i = n.window === n ? n.document : n.nodeType === 9 ? n : n.ownerDocument;
  ud ||
    ys == null ||
    ys !== Fu(i) ||
    ((i = ys),
    "selectionStart" in i && Mm(i)
      ? (i = { start: i.selectionStart, end: i.selectionEnd })
      : ((i = (
          (i.ownerDocument && i.ownerDocument.defaultView) ||
          window
        ).getSelection()),
        (i = {
          anchorNode: i.anchorNode,
          anchorOffset: i.anchorOffset,
          focusNode: i.focusNode,
          focusOffset: i.focusOffset,
        })),
    (ao && No(ao, i)) ||
      ((ao = i),
      (i = ac(ld, "onSelect")),
      0 < i.length &&
        ((e = new Uc("onSelect", "select", null, e, n)),
        t.push({ event: e, listeners: i }),
        (e.target = ys))));
}
function dr(t, e) {
  var n = {};
  return (
    (n[t.toLowerCase()] = e.toLowerCase()),
    (n["Webkit" + t] = "webkit" + e),
    (n["Moz" + t] = "moz" + e),
    n
  );
}
var vs = {
    animationend: dr("Animation", "AnimationEnd"),
    animationiteration: dr("Animation", "AnimationIteration"),
    animationstart: dr("Animation", "AnimationStart"),
    transitionrun: dr("Transition", "TransitionRun"),
    transitionstart: dr("Transition", "TransitionStart"),
    transitioncancel: dr("Transition", "TransitionCancel"),
    transitionend: dr("Transition", "TransitionEnd"),
  },
  cf = {},
  vE = {};
ii &&
  ((vE = document.createElement("div").style),
  "AnimationEvent" in window ||
    (delete vs.animationend.animation,
    delete vs.animationiteration.animation,
    delete vs.animationstart.animation),
  "TransitionEvent" in window || delete vs.transitionend.transition);
function qr(t) {
  if (cf[t]) return cf[t];
  if (!vs[t]) return t;
  var e = vs[t],
    n;
  for (n in e) if (e.hasOwnProperty(n) && n in vE) return (cf[t] = e[n]);
  return t;
}
var EE = qr("animationend"),
  TE = qr("animationiteration"),
  AE = qr("animationstart"),
  D1 = qr("transitionrun"),
  O1 = qr("transitionstart"),
  N1 = qr("transitioncancel"),
  wE = qr("transitionend"),
  SE = new Map(),
  Y_ =
    "abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(
      " "
    );
function hn(t, e) {
  SE.set(t, e), zr(e, [t]);
}
var Ft = [],
  Es = 0,
  km = 0;
function zc() {
  for (var t = Es, e = (km = Es = 0); e < t; ) {
    var n = Ft[e];
    Ft[e++] = null;
    var i = Ft[e];
    Ft[e++] = null;
    var r = Ft[e];
    Ft[e++] = null;
    var s = Ft[e];
    if (((Ft[e++] = null), i !== null && r !== null)) {
      var a = i.pending;
      a === null ? (r.next = r) : ((r.next = a.next), (a.next = r)),
        (i.pending = r);
    }
    s !== 0 && RE(n, r, s);
  }
}
function jc(t, e, n, i) {
  (Ft[Es++] = t),
    (Ft[Es++] = e),
    (Ft[Es++] = n),
    (Ft[Es++] = i),
    (km |= i),
    (t.lanes |= i),
    (t = t.alternate),
    t !== null && (t.lanes |= i);
}
function xm(t, e, n, i) {
  return jc(t, e, n, i), Gu(t);
}
function Gi(t, e) {
  return jc(t, null, null, e), Gu(t);
}
function RE(t, e, n) {
  t.lanes |= n;
  var i = t.alternate;
  i !== null && (i.lanes |= n);
  for (var r = !1, s = t.return; s !== null; )
    (s.childLanes |= n),
      (i = s.alternate),
      i !== null && (i.childLanes |= n),
      s.tag === 22 &&
        ((t = s.stateNode), t === null || t._visibility & 1 || (r = !0)),
      (t = s),
      (s = s.return);
  r &&
    e !== null &&
    t.tag === 3 &&
    ((s = t.stateNode),
    (r = 31 - Bt(n)),
    (s = s.hiddenUpdates),
    (t = s[r]),
    t === null ? (s[r] = [e]) : t.push(e),
    (e.lane = n | 536870912));
}
function Gu(t) {
  if (50 < vo) throw ((vo = 0), (Nd = null), Error(U(185)));
  for (var e = t.return; e !== null; ) (t = e), (e = t.return);
  return t.tag === 3 ? t.stateNode : null;
}
var Ts = {},
  X_ = new WeakMap();
function Yt(t, e) {
  if (typeof t == "object" && t !== null) {
    var n = X_.get(t);
    return n !== void 0
      ? n
      : ((e = { value: t, source: e, stack: D_(e) }), X_.set(t, e), e);
  }
  return { value: t, source: e, stack: D_(e) };
}
var As = [],
  ws = 0,
  Ku = null,
  Qu = 0,
  Kt = [],
  Qt = 0,
  Ar = null,
  Gn = 1,
  Kn = "";
function pr(t, e) {
  (As[ws++] = Qu), (As[ws++] = Ku), (Ku = t), (Qu = e);
}
function bE(t, e, n) {
  (Kt[Qt++] = Gn), (Kt[Qt++] = Kn), (Kt[Qt++] = Ar), (Ar = t);
  var i = Gn;
  t = Kn;
  var r = 32 - Bt(i) - 1;
  (i &= ~(1 << r)), (n += 1);
  var s = 32 - Bt(e) + r;
  if (30 < s) {
    var a = r - (r % 5);
    (s = (i & ((1 << a) - 1)).toString(32)),
      (i >>= a),
      (r -= a),
      (Gn = (1 << (32 - Bt(e) + r)) | (n << r) | i),
      (Kn = s + t);
  } else (Gn = (1 << s) | (n << r) | i), (Kn = t);
}
function Vm(t) {
  t.return !== null && (pr(t, 1), bE(t, 1, 0));
}
function Pm(t) {
  for (; t === Ku; )
    (Ku = As[--ws]), (As[ws] = null), (Qu = As[--ws]), (As[ws] = null);
  for (; t === Ar; )
    (Ar = Kt[--Qt]),
      (Kt[Qt] = null),
      (Kn = Kt[--Qt]),
      (Kt[Qt] = null),
      (Gn = Kt[--Qt]),
      (Kt[Qt] = null);
}
var Et = null,
  it = null,
  ue = !1,
  sn = null,
  mn = !1,
  cd = Error(U(519));
function Dr(t) {
  var e = Error(U(418, ""));
  throw (Mo(Yt(e, t)), cd);
}
function W_(t) {
  var e = t.stateNode,
    n = t.type,
    i = t.memoizedProps;
  switch (((e[dt] = t), (e[Ct] = i), n)) {
    case "dialog":
      re("cancel", e), re("close", e);
      break;
    case "iframe":
    case "object":
    case "embed":
      re("load", e);
      break;
    case "video":
    case "audio":
      for (n = 0; n < Vo.length; n++) re(Vo[n], e);
      break;
    case "source":
      re("error", e);
      break;
    case "img":
    case "image":
    case "link":
      re("error", e), re("load", e);
      break;
    case "details":
      re("toggle", e);
      break;
    case "input":
      re("invalid", e),
        sE(
          e,
          i.value,
          i.defaultValue,
          i.checked,
          i.defaultChecked,
          i.type,
          i.name,
          !0
        ),
        Hu(e);
      break;
    case "select":
      re("invalid", e);
      break;
    case "textarea":
      re("invalid", e), oE(e, i.value, i.defaultValue, i.children), Hu(e);
  }
  (n = i.children),
    (typeof n != "string" && typeof n != "number" && typeof n != "bigint") ||
    e.textContent === "" + n ||
    i.suppressHydrationWarning === !0 ||
    nA(e.textContent, n)
      ? (i.popover != null && (re("beforetoggle", e), re("toggle", e)),
        i.onScroll != null && re("scroll", e),
        i.onScrollEnd != null && re("scrollend", e),
        i.onClick != null && (e.onclick = $c),
        (e = !0))
      : (e = !1),
    e || Dr(t);
}
function Z_(t) {
  for (Et = t.return; Et; )
    switch (Et.tag) {
      case 3:
      case 27:
        mn = !0;
        return;
      case 5:
      case 13:
        mn = !1;
        return;
      default:
        Et = Et.return;
    }
}
function Ua(t) {
  if (t !== Et) return !1;
  if (!ue) return Z_(t), (ue = !0), !1;
  var e = !1,
    n;
  if (
    ((n = t.tag !== 3 && t.tag !== 27) &&
      ((n = t.tag === 5) &&
        ((n = t.type),
        (n = !(n !== "form" && n !== "button") || Ld(t.type, t.memoizedProps))),
      (n = !n)),
    n && (e = !0),
    e && it && Dr(t),
    Z_(t),
    t.tag === 13)
  ) {
    if (((t = t.memoizedState), (t = t !== null ? t.dehydrated : null), !t))
      throw Error(U(317));
    e: {
      for (t = t.nextSibling, e = 0; t; ) {
        if (t.nodeType === 8)
          if (((n = t.data), n === "/$")) {
            if (e === 0) {
              it = on(t.nextSibling);
              break e;
            }
            e--;
          } else (n !== "$" && n !== "$!" && n !== "$?") || e++;
        t = t.nextSibling;
      }
      it = null;
    }
  } else it = Et ? on(t.stateNode.nextSibling) : null;
  return !0;
}
function nl() {
  (it = Et = null), (ue = !1);
}
function Mo(t) {
  sn === null ? (sn = [t]) : sn.push(t);
}
var oo = Error(U(460)),
  IE = Error(U(474)),
  hd = { then: function () {} };
function J_(t) {
  return (t = t.status), t === "fulfilled" || t === "rejected";
}
function Xl() {}
function CE(t, e, n) {
  switch (
    ((n = t[n]),
    n === void 0 ? t.push(e) : n !== e && (e.then(Xl, Xl), (e = n)),
    e.status)
  ) {
    case "fulfilled":
      return e.value;
    case "rejected":
      throw ((t = e.reason), t === oo ? Error(U(483)) : t);
    default:
      if (typeof e.status == "string") e.then(Xl, Xl);
      else {
        if (((t = ge), t !== null && 100 < t.shellSuspendCounter))
          throw Error(U(482));
        (t = e),
          (t.status = "pending"),
          t.then(
            function (i) {
              if (e.status === "pending") {
                var r = e;
                (r.status = "fulfilled"), (r.value = i);
              }
            },
            function (i) {
              if (e.status === "pending") {
                var r = e;
                (r.status = "rejected"), (r.reason = i);
              }
            }
          );
      }
      switch (e.status) {
        case "fulfilled":
          return e.value;
        case "rejected":
          throw ((t = e.reason), t === oo ? Error(U(483)) : t);
      }
      throw ((lo = e), oo);
  }
}
var lo = null;
function ey() {
  if (lo === null) throw Error(U(459));
  var t = lo;
  return (lo = null), t;
}
var Ds = null,
  ko = 0;
function Wl(t) {
  var e = ko;
  return (ko += 1), Ds === null && (Ds = []), CE(Ds, t, e);
}
function La(t, e) {
  (e = e.props.ref), (t.ref = e !== void 0 ? e : null);
}
function Zl(t, e) {
  throw e.$$typeof === yb
    ? Error(U(525))
    : ((t = Object.prototype.toString.call(e)),
      Error(
        U(
          31,
          t === "[object Object]"
            ? "object with keys {" + Object.keys(e).join(", ") + "}"
            : t
        )
      ));
}
function ty(t) {
  var e = t._init;
  return e(t._payload);
}
function DE(t) {
  function e(E, v) {
    if (t) {
      var w = E.deletions;
      w === null ? ((E.deletions = [v]), (E.flags |= 16)) : w.push(v);
    }
  }
  function n(E, v) {
    if (!t) return null;
    for (; v !== null; ) e(E, v), (v = v.sibling);
    return null;
  }
  function i(E) {
    for (var v = new Map(); E !== null; )
      E.key !== null ? v.set(E.key, E) : v.set(E.index, E), (E = E.sibling);
    return v;
  }
  function r(E, v) {
    return (E = Ui(E, v)), (E.index = 0), (E.sibling = null), E;
  }
  function s(E, v, w) {
    return (
      (E.index = w),
      t
        ? ((w = E.alternate),
          w !== null
            ? ((w = w.index), w < v ? ((E.flags |= 33554434), v) : w)
            : ((E.flags |= 33554434), v))
        : ((E.flags |= 1048576), v)
    );
  }
  function a(E) {
    return t && E.alternate === null && (E.flags |= 33554434), E;
  }
  function l(E, v, w, O) {
    return v === null || v.tag !== 6
      ? ((v = Af(w, E.mode, O)), (v.return = E), v)
      : ((v = r(v, w)), (v.return = E), v);
  }
  function u(E, v, w, O) {
    var B = w.type;
    return B === ms
      ? f(E, v, w.props.children, O, w.key)
      : v !== null &&
        (v.elementType === B ||
          (typeof B == "object" &&
            B !== null &&
            B.$$typeof === Ei &&
            ty(B) === v.type))
      ? ((v = r(v, w.props)), La(v, w), (v.return = E), v)
      : ((v = wu(w.type, w.key, w.props, null, E.mode, O)),
        La(v, w),
        (v.return = E),
        v);
  }
  function c(E, v, w, O) {
    return v === null ||
      v.tag !== 4 ||
      v.stateNode.containerInfo !== w.containerInfo ||
      v.stateNode.implementation !== w.implementation
      ? ((v = wf(w, E.mode, O)), (v.return = E), v)
      : ((v = r(v, w.children || [])), (v.return = E), v);
  }
  function f(E, v, w, O, B) {
    return v === null || v.tag !== 7
      ? ((v = Sr(w, E.mode, O, B)), (v.return = E), v)
      : ((v = r(v, w)), (v.return = E), v);
  }
  function p(E, v, w) {
    if (
      (typeof v == "string" && v !== "") ||
      typeof v == "number" ||
      typeof v == "bigint"
    )
      return (v = Af("" + v, E.mode, w)), (v.return = E), v;
    if (typeof v == "object" && v !== null) {
      switch (v.$$typeof) {
        case Gl:
          return (
            (w = wu(v.type, v.key, v.props, null, E.mode, w)),
            La(w, v),
            (w.return = E),
            w
          );
        case Ga:
          return (v = wf(v, E.mode, w)), (v.return = E), v;
        case Ei:
          var O = v._init;
          return (v = O(v._payload)), p(E, v, w);
      }
      if (Qa(v) || xa(v))
        return (v = Sr(v, E.mode, w, null)), (v.return = E), v;
      if (typeof v.then == "function") return p(E, Wl(v), w);
      if (v.$$typeof === Fn) return p(E, Jl(E, v), w);
      Zl(E, v);
    }
    return null;
  }
  function m(E, v, w, O) {
    var B = v !== null ? v.key : null;
    if (
      (typeof w == "string" && w !== "") ||
      typeof w == "number" ||
      typeof w == "bigint"
    )
      return B !== null ? null : l(E, v, "" + w, O);
    if (typeof w == "object" && w !== null) {
      switch (w.$$typeof) {
        case Gl:
          return w.key === B ? u(E, v, w, O) : null;
        case Ga:
          return w.key === B ? c(E, v, w, O) : null;
        case Ei:
          return (B = w._init), (w = B(w._payload)), m(E, v, w, O);
      }
      if (Qa(w) || xa(w)) return B !== null ? null : f(E, v, w, O, null);
      if (typeof w.then == "function") return m(E, v, Wl(w), O);
      if (w.$$typeof === Fn) return m(E, v, Jl(E, w), O);
      Zl(E, w);
    }
    return null;
  }
  function _(E, v, w, O, B) {
    if (
      (typeof O == "string" && O !== "") ||
      typeof O == "number" ||
      typeof O == "bigint"
    )
      return (E = E.get(w) || null), l(v, E, "" + O, B);
    if (typeof O == "object" && O !== null) {
      switch (O.$$typeof) {
        case Gl:
          return (E = E.get(O.key === null ? w : O.key) || null), u(v, E, O, B);
        case Ga:
          return (E = E.get(O.key === null ? w : O.key) || null), c(v, E, O, B);
        case Ei:
          var j = O._init;
          return (O = j(O._payload)), _(E, v, w, O, B);
      }
      if (Qa(O) || xa(O)) return (E = E.get(w) || null), f(v, E, O, B, null);
      if (typeof O.then == "function") return _(E, v, w, Wl(O), B);
      if (O.$$typeof === Fn) return _(E, v, w, Jl(v, O), B);
      Zl(v, O);
    }
    return null;
  }
  function b(E, v, w, O) {
    for (
      var B = null, j = null, A = v, y = (v = 0), T = null;
      A !== null && y < w.length;
      y++
    ) {
      A.index > y ? ((T = A), (A = null)) : (T = A.sibling);
      var S = m(E, A, w[y], O);
      if (S === null) {
        A === null && (A = T);
        break;
      }
      t && A && S.alternate === null && e(E, A),
        (v = s(S, v, y)),
        j === null ? (B = S) : (j.sibling = S),
        (j = S),
        (A = T);
    }
    if (y === w.length) return n(E, A), ue && pr(E, y), B;
    if (A === null) {
      for (; y < w.length; y++)
        (A = p(E, w[y], O)),
          A !== null &&
            ((v = s(A, v, y)), j === null ? (B = A) : (j.sibling = A), (j = A));
      return ue && pr(E, y), B;
    }
    for (A = i(A); y < w.length; y++)
      (T = _(A, E, y, w[y], O)),
        T !== null &&
          (t && T.alternate !== null && A.delete(T.key === null ? y : T.key),
          (v = s(T, v, y)),
          j === null ? (B = T) : (j.sibling = T),
          (j = T));
    return (
      t &&
        A.forEach(function (I) {
          return e(E, I);
        }),
      ue && pr(E, y),
      B
    );
  }
  function C(E, v, w, O) {
    if (w == null) throw Error(U(151));
    for (
      var B = null, j = null, A = v, y = (v = 0), T = null, S = w.next();
      A !== null && !S.done;
      y++, S = w.next()
    ) {
      A.index > y ? ((T = A), (A = null)) : (T = A.sibling);
      var I = m(E, A, S.value, O);
      if (I === null) {
        A === null && (A = T);
        break;
      }
      t && A && I.alternate === null && e(E, A),
        (v = s(I, v, y)),
        j === null ? (B = I) : (j.sibling = I),
        (j = I),
        (A = T);
    }
    if (S.done) return n(E, A), ue && pr(E, y), B;
    if (A === null) {
      for (; !S.done; y++, S = w.next())
        (S = p(E, S.value, O)),
          S !== null &&
            ((v = s(S, v, y)), j === null ? (B = S) : (j.sibling = S), (j = S));
      return ue && pr(E, y), B;
    }
    for (A = i(A); !S.done; y++, S = w.next())
      (S = _(A, E, y, S.value, O)),
        S !== null &&
          (t && S.alternate !== null && A.delete(S.key === null ? y : S.key),
          (v = s(S, v, y)),
          j === null ? (B = S) : (j.sibling = S),
          (j = S));
    return (
      t &&
        A.forEach(function (M) {
          return e(E, M);
        }),
      ue && pr(E, y),
      B
    );
  }
  function D(E, v, w, O) {
    if (
      (typeof w == "object" &&
        w !== null &&
        w.type === ms &&
        w.key === null &&
        (w = w.props.children),
      typeof w == "object" && w !== null)
    ) {
      switch (w.$$typeof) {
        case Gl:
          e: {
            for (var B = w.key; v !== null; ) {
              if (v.key === B) {
                if (((B = w.type), B === ms)) {
                  if (v.tag === 7) {
                    n(E, v.sibling),
                      (O = r(v, w.props.children)),
                      (O.return = E),
                      (E = O);
                    break e;
                  }
                } else if (
                  v.elementType === B ||
                  (typeof B == "object" &&
                    B !== null &&
                    B.$$typeof === Ei &&
                    ty(B) === v.type)
                ) {
                  n(E, v.sibling),
                    (O = r(v, w.props)),
                    La(O, w),
                    (O.return = E),
                    (E = O);
                  break e;
                }
                n(E, v);
                break;
              } else e(E, v);
              v = v.sibling;
            }
            w.type === ms
              ? ((O = Sr(w.props.children, E.mode, O, w.key)),
                (O.return = E),
                (E = O))
              : ((O = wu(w.type, w.key, w.props, null, E.mode, O)),
                La(O, w),
                (O.return = E),
                (E = O));
          }
          return a(E);
        case Ga:
          e: {
            for (B = w.key; v !== null; ) {
              if (v.key === B)
                if (
                  v.tag === 4 &&
                  v.stateNode.containerInfo === w.containerInfo &&
                  v.stateNode.implementation === w.implementation
                ) {
                  n(E, v.sibling),
                    (O = r(v, w.children || [])),
                    (O.return = E),
                    (E = O);
                  break e;
                } else {
                  n(E, v);
                  break;
                }
              else e(E, v);
              v = v.sibling;
            }
            (O = wf(w, E.mode, O)), (O.return = E), (E = O);
          }
          return a(E);
        case Ei:
          return (B = w._init), (w = B(w._payload)), D(E, v, w, O);
      }
      if (Qa(w)) return b(E, v, w, O);
      if (xa(w)) {
        if (((B = xa(w)), typeof B != "function")) throw Error(U(150));
        return (w = B.call(w)), C(E, v, w, O);
      }
      if (typeof w.then == "function") return D(E, v, Wl(w), O);
      if (w.$$typeof === Fn) return D(E, v, Jl(E, w), O);
      Zl(E, w);
    }
    return (typeof w == "string" && w !== "") ||
      typeof w == "number" ||
      typeof w == "bigint"
      ? ((w = "" + w),
        v !== null && v.tag === 6
          ? (n(E, v.sibling), (O = r(v, w)), (O.return = E), (E = O))
          : (n(E, v), (O = Af(w, E.mode, O)), (O.return = E), (E = O)),
        a(E))
      : n(E, v);
  }
  return function (E, v, w, O) {
    try {
      ko = 0;
      var B = D(E, v, w, O);
      return (Ds = null), B;
    } catch (A) {
      if (A === oo) throw A;
      var j = Wt(29, A, null, E.mode);
      return (j.lanes = O), (j.return = E), j;
    } finally {
    }
  };
}
var Or = DE(!0),
  OE = DE(!1),
  js = Dn(null),
  $u = Dn(0);
function ny(t, e) {
  (t = ai), we($u, t), we(js, e), (ai = t | e.baseLanes);
}
function fd() {
  we($u, ai), we(js, js.current);
}
function Um() {
  (ai = $u.current), Ze(js), Ze($u);
}
var en = Dn(null),
  En = null;
function Ai(t) {
  var e = t.alternate;
  we(Ge, Ge.current & 1),
    we(en, t),
    En === null &&
      (e === null || js.current !== null || e.memoizedState !== null) &&
      (En = t);
}
function NE(t) {
  if (t.tag === 22) {
    if ((we(Ge, Ge.current), we(en, t), En === null)) {
      var e = t.alternate;
      e !== null && e.memoizedState !== null && (En = t);
    }
  } else wi();
}
function wi() {
  we(Ge, Ge.current), we(en, en.current);
}
function Qn(t) {
  Ze(en), En === t && (En = null), Ze(Ge);
}
var Ge = Dn(0);
function Yu(t) {
  for (var e = t; e !== null; ) {
    if (e.tag === 13) {
      var n = e.memoizedState;
      if (
        n !== null &&
        ((n = n.dehydrated), n === null || n.data === "$?" || n.data === "$!")
      )
        return e;
    } else if (e.tag === 19 && e.memoizedProps.revealOrder !== void 0) {
      if (e.flags & 128) return e;
    } else if (e.child !== null) {
      (e.child.return = e), (e = e.child);
      continue;
    }
    if (e === t) break;
    for (; e.sibling === null; ) {
      if (e.return === null || e.return === t) return null;
      e = e.return;
    }
    (e.sibling.return = e.return), (e = e.sibling);
  }
  return null;
}
var M1 =
    typeof AbortController < "u"
      ? AbortController
      : function () {
          var t = [],
            e = (this.signal = {
              aborted: !1,
              addEventListener: function (n, i) {
                t.push(i);
              },
            });
          this.abort = function () {
            (e.aborted = !0),
              t.forEach(function (n) {
                return n();
              });
          };
        },
  k1 = Qe.unstable_scheduleCallback,
  x1 = Qe.unstable_NormalPriority,
  Fe = {
    $$typeof: Fn,
    Consumer: null,
    Provider: null,
    _currentValue: null,
    _currentValue2: null,
    _threadCount: 0,
  };
function Lm() {
  return { controller: new M1(), data: new Map(), refCount: 0 };
}
function il(t) {
  t.refCount--,
    t.refCount === 0 &&
      k1(x1, function () {
        t.controller.abort();
      });
}
var uo = null,
  dd = 0,
  qs = 0,
  Os = null;
function V1(t, e) {
  if (uo === null) {
    var n = (uo = []);
    (dd = 0),
      (qs = op()),
      (Os = {
        status: "pending",
        value: void 0,
        then: function (i) {
          n.push(i);
        },
      });
  }
  return dd++, e.then(iy, iy), e;
}
function iy() {
  if (--dd === 0 && uo !== null) {
    Os !== null && (Os.status = "fulfilled");
    var t = uo;
    (uo = null), (qs = 0), (Os = null);
    for (var e = 0; e < t.length; e++) (0, t[e])();
  }
}
function P1(t, e) {
  var n = [],
    i = {
      status: "pending",
      value: null,
      reason: null,
      then: function (r) {
        n.push(r);
      },
    };
  return (
    t.then(
      function () {
        (i.status = "fulfilled"), (i.value = e);
        for (var r = 0; r < n.length; r++) (0, n[r])(e);
      },
      function (r) {
        for (i.status = "rejected", i.reason = r, r = 0; r < n.length; r++)
          (0, n[r])(void 0);
      }
    ),
    i
  );
}
var ry = Z.S;
Z.S = function (t, e) {
  typeof e == "object" && e !== null && typeof e.then == "function" && V1(t, e),
    ry !== null && ry(t, e);
};
var wr = Dn(null);
function Bm() {
  var t = wr.current;
  return t !== null ? t : ge.pooledCache;
}
function vu(t, e) {
  e === null ? we(wr, wr.current) : we(wr, e.pool);
}
function ME() {
  var t = Bm();
  return t === null ? null : { parent: Fe._currentValue, pool: t };
}
var Ki = 0,
  ee = null,
  fe = null,
  ze = null,
  Xu = !1,
  Ns = !1,
  Nr = !1,
  Wu = 0,
  xo = 0,
  Ms = null,
  U1 = 0;
function Ve() {
  throw Error(U(321));
}
function zm(t, e) {
  if (e === null) return !1;
  for (var n = 0; n < e.length && n < t.length; n++)
    if (!jt(t[n], e[n])) return !1;
  return !0;
}
function jm(t, e, n, i, r, s) {
  return (
    (Ki = s),
    (ee = e),
    (e.memoizedState = null),
    (e.updateQueue = null),
    (e.lanes = 0),
    (Z.H = t === null || t.memoizedState === null ? Hr : ir),
    (Nr = !1),
    (s = n(i, r)),
    (Nr = !1),
    Ns && (s = xE(e, n, i, r)),
    kE(t),
    s
  );
}
function kE(t) {
  Z.H = In;
  var e = fe !== null && fe.next !== null;
  if (((Ki = 0), (ze = fe = ee = null), (Xu = !1), (xo = 0), (Ms = null), e))
    throw Error(U(300));
  t === null || We || ((t = t.dependencies), t !== null && ec(t) && (We = !0));
}
function xE(t, e, n, i) {
  ee = t;
  var r = 0;
  do {
    if ((Ns && (Ms = null), (xo = 0), (Ns = !1), 25 <= r)) throw Error(U(301));
    if (((r += 1), (ze = fe = null), t.updateQueue != null)) {
      var s = t.updateQueue;
      (s.lastEffect = null),
        (s.events = null),
        (s.stores = null),
        s.memoCache != null && (s.memoCache.index = 0);
    }
    (Z.H = Fr), (s = e(n, i));
  } while (Ns);
  return s;
}
function L1() {
  var t = Z.H,
    e = t.useState()[0];
  return (
    (e = typeof e.then == "function" ? rl(e) : e),
    (t = t.useState()[0]),
    (fe !== null ? fe.memoizedState : null) !== t && (ee.flags |= 1024),
    e
  );
}
function qm() {
  var t = Wu !== 0;
  return (Wu = 0), t;
}
function Hm(t, e, n) {
  (e.updateQueue = t.updateQueue), (e.flags &= -2053), (t.lanes &= ~n);
}
function Fm(t) {
  if (Xu) {
    for (t = t.memoizedState; t !== null; ) {
      var e = t.queue;
      e !== null && (e.pending = null), (t = t.next);
    }
    Xu = !1;
  }
  (Ki = 0), (ze = fe = ee = null), (Ns = !1), (xo = Wu = 0), (Ms = null);
}
function St() {
  var t = {
    memoizedState: null,
    baseState: null,
    baseQueue: null,
    queue: null,
    next: null,
  };
  return ze === null ? (ee.memoizedState = ze = t) : (ze = ze.next = t), ze;
}
function qe() {
  if (fe === null) {
    var t = ee.alternate;
    t = t !== null ? t.memoizedState : null;
  } else t = fe.next;
  var e = ze === null ? ee.memoizedState : ze.next;
  if (e !== null) (ze = e), (fe = t);
  else {
    if (t === null) throw ee.alternate === null ? Error(U(467)) : Error(U(310));
    (fe = t),
      (t = {
        memoizedState: fe.memoizedState,
        baseState: fe.baseState,
        baseQueue: fe.baseQueue,
        queue: fe.queue,
        next: null,
      }),
      ze === null ? (ee.memoizedState = ze = t) : (ze = ze.next = t);
  }
  return ze;
}
var qc;
qc = function () {
  return { lastEffect: null, events: null, stores: null, memoCache: null };
};
function rl(t) {
  var e = xo;
  return (
    (xo += 1),
    Ms === null && (Ms = []),
    (t = CE(Ms, t, e)),
    (e = ee),
    (ze === null ? e.memoizedState : ze.next) === null &&
      ((e = e.alternate),
      (Z.H = e === null || e.memoizedState === null ? Hr : ir)),
    t
  );
}
function Hc(t) {
  if (t !== null && typeof t == "object") {
    if (typeof t.then == "function") return rl(t);
    if (t.$$typeof === Fn) return mt(t);
  }
  throw Error(U(438, String(t)));
}
function Gm(t) {
  var e = null,
    n = ee.updateQueue;
  if ((n !== null && (e = n.memoCache), e == null)) {
    var i = ee.alternate;
    i !== null &&
      ((i = i.updateQueue),
      i !== null &&
        ((i = i.memoCache),
        i != null &&
          (e = {
            data: i.data.map(function (r) {
              return r.slice();
            }),
            index: 0,
          })));
  }
  if (
    (e == null && (e = { data: [], index: 0 }),
    n === null && ((n = qc()), (ee.updateQueue = n)),
    (n.memoCache = e),
    (n = e.data[e.index]),
    n === void 0)
  )
    for (n = e.data[e.index] = Array(t), i = 0; i < t; i++) n[i] = Eb;
  return e.index++, n;
}
function ri(t, e) {
  return typeof e == "function" ? e(t) : e;
}
function Eu(t) {
  var e = qe();
  return Km(e, fe, t);
}
function Km(t, e, n) {
  var i = t.queue;
  if (i === null) throw Error(U(311));
  i.lastRenderedReducer = n;
  var r = t.baseQueue,
    s = i.pending;
  if (s !== null) {
    if (r !== null) {
      var a = r.next;
      (r.next = s.next), (s.next = a);
    }
    (e.baseQueue = r = s), (i.pending = null);
  }
  if (((s = t.baseState), r === null)) t.memoizedState = s;
  else {
    e = r.next;
    var l = (a = null),
      u = null,
      c = e,
      f = !1;
    do {
      var p = c.lane & -536870913;
      if (p !== c.lane ? (oe & p) === p : (Ki & p) === p) {
        var m = c.revertLane;
        if (m === 0)
          u !== null &&
            (u = u.next =
              {
                lane: 0,
                revertLane: 0,
                action: c.action,
                hasEagerState: c.hasEagerState,
                eagerState: c.eagerState,
                next: null,
              }),
            p === qs && (f = !0);
        else if ((Ki & m) === m) {
          (c = c.next), m === qs && (f = !0);
          continue;
        } else
          (p = {
            lane: 0,
            revertLane: c.revertLane,
            action: c.action,
            hasEagerState: c.hasEagerState,
            eagerState: c.eagerState,
            next: null,
          }),
            u === null ? ((l = u = p), (a = s)) : (u = u.next = p),
            (ee.lanes |= m),
            ($i |= m);
        (p = c.action),
          Nr && n(s, p),
          (s = c.hasEagerState ? c.eagerState : n(s, p));
      } else
        (m = {
          lane: p,
          revertLane: c.revertLane,
          action: c.action,
          hasEagerState: c.hasEagerState,
          eagerState: c.eagerState,
          next: null,
        }),
          u === null ? ((l = u = m), (a = s)) : (u = u.next = m),
          (ee.lanes |= p),
          ($i |= p);
      c = c.next;
    } while (c !== null && c !== e);
    if (
      (u === null ? (a = s) : (u.next = l),
      !jt(s, t.memoizedState) && ((We = !0), f && ((n = Os), n !== null)))
    )
      throw n;
    (t.memoizedState = s),
      (t.baseState = a),
      (t.baseQueue = u),
      (i.lastRenderedState = s);
  }
  return r === null && (i.lanes = 0), [t.memoizedState, i.dispatch];
}
function hf(t) {
  var e = qe(),
    n = e.queue;
  if (n === null) throw Error(U(311));
  n.lastRenderedReducer = t;
  var i = n.dispatch,
    r = n.pending,
    s = e.memoizedState;
  if (r !== null) {
    n.pending = null;
    var a = (r = r.next);
    do (s = t(s, a.action)), (a = a.next);
    while (a !== r);
    jt(s, e.memoizedState) || (We = !0),
      (e.memoizedState = s),
      e.baseQueue === null && (e.baseState = s),
      (n.lastRenderedState = s);
  }
  return [s, i];
}
function VE(t, e, n) {
  var i = ee,
    r = qe(),
    s = ue;
  if (s) {
    if (n === void 0) throw Error(U(407));
    n = n();
  } else n = e();
  var a = !jt((fe || r).memoizedState, n);
  if (
    (a && ((r.memoizedState = n), (We = !0)),
    (r = r.queue),
    Qm(LE.bind(null, i, r, t), [t]),
    r.getSnapshot !== e || a || (ze !== null && ze.memoizedState.tag & 1))
  ) {
    if (
      ((i.flags |= 2048),
      Hs(9, UE.bind(null, i, r, n, e), { destroy: void 0 }, null),
      ge === null)
    )
      throw Error(U(349));
    s || Ki & 60 || PE(i, e, n);
  }
  return n;
}
function PE(t, e, n) {
  (t.flags |= 16384),
    (t = { getSnapshot: e, value: n }),
    (e = ee.updateQueue),
    e === null
      ? ((e = qc()), (ee.updateQueue = e), (e.stores = [t]))
      : ((n = e.stores), n === null ? (e.stores = [t]) : n.push(t));
}
function UE(t, e, n, i) {
  (e.value = n), (e.getSnapshot = i), BE(e) && zE(t);
}
function LE(t, e, n) {
  return n(function () {
    BE(e) && zE(t);
  });
}
function BE(t) {
  var e = t.getSnapshot;
  t = t.value;
  try {
    var n = e();
    return !jt(t, n);
  } catch {
    return !0;
  }
}
function zE(t) {
  var e = Gi(t, 2);
  e !== null && At(e, t, 2);
}
function md(t) {
  var e = St();
  if (typeof t == "function") {
    var n = t;
    if (((t = n()), Nr)) {
      Ni(!0);
      try {
        n();
      } finally {
        Ni(!1);
      }
    }
  }
  return (
    (e.memoizedState = e.baseState = t),
    (e.queue = {
      pending: null,
      lanes: 0,
      dispatch: null,
      lastRenderedReducer: ri,
      lastRenderedState: t,
    }),
    e
  );
}
function jE(t, e, n, i) {
  return (t.baseState = n), Km(t, fe, typeof i == "function" ? i : ri);
}
function B1(t, e, n, i, r) {
  if (Gc(t)) throw Error(U(485));
  if (((t = e.action), t !== null)) {
    var s = {
      payload: r,
      action: t,
      next: null,
      isTransition: !0,
      status: "pending",
      value: null,
      reason: null,
      listeners: [],
      then: function (a) {
        s.listeners.push(a);
      },
    };
    Z.T !== null ? n(!0) : (s.isTransition = !1),
      i(s),
      (n = e.pending),
      n === null
        ? ((s.next = e.pending = s), qE(e, s))
        : ((s.next = n.next), (e.pending = n.next = s));
  }
}
function qE(t, e) {
  var n = e.action,
    i = e.payload,
    r = t.state;
  if (e.isTransition) {
    var s = Z.T,
      a = {};
    Z.T = a;
    try {
      var l = n(r, i),
        u = Z.S;
      u !== null && u(a, l), sy(t, e, l);
    } catch (c) {
      pd(t, e, c);
    } finally {
      Z.T = s;
    }
  } else
    try {
      (s = n(r, i)), sy(t, e, s);
    } catch (c) {
      pd(t, e, c);
    }
}
function sy(t, e, n) {
  n !== null && typeof n == "object" && typeof n.then == "function"
    ? n.then(
        function (i) {
          ay(t, e, i);
        },
        function (i) {
          return pd(t, e, i);
        }
      )
    : ay(t, e, n);
}
function ay(t, e, n) {
  (e.status = "fulfilled"),
    (e.value = n),
    HE(e),
    (t.state = n),
    (e = t.pending),
    e !== null &&
      ((n = e.next),
      n === e ? (t.pending = null) : ((n = n.next), (e.next = n), qE(t, n)));
}
function pd(t, e, n) {
  var i = t.pending;
  if (((t.pending = null), i !== null)) {
    i = i.next;
    do (e.status = "rejected"), (e.reason = n), HE(e), (e = e.next);
    while (e !== i);
  }
  t.action = null;
}
function HE(t) {
  t = t.listeners;
  for (var e = 0; e < t.length; e++) (0, t[e])();
}
function FE(t, e) {
  return e;
}
function GE(t, e) {
  if (ue) {
    var n = ge.formState;
    if (n !== null) {
      e: {
        var i = ee;
        if (ue) {
          if (it) {
            t: {
              for (var r = it, s = mn; r.nodeType !== 8; ) {
                if (!s) {
                  r = null;
                  break t;
                }
                if (((r = on(r.nextSibling)), r === null)) {
                  r = null;
                  break t;
                }
              }
              (s = r.data), (r = s === "F!" || s === "F" ? r : null);
            }
            if (r) {
              (it = on(r.nextSibling)), (i = r.data === "F!");
              break e;
            }
          }
          Dr(i);
        }
        i = !1;
      }
      i && (e = n[0]);
    }
  }
  return (
    (n = St()),
    (n.memoizedState = n.baseState = e),
    (i = {
      pending: null,
      lanes: 0,
      dispatch: null,
      lastRenderedReducer: FE,
      lastRenderedState: e,
    }),
    (n.queue = i),
    (n = lT.bind(null, ee, i)),
    (i.dispatch = n),
    (i = md(!1)),
    (s = Wm.bind(null, ee, !1, i.queue)),
    (i = St()),
    (r = { state: e, dispatch: null, action: t, pending: null }),
    (i.queue = r),
    (n = B1.bind(null, ee, r, s, n)),
    (r.dispatch = n),
    (i.memoizedState = t),
    [e, n, !1]
  );
}
function KE(t) {
  var e = qe();
  return QE(e, fe, t);
}
function QE(t, e, n) {
  (e = Km(t, e, FE)[0]),
    (t = Eu(ri)[0]),
    (e =
      typeof e == "object" && e !== null && typeof e.then == "function"
        ? rl(e)
        : e);
  var i = qe(),
    r = i.queue,
    s = r.dispatch;
  return (
    n !== i.memoizedState &&
      ((ee.flags |= 2048),
      Hs(9, z1.bind(null, r, n), { destroy: void 0 }, null)),
    [e, s, t]
  );
}
function z1(t, e) {
  t.action = e;
}
function $E(t) {
  var e = qe(),
    n = fe;
  if (n !== null) return QE(e, n, t);
  qe(), (e = e.memoizedState), (n = qe());
  var i = n.queue.dispatch;
  return (n.memoizedState = t), [e, i, !1];
}
function Hs(t, e, n, i) {
  return (
    (t = { tag: t, create: e, inst: n, deps: i, next: null }),
    (e = ee.updateQueue),
    e === null && ((e = qc()), (ee.updateQueue = e)),
    (n = e.lastEffect),
    n === null
      ? (e.lastEffect = t.next = t)
      : ((i = n.next), (n.next = t), (t.next = i), (e.lastEffect = t)),
    t
  );
}
function YE() {
  return qe().memoizedState;
}
function Tu(t, e, n, i) {
  var r = St();
  (ee.flags |= t),
    (r.memoizedState = Hs(
      1 | e,
      n,
      { destroy: void 0 },
      i === void 0 ? null : i
    ));
}
function Fc(t, e, n, i) {
  var r = qe();
  i = i === void 0 ? null : i;
  var s = r.memoizedState.inst;
  fe !== null && i !== null && zm(i, fe.memoizedState.deps)
    ? (r.memoizedState = Hs(e, n, s, i))
    : ((ee.flags |= t), (r.memoizedState = Hs(1 | e, n, s, i)));
}
function oy(t, e) {
  Tu(8390656, 8, t, e);
}
function Qm(t, e) {
  Fc(2048, 8, t, e);
}
function XE(t, e) {
  return Fc(4, 2, t, e);
}
function WE(t, e) {
  return Fc(4, 4, t, e);
}
function ZE(t, e) {
  if (typeof e == "function") {
    t = t();
    var n = e(t);
    return function () {
      typeof n == "function" ? n() : e(null);
    };
  }
  if (e != null)
    return (
      (t = t()),
      (e.current = t),
      function () {
        e.current = null;
      }
    );
}
function JE(t, e, n) {
  (n = n != null ? n.concat([t]) : null), Fc(4, 4, ZE.bind(null, e, t), n);
}
function $m() {}
function eT(t, e) {
  var n = qe();
  e = e === void 0 ? null : e;
  var i = n.memoizedState;
  return e !== null && zm(e, i[1]) ? i[0] : ((n.memoizedState = [t, e]), t);
}
function tT(t, e) {
  var n = qe();
  e = e === void 0 ? null : e;
  var i = n.memoizedState;
  if (e !== null && zm(e, i[1])) return i[0];
  if (((i = t()), Nr)) {
    Ni(!0);
    try {
      t();
    } finally {
      Ni(!1);
    }
  }
  return (n.memoizedState = [i, e]), i;
}
function Ym(t, e, n) {
  return n === void 0 || Ki & 1073741824
    ? (t.memoizedState = e)
    : ((t.memoizedState = n), (t = HT()), (ee.lanes |= t), ($i |= t), n);
}
function nT(t, e, n, i) {
  return jt(n, e)
    ? n
    : js.current !== null
    ? ((t = Ym(t, n, i)), jt(t, e) || (We = !0), t)
    : Ki & 42
    ? ((t = HT()), (ee.lanes |= t), ($i |= t), e)
    : ((We = !0), (t.memoizedState = n));
}
function iT(t, e, n, i, r) {
  var s = Ee.p;
  Ee.p = s !== 0 && 8 > s ? s : 8;
  var a = Z.T,
    l = {};
  (Z.T = l), Wm(t, !1, e, n);
  try {
    var u = r(),
      c = Z.S;
    if (
      (c !== null && c(l, u),
      u !== null && typeof u == "object" && typeof u.then == "function")
    ) {
      var f = P1(u, i);
      co(t, e, f, zt(t));
    } else co(t, e, i, zt(t));
  } catch (p) {
    co(t, e, { then: function () {}, status: "rejected", reason: p }, zt());
  } finally {
    (Ee.p = s), (Z.T = a);
  }
}
function j1() {}
function gd(t, e, n, i) {
  if (t.tag !== 5) throw Error(U(476));
  var r = rT(t).queue;
  iT(
    t,
    r,
    e,
    Tr,
    n === null
      ? j1
      : function () {
          return sT(t), n(i);
        }
  );
}
function rT(t) {
  var e = t.memoizedState;
  if (e !== null) return e;
  e = {
    memoizedState: Tr,
    baseState: Tr,
    baseQueue: null,
    queue: {
      pending: null,
      lanes: 0,
      dispatch: null,
      lastRenderedReducer: ri,
      lastRenderedState: Tr,
    },
    next: null,
  };
  var n = {};
  return (
    (e.next = {
      memoizedState: n,
      baseState: n,
      baseQueue: null,
      queue: {
        pending: null,
        lanes: 0,
        dispatch: null,
        lastRenderedReducer: ri,
        lastRenderedState: n,
      },
      next: null,
    }),
    (t.memoizedState = e),
    (t = t.alternate),
    t !== null && (t.memoizedState = e),
    e
  );
}
function sT(t) {
  var e = rT(t).next.queue;
  co(t, e, {}, zt());
}
function Xm() {
  return mt(Lo);
}
function aT() {
  return qe().memoizedState;
}
function oT() {
  return qe().memoizedState;
}
function q1(t) {
  for (var e = t.return; e !== null; ) {
    switch (e.tag) {
      case 24:
      case 3:
        var n = zt();
        t = Vi(n);
        var i = Pi(e, t, n);
        i !== null && (At(i, e, n), fo(i, e, n)),
          (e = { cache: Lm() }),
          (t.payload = e);
        return;
    }
    e = e.return;
  }
}
function H1(t, e, n) {
  var i = zt();
  (n = {
    lane: i,
    revertLane: 0,
    action: n,
    hasEagerState: !1,
    eagerState: null,
    next: null,
  }),
    Gc(t)
      ? uT(e, n)
      : ((n = xm(t, e, n, i)), n !== null && (At(n, t, i), cT(n, e, i)));
}
function lT(t, e, n) {
  var i = zt();
  co(t, e, n, i);
}
function co(t, e, n, i) {
  var r = {
    lane: i,
    revertLane: 0,
    action: n,
    hasEagerState: !1,
    eagerState: null,
    next: null,
  };
  if (Gc(t)) uT(e, r);
  else {
    var s = t.alternate;
    if (
      t.lanes === 0 &&
      (s === null || s.lanes === 0) &&
      ((s = e.lastRenderedReducer), s !== null)
    )
      try {
        var a = e.lastRenderedState,
          l = s(a, n);
        if (((r.hasEagerState = !0), (r.eagerState = l), jt(l, a)))
          return jc(t, e, r, 0), ge === null && zc(), !1;
      } catch {
      } finally {
      }
    if (((n = xm(t, e, r, i)), n !== null)) return At(n, t, i), cT(n, e, i), !0;
  }
  return !1;
}
function Wm(t, e, n, i) {
  if (
    ((i = {
      lane: 2,
      revertLane: op(),
      action: i,
      hasEagerState: !1,
      eagerState: null,
      next: null,
    }),
    Gc(t))
  ) {
    if (e) throw Error(U(479));
  } else (e = xm(t, n, i, 2)), e !== null && At(e, t, 2);
}
function Gc(t) {
  var e = t.alternate;
  return t === ee || (e !== null && e === ee);
}
function uT(t, e) {
  Ns = Xu = !0;
  var n = t.pending;
  n === null ? (e.next = e) : ((e.next = n.next), (n.next = e)),
    (t.pending = e);
}
function cT(t, e, n) {
  if (n & 4194176) {
    var i = e.lanes;
    (i &= t.pendingLanes), (n |= i), (e.lanes = n), Z0(t, n);
  }
}
var In = {
  readContext: mt,
  use: Hc,
  useCallback: Ve,
  useContext: Ve,
  useEffect: Ve,
  useImperativeHandle: Ve,
  useLayoutEffect: Ve,
  useInsertionEffect: Ve,
  useMemo: Ve,
  useReducer: Ve,
  useRef: Ve,
  useState: Ve,
  useDebugValue: Ve,
  useDeferredValue: Ve,
  useTransition: Ve,
  useSyncExternalStore: Ve,
  useId: Ve,
};
In.useCacheRefresh = Ve;
In.useMemoCache = Ve;
In.useHostTransitionStatus = Ve;
In.useFormState = Ve;
In.useActionState = Ve;
In.useOptimistic = Ve;
var Hr = {
  readContext: mt,
  use: Hc,
  useCallback: function (t, e) {
    return (St().memoizedState = [t, e === void 0 ? null : e]), t;
  },
  useContext: mt,
  useEffect: oy,
  useImperativeHandle: function (t, e, n) {
    (n = n != null ? n.concat([t]) : null),
      Tu(4194308, 4, ZE.bind(null, e, t), n);
  },
  useLayoutEffect: function (t, e) {
    return Tu(4194308, 4, t, e);
  },
  useInsertionEffect: function (t, e) {
    Tu(4, 2, t, e);
  },
  useMemo: function (t, e) {
    var n = St();
    e = e === void 0 ? null : e;
    var i = t();
    if (Nr) {
      Ni(!0);
      try {
        t();
      } finally {
        Ni(!1);
      }
    }
    return (n.memoizedState = [i, e]), i;
  },
  useReducer: function (t, e, n) {
    var i = St();
    if (n !== void 0) {
      var r = n(e);
      if (Nr) {
        Ni(!0);
        try {
          n(e);
        } finally {
          Ni(!1);
        }
      }
    } else r = e;
    return (
      (i.memoizedState = i.baseState = r),
      (t = {
        pending: null,
        lanes: 0,
        dispatch: null,
        lastRenderedReducer: t,
        lastRenderedState: r,
      }),
      (i.queue = t),
      (t = t.dispatch = H1.bind(null, ee, t)),
      [i.memoizedState, t]
    );
  },
  useRef: function (t) {
    var e = St();
    return (t = { current: t }), (e.memoizedState = t);
  },
  useState: function (t) {
    t = md(t);
    var e = t.queue,
      n = lT.bind(null, ee, e);
    return (e.dispatch = n), [t.memoizedState, n];
  },
  useDebugValue: $m,
  useDeferredValue: function (t, e) {
    var n = St();
    return Ym(n, t, e);
  },
  useTransition: function () {
    var t = md(!1);
    return (
      (t = iT.bind(null, ee, t.queue, !0, !1)),
      (St().memoizedState = t),
      [!1, t]
    );
  },
  useSyncExternalStore: function (t, e, n) {
    var i = ee,
      r = St();
    if (ue) {
      if (n === void 0) throw Error(U(407));
      n = n();
    } else {
      if (((n = e()), ge === null)) throw Error(U(349));
      oe & 60 || PE(i, e, n);
    }
    r.memoizedState = n;
    var s = { value: n, getSnapshot: e };
    return (
      (r.queue = s),
      oy(LE.bind(null, i, s, t), [t]),
      (i.flags |= 2048),
      Hs(9, UE.bind(null, i, s, n, e), { destroy: void 0 }, null),
      n
    );
  },
  useId: function () {
    var t = St(),
      e = ge.identifierPrefix;
    if (ue) {
      var n = Kn,
        i = Gn;
      (n = (i & ~(1 << (32 - Bt(i) - 1))).toString(32) + n),
        (e = ":" + e + "R" + n),
        (n = Wu++),
        0 < n && (e += "H" + n.toString(32)),
        (e += ":");
    } else (n = U1++), (e = ":" + e + "r" + n.toString(32) + ":");
    return (t.memoizedState = e);
  },
  useCacheRefresh: function () {
    return (St().memoizedState = q1.bind(null, ee));
  },
};
Hr.useMemoCache = Gm;
Hr.useHostTransitionStatus = Xm;
Hr.useFormState = GE;
Hr.useActionState = GE;
Hr.useOptimistic = function (t) {
  var e = St();
  e.memoizedState = e.baseState = t;
  var n = {
    pending: null,
    lanes: 0,
    dispatch: null,
    lastRenderedReducer: null,
    lastRenderedState: null,
  };
  return (
    (e.queue = n), (e = Wm.bind(null, ee, !0, n)), (n.dispatch = e), [t, e]
  );
};
var ir = {
  readContext: mt,
  use: Hc,
  useCallback: eT,
  useContext: mt,
  useEffect: Qm,
  useImperativeHandle: JE,
  useInsertionEffect: XE,
  useLayoutEffect: WE,
  useMemo: tT,
  useReducer: Eu,
  useRef: YE,
  useState: function () {
    return Eu(ri);
  },
  useDebugValue: $m,
  useDeferredValue: function (t, e) {
    var n = qe();
    return nT(n, fe.memoizedState, t, e);
  },
  useTransition: function () {
    var t = Eu(ri)[0],
      e = qe().memoizedState;
    return [typeof t == "boolean" ? t : rl(t), e];
  },
  useSyncExternalStore: VE,
  useId: aT,
};
ir.useCacheRefresh = oT;
ir.useMemoCache = Gm;
ir.useHostTransitionStatus = Xm;
ir.useFormState = KE;
ir.useActionState = KE;
ir.useOptimistic = function (t, e) {
  var n = qe();
  return jE(n, fe, t, e);
};
var Fr = {
  readContext: mt,
  use: Hc,
  useCallback: eT,
  useContext: mt,
  useEffect: Qm,
  useImperativeHandle: JE,
  useInsertionEffect: XE,
  useLayoutEffect: WE,
  useMemo: tT,
  useReducer: hf,
  useRef: YE,
  useState: function () {
    return hf(ri);
  },
  useDebugValue: $m,
  useDeferredValue: function (t, e) {
    var n = qe();
    return fe === null ? Ym(n, t, e) : nT(n, fe.memoizedState, t, e);
  },
  useTransition: function () {
    var t = hf(ri)[0],
      e = qe().memoizedState;
    return [typeof t == "boolean" ? t : rl(t), e];
  },
  useSyncExternalStore: VE,
  useId: aT,
};
Fr.useCacheRefresh = oT;
Fr.useMemoCache = Gm;
Fr.useHostTransitionStatus = Xm;
Fr.useFormState = $E;
Fr.useActionState = $E;
Fr.useOptimistic = function (t, e) {
  var n = qe();
  return fe !== null
    ? jE(n, fe, t, e)
    : ((n.baseState = t), [t, n.queue.dispatch]);
};
function ff(t, e, n, i) {
  (e = t.memoizedState),
    (n = n(i, e)),
    (n = n == null ? e : Te({}, e, n)),
    (t.memoizedState = n),
    t.lanes === 0 && (t.updateQueue.baseState = n);
}
var _d = {
  isMounted: function (t) {
    return (t = t._reactInternals) ? ia(t) === t : !1;
  },
  enqueueSetState: function (t, e, n) {
    t = t._reactInternals;
    var i = zt(),
      r = Vi(i);
    (r.payload = e),
      n != null && (r.callback = n),
      (e = Pi(t, r, i)),
      e !== null && (At(e, t, i), fo(e, t, i));
  },
  enqueueReplaceState: function (t, e, n) {
    t = t._reactInternals;
    var i = zt(),
      r = Vi(i);
    (r.tag = 1),
      (r.payload = e),
      n != null && (r.callback = n),
      (e = Pi(t, r, i)),
      e !== null && (At(e, t, i), fo(e, t, i));
  },
  enqueueForceUpdate: function (t, e) {
    t = t._reactInternals;
    var n = zt(),
      i = Vi(n);
    (i.tag = 2),
      e != null && (i.callback = e),
      (e = Pi(t, i, n)),
      e !== null && (At(e, t, n), fo(e, t, n));
  },
};
function ly(t, e, n, i, r, s, a) {
  return (
    (t = t.stateNode),
    typeof t.shouldComponentUpdate == "function"
      ? t.shouldComponentUpdate(i, s, a)
      : e.prototype && e.prototype.isPureReactComponent
      ? !No(n, i) || !No(r, s)
      : !0
  );
}
function uy(t, e, n, i) {
  (t = e.state),
    typeof e.componentWillReceiveProps == "function" &&
      e.componentWillReceiveProps(n, i),
    typeof e.UNSAFE_componentWillReceiveProps == "function" &&
      e.UNSAFE_componentWillReceiveProps(n, i),
    e.state !== t && _d.enqueueReplaceState(e, e.state, null);
}
function Mr(t, e) {
  var n = e;
  if ("ref" in e) {
    n = {};
    for (var i in e) i !== "ref" && (n[i] = e[i]);
  }
  if ((t = t.defaultProps)) {
    n === e && (n = Te({}, n));
    for (var r in t) n[r] === void 0 && (n[r] = t[r]);
  }
  return n;
}
var Zu =
  typeof reportError == "function"
    ? reportError
    : function (t) {
        if (
          typeof window == "object" &&
          typeof window.ErrorEvent == "function"
        ) {
          var e = new window.ErrorEvent("error", {
            bubbles: !0,
            cancelable: !0,
            message:
              typeof t == "object" && t !== null && typeof t.message == "string"
                ? String(t.message)
                : String(t),
            error: t,
          });
          if (!window.dispatchEvent(e)) return;
        } else if (
          typeof process == "object" &&
          typeof process.emit == "function"
        ) {
          process.emit("uncaughtException", t);
          return;
        }
        console.error(t);
      };
function hT(t) {
  Zu(t);
}
function fT(t) {
  console.error(t);
}
function dT(t) {
  Zu(t);
}
function Ju(t, e) {
  try {
    var n = t.onUncaughtError;
    n(e.value, { componentStack: e.stack });
  } catch (i) {
    setTimeout(function () {
      throw i;
    });
  }
}
function cy(t, e, n) {
  try {
    var i = t.onCaughtError;
    i(n.value, {
      componentStack: n.stack,
      errorBoundary: e.tag === 1 ? e.stateNode : null,
    });
  } catch (r) {
    setTimeout(function () {
      throw r;
    });
  }
}
function yd(t, e, n) {
  return (
    (n = Vi(n)),
    (n.tag = 3),
    (n.payload = { element: null }),
    (n.callback = function () {
      Ju(t, e);
    }),
    n
  );
}
function mT(t) {
  return (t = Vi(t)), (t.tag = 3), t;
}
function pT(t, e, n, i) {
  var r = n.type.getDerivedStateFromError;
  if (typeof r == "function") {
    var s = i.value;
    (t.payload = function () {
      return r(s);
    }),
      (t.callback = function () {
        cy(e, n, i);
      });
  }
  var a = n.stateNode;
  a !== null &&
    typeof a.componentDidCatch == "function" &&
    (t.callback = function () {
      cy(e, n, i),
        typeof r != "function" &&
          (Li === null ? (Li = new Set([this])) : Li.add(this));
      var l = i.stack;
      this.componentDidCatch(i.value, { componentStack: l !== null ? l : "" });
    });
}
function F1(t, e, n, i, r) {
  if (
    ((n.flags |= 32768),
    i !== null && typeof i == "object" && typeof i.then == "function")
  ) {
    if (
      ((e = n.alternate),
      e !== null && sl(e, n, r, !0),
      (n = en.current),
      n !== null)
    ) {
      switch (n.tag) {
        case 13:
          return (
            En === null ? kd() : n.alternate === null && ke === 0 && (ke = 3),
            (n.flags &= -257),
            (n.flags |= 65536),
            (n.lanes = r),
            i === hd
              ? (n.flags |= 16384)
              : ((e = n.updateQueue),
                e === null ? (n.updateQueue = new Set([i])) : e.add(i),
                Rf(t, i, r)),
            !1
          );
        case 22:
          return (
            (n.flags |= 65536),
            i === hd
              ? (n.flags |= 16384)
              : ((e = n.updateQueue),
                e === null
                  ? ((e = {
                      transitions: null,
                      markerInstances: null,
                      retryQueue: new Set([i]),
                    }),
                    (n.updateQueue = e))
                  : ((n = e.retryQueue),
                    n === null ? (e.retryQueue = new Set([i])) : n.add(i)),
                Rf(t, i, r)),
            !1
          );
      }
      throw Error(U(435, n.tag));
    }
    return Rf(t, i, r), kd(), !1;
  }
  if (ue)
    return (
      (e = en.current),
      e !== null
        ? (!(e.flags & 65536) && (e.flags |= 256),
          (e.flags |= 65536),
          (e.lanes = r),
          i !== cd && ((t = Error(U(422), { cause: i })), Mo(Yt(t, n))))
        : (i !== cd && ((e = Error(U(423), { cause: i })), Mo(Yt(e, n))),
          (t = t.current.alternate),
          (t.flags |= 65536),
          (r &= -r),
          (t.lanes |= r),
          (i = Yt(i, n)),
          (r = yd(t.stateNode, i, r)),
          yf(t, r),
          ke !== 4 && (ke = 2)),
      !1
    );
  var s = Error(U(520), { cause: i });
  if (
    ((s = Yt(s, n)),
    _o === null ? (_o = [s]) : _o.push(s),
    ke !== 4 && (ke = 2),
    e === null)
  )
    return !0;
  (i = Yt(i, n)), (n = e);
  do {
    switch (n.tag) {
      case 3:
        return (
          (n.flags |= 65536),
          (t = r & -r),
          (n.lanes |= t),
          (t = yd(n.stateNode, i, t)),
          yf(n, t),
          !1
        );
      case 1:
        if (
          ((e = n.type),
          (s = n.stateNode),
          (n.flags & 128) === 0 &&
            (typeof e.getDerivedStateFromError == "function" ||
              (s !== null &&
                typeof s.componentDidCatch == "function" &&
                (Li === null || !Li.has(s)))))
        )
          return (
            (n.flags |= 65536),
            (r &= -r),
            (n.lanes |= r),
            (r = mT(r)),
            pT(r, t, n, i),
            yf(n, r),
            !1
          );
    }
    n = n.return;
  } while (n !== null);
  return !1;
}
var gT = Error(U(461)),
  We = !1;
function tt(t, e, n, i) {
  e.child = t === null ? OE(e, null, n, i) : Or(e, t.child, n, i);
}
function hy(t, e, n, i, r) {
  n = n.render;
  var s = e.ref;
  if ("ref" in i) {
    var a = {};
    for (var l in i) l !== "ref" && (a[l] = i[l]);
  } else a = i;
  return (
    kr(e),
    (i = jm(t, e, n, a, s, r)),
    (l = qm()),
    t !== null && !We
      ? (Hm(t, e, r), si(t, e, r))
      : (ue && l && Vm(e), (e.flags |= 1), tt(t, e, i, r), e.child)
  );
}
function fy(t, e, n, i, r) {
  if (t === null) {
    var s = n.type;
    return typeof s == "function" &&
      !np(s) &&
      s.defaultProps === void 0 &&
      n.compare === null
      ? ((e.tag = 15), (e.type = s), _T(t, e, s, i, r))
      : ((t = wu(n.type, null, i, e, e.mode, r)),
        (t.ref = e.ref),
        (t.return = e),
        (e.child = t));
  }
  if (((s = t.child), !Zm(t, r))) {
    var a = s.memoizedProps;
    if (
      ((n = n.compare), (n = n !== null ? n : No), n(a, i) && t.ref === e.ref)
    )
      return si(t, e, r);
  }
  return (
    (e.flags |= 1),
    (t = Ui(s, i)),
    (t.ref = e.ref),
    (t.return = e),
    (e.child = t)
  );
}
function _T(t, e, n, i, r) {
  if (t !== null) {
    var s = t.memoizedProps;
    if (No(s, i) && t.ref === e.ref)
      if (((We = !1), (e.pendingProps = i = s), Zm(t, r)))
        t.flags & 131072 && (We = !0);
      else return (e.lanes = t.lanes), si(t, e, r);
  }
  return vd(t, e, n, i, r);
}
function yT(t, e, n) {
  var i = e.pendingProps,
    r = i.children,
    s = (e.stateNode._pendingVisibility & 2) !== 0,
    a = t !== null ? t.memoizedState : null;
  if ((ho(t, e), i.mode === "hidden" || s)) {
    if (e.flags & 128) {
      if (((i = a !== null ? a.baseLanes | n : n), t !== null)) {
        for (r = e.child = t.child, s = 0; r !== null; )
          (s = s | r.lanes | r.childLanes), (r = r.sibling);
        e.childLanes = s & ~i;
      } else (e.childLanes = 0), (e.child = null);
      return dy(t, e, i, n);
    }
    if (n & 536870912)
      (e.memoizedState = { baseLanes: 0, cachePool: null }),
        t !== null && vu(e, a !== null ? a.cachePool : null),
        a !== null ? ny(e, a) : fd(),
        NE(e);
    else
      return (
        (e.lanes = e.childLanes = 536870912),
        dy(t, e, a !== null ? a.baseLanes | n : n, n)
      );
  } else
    a !== null
      ? (vu(e, a.cachePool), ny(e, a), wi(), (e.memoizedState = null))
      : (t !== null && vu(e, null), fd(), wi());
  return tt(t, e, r, n), e.child;
}
function dy(t, e, n, i) {
  var r = Bm();
  return (
    (r = r === null ? null : { parent: Fe._currentValue, pool: r }),
    (e.memoizedState = { baseLanes: n, cachePool: r }),
    t !== null && vu(e, null),
    fd(),
    NE(e),
    t !== null && sl(t, e, i, !0),
    null
  );
}
function ho(t, e) {
  var n = e.ref;
  if (n === null) t !== null && t.ref !== null && (e.flags |= 2097664);
  else {
    if (typeof n != "function" && typeof n != "object") throw Error(U(284));
    (t === null || t.ref !== n) && (e.flags |= 2097664);
  }
}
function vd(t, e, n, i, r) {
  return (
    kr(e),
    (n = jm(t, e, n, i, void 0, r)),
    (i = qm()),
    t !== null && !We
      ? (Hm(t, e, r), si(t, e, r))
      : (ue && i && Vm(e), (e.flags |= 1), tt(t, e, n, r), e.child)
  );
}
function my(t, e, n, i, r, s) {
  return (
    kr(e),
    (e.updateQueue = null),
    (n = xE(e, i, n, r)),
    kE(t),
    (i = qm()),
    t !== null && !We
      ? (Hm(t, e, s), si(t, e, s))
      : (ue && i && Vm(e), (e.flags |= 1), tt(t, e, n, s), e.child)
  );
}
function py(t, e, n, i, r) {
  if ((kr(e), e.stateNode === null)) {
    var s = Ts,
      a = n.contextType;
    typeof a == "object" && a !== null && (s = mt(a)),
      (s = new n(i, s)),
      (e.memoizedState =
        s.state !== null && s.state !== void 0 ? s.state : null),
      (s.updater = _d),
      (e.stateNode = s),
      (s._reactInternals = e),
      (s = e.stateNode),
      (s.props = i),
      (s.state = e.memoizedState),
      (s.refs = {}),
      Jm(e),
      (a = n.contextType),
      (s.context = typeof a == "object" && a !== null ? mt(a) : Ts),
      (s.state = e.memoizedState),
      (a = n.getDerivedStateFromProps),
      typeof a == "function" && (ff(e, n, a, i), (s.state = e.memoizedState)),
      typeof n.getDerivedStateFromProps == "function" ||
        typeof s.getSnapshotBeforeUpdate == "function" ||
        (typeof s.UNSAFE_componentWillMount != "function" &&
          typeof s.componentWillMount != "function") ||
        ((a = s.state),
        typeof s.componentWillMount == "function" && s.componentWillMount(),
        typeof s.UNSAFE_componentWillMount == "function" &&
          s.UNSAFE_componentWillMount(),
        a !== s.state && _d.enqueueReplaceState(s, s.state, null),
        po(e, i, s, r),
        mo(),
        (s.state = e.memoizedState)),
      typeof s.componentDidMount == "function" && (e.flags |= 4194308),
      (i = !0);
  } else if (t === null) {
    s = e.stateNode;
    var l = e.memoizedProps,
      u = Mr(n, l);
    s.props = u;
    var c = s.context,
      f = n.contextType;
    (a = Ts), typeof f == "object" && f !== null && (a = mt(f));
    var p = n.getDerivedStateFromProps;
    (f =
      typeof p == "function" || typeof s.getSnapshotBeforeUpdate == "function"),
      (l = e.pendingProps !== l),
      f ||
        (typeof s.UNSAFE_componentWillReceiveProps != "function" &&
          typeof s.componentWillReceiveProps != "function") ||
        ((l || c !== a) && uy(e, s, i, a)),
      (Ti = !1);
    var m = e.memoizedState;
    (s.state = m),
      po(e, i, s, r),
      mo(),
      (c = e.memoizedState),
      l || m !== c || Ti
        ? (typeof p == "function" && (ff(e, n, p, i), (c = e.memoizedState)),
          (u = Ti || ly(e, n, u, i, m, c, a))
            ? (f ||
                (typeof s.UNSAFE_componentWillMount != "function" &&
                  typeof s.componentWillMount != "function") ||
                (typeof s.componentWillMount == "function" &&
                  s.componentWillMount(),
                typeof s.UNSAFE_componentWillMount == "function" &&
                  s.UNSAFE_componentWillMount()),
              typeof s.componentDidMount == "function" && (e.flags |= 4194308))
            : (typeof s.componentDidMount == "function" && (e.flags |= 4194308),
              (e.memoizedProps = i),
              (e.memoizedState = c)),
          (s.props = i),
          (s.state = c),
          (s.context = a),
          (i = u))
        : (typeof s.componentDidMount == "function" && (e.flags |= 4194308),
          (i = !1));
  } else {
    (s = e.stateNode),
      Rd(t, e),
      (a = e.memoizedProps),
      (f = Mr(n, a)),
      (s.props = f),
      (p = e.pendingProps),
      (m = s.context),
      (c = n.contextType),
      (u = Ts),
      typeof c == "object" && c !== null && (u = mt(c)),
      (l = n.getDerivedStateFromProps),
      (c =
        typeof l == "function" ||
        typeof s.getSnapshotBeforeUpdate == "function") ||
        (typeof s.UNSAFE_componentWillReceiveProps != "function" &&
          typeof s.componentWillReceiveProps != "function") ||
        ((a !== p || m !== u) && uy(e, s, i, u)),
      (Ti = !1),
      (m = e.memoizedState),
      (s.state = m),
      po(e, i, s, r),
      mo();
    var _ = e.memoizedState;
    a !== p ||
    m !== _ ||
    Ti ||
    (t !== null && t.dependencies !== null && ec(t.dependencies))
      ? (typeof l == "function" && (ff(e, n, l, i), (_ = e.memoizedState)),
        (f =
          Ti ||
          ly(e, n, f, i, m, _, u) ||
          (t !== null && t.dependencies !== null && ec(t.dependencies)))
          ? (c ||
              (typeof s.UNSAFE_componentWillUpdate != "function" &&
                typeof s.componentWillUpdate != "function") ||
              (typeof s.componentWillUpdate == "function" &&
                s.componentWillUpdate(i, _, u),
              typeof s.UNSAFE_componentWillUpdate == "function" &&
                s.UNSAFE_componentWillUpdate(i, _, u)),
            typeof s.componentDidUpdate == "function" && (e.flags |= 4),
            typeof s.getSnapshotBeforeUpdate == "function" && (e.flags |= 1024))
          : (typeof s.componentDidUpdate != "function" ||
              (a === t.memoizedProps && m === t.memoizedState) ||
              (e.flags |= 4),
            typeof s.getSnapshotBeforeUpdate != "function" ||
              (a === t.memoizedProps && m === t.memoizedState) ||
              (e.flags |= 1024),
            (e.memoizedProps = i),
            (e.memoizedState = _)),
        (s.props = i),
        (s.state = _),
        (s.context = u),
        (i = f))
      : (typeof s.componentDidUpdate != "function" ||
          (a === t.memoizedProps && m === t.memoizedState) ||
          (e.flags |= 4),
        typeof s.getSnapshotBeforeUpdate != "function" ||
          (a === t.memoizedProps && m === t.memoizedState) ||
          (e.flags |= 1024),
        (i = !1));
  }
  return (
    (s = i),
    ho(t, e),
    (i = (e.flags & 128) !== 0),
    s || i
      ? ((s = e.stateNode),
        (n =
          i && typeof n.getDerivedStateFromError != "function"
            ? null
            : s.render()),
        (e.flags |= 1),
        t !== null && i
          ? ((e.child = Or(e, t.child, null, r)), (e.child = Or(e, null, n, r)))
          : tt(t, e, n, r),
        (e.memoizedState = s.state),
        (t = e.child))
      : (t = si(t, e, r)),
    t
  );
}
function gy(t, e, n, i) {
  return nl(), (e.flags |= 256), tt(t, e, n, i), e.child;
}
var df = { dehydrated: null, treeContext: null, retryLane: 0 };
function mf(t) {
  return { baseLanes: t, cachePool: ME() };
}
function pf(t, e, n) {
  return (t = t !== null ? t.childLanes & ~n : 0), e && (t |= Zt), t;
}
function vT(t, e, n) {
  var i = e.pendingProps,
    r = !1,
    s = (e.flags & 128) !== 0,
    a;
  if (
    ((a = s) ||
      (a =
        t !== null && t.memoizedState === null ? !1 : (Ge.current & 2) !== 0),
    a && ((r = !0), (e.flags &= -129)),
    (a = (e.flags & 32) !== 0),
    (e.flags &= -33),
    t === null)
  ) {
    if (ue) {
      if ((r ? Ai(e) : wi(), ue)) {
        var l = it,
          u;
        if ((u = l)) {
          e: {
            for (u = l, l = mn; u.nodeType !== 8; ) {
              if (!l) {
                l = null;
                break e;
              }
              if (((u = on(u.nextSibling)), u === null)) {
                l = null;
                break e;
              }
            }
            l = u;
          }
          l !== null
            ? ((e.memoizedState = {
                dehydrated: l,
                treeContext: Ar !== null ? { id: Gn, overflow: Kn } : null,
                retryLane: 536870912,
              }),
              (u = Wt(18, null, null, 0)),
              (u.stateNode = l),
              (u.return = e),
              (e.child = u),
              (Et = e),
              (it = null),
              (u = !0))
            : (u = !1);
        }
        u || Dr(e);
      }
      if (
        ((l = e.memoizedState), l !== null && ((l = l.dehydrated), l !== null))
      )
        return l.data === "$!" ? (e.lanes = 16) : (e.lanes = 536870912), null;
      Qn(e);
    }
    return (
      (l = i.children),
      (i = i.fallback),
      r
        ? (wi(),
          (r = e.mode),
          (l = Td({ mode: "hidden", children: l }, r)),
          (i = Sr(i, r, n, null)),
          (l.return = e),
          (i.return = e),
          (l.sibling = i),
          (e.child = l),
          (r = e.child),
          (r.memoizedState = mf(n)),
          (r.childLanes = pf(t, a, n)),
          (e.memoizedState = df),
          i)
        : (Ai(e), Ed(e, l))
    );
  }
  if (((u = t.memoizedState), u !== null && ((l = u.dehydrated), l !== null))) {
    if (s)
      e.flags & 256
        ? (Ai(e), (e.flags &= -257), (e = gf(t, e, n)))
        : e.memoizedState !== null
        ? (wi(), (e.child = t.child), (e.flags |= 128), (e = null))
        : (wi(),
          (r = i.fallback),
          (l = e.mode),
          (i = Td({ mode: "visible", children: i.children }, l)),
          (r = Sr(r, l, n, null)),
          (r.flags |= 2),
          (i.return = e),
          (r.return = e),
          (i.sibling = r),
          (e.child = i),
          Or(e, t.child, null, n),
          (i = e.child),
          (i.memoizedState = mf(n)),
          (i.childLanes = pf(t, a, n)),
          (e.memoizedState = df),
          (e = r));
    else if ((Ai(e), l.data === "$!")) {
      if (((a = l.nextSibling && l.nextSibling.dataset), a)) var c = a.dgst;
      (a = c),
        (i = Error(U(419))),
        (i.stack = ""),
        (i.digest = a),
        Mo({ value: i, source: null, stack: null }),
        (e = gf(t, e, n));
    } else if (
      (We || sl(t, e, n, !1), (a = (n & t.childLanes) !== 0), We || a)
    ) {
      if (((a = ge), a !== null)) {
        if (((i = n & -n), i & 42)) i = 1;
        else
          switch (i) {
            case 2:
              i = 1;
              break;
            case 8:
              i = 4;
              break;
            case 32:
              i = 16;
              break;
            case 128:
            case 256:
            case 512:
            case 1024:
            case 2048:
            case 4096:
            case 8192:
            case 16384:
            case 32768:
            case 65536:
            case 131072:
            case 262144:
            case 524288:
            case 1048576:
            case 2097152:
            case 4194304:
            case 8388608:
            case 16777216:
            case 33554432:
              i = 64;
              break;
            case 268435456:
              i = 134217728;
              break;
            default:
              i = 0;
          }
        if (
          ((i = i & (a.suspendedLanes | n) ? 0 : i),
          i !== 0 && i !== u.retryLane)
        )
          throw ((u.retryLane = i), Gi(t, i), At(a, t, i), gT);
      }
      l.data === "$?" || kd(), (e = gf(t, e, n));
    } else
      l.data === "$?"
        ? ((e.flags |= 128),
          (e.child = t.child),
          (e = sI.bind(null, t)),
          (l._reactRetry = e),
          (e = null))
        : ((t = u.treeContext),
          (it = on(l.nextSibling)),
          (Et = e),
          (ue = !0),
          (sn = null),
          (mn = !1),
          t !== null &&
            ((Kt[Qt++] = Gn),
            (Kt[Qt++] = Kn),
            (Kt[Qt++] = Ar),
            (Gn = t.id),
            (Kn = t.overflow),
            (Ar = e)),
          (e = Ed(e, i.children)),
          (e.flags |= 4096));
    return e;
  }
  return r
    ? (wi(),
      (r = i.fallback),
      (l = e.mode),
      (u = t.child),
      (c = u.sibling),
      (i = Ui(u, { mode: "hidden", children: i.children })),
      (i.subtreeFlags = u.subtreeFlags & 31457280),
      c !== null ? (r = Ui(c, r)) : ((r = Sr(r, l, n, null)), (r.flags |= 2)),
      (r.return = e),
      (i.return = e),
      (i.sibling = r),
      (e.child = i),
      (i = r),
      (r = e.child),
      (l = t.child.memoizedState),
      l === null
        ? (l = mf(n))
        : ((u = l.cachePool),
          u !== null
            ? ((c = Fe._currentValue),
              (u = u.parent !== c ? { parent: c, pool: c } : u))
            : (u = ME()),
          (l = { baseLanes: l.baseLanes | n, cachePool: u })),
      (r.memoizedState = l),
      (r.childLanes = pf(t, a, n)),
      (e.memoizedState = df),
      i)
    : (Ai(e),
      (n = t.child),
      (t = n.sibling),
      (n = Ui(n, { mode: "visible", children: i.children })),
      (n.return = e),
      (n.sibling = null),
      t !== null &&
        ((a = e.deletions),
        a === null ? ((e.deletions = [t]), (e.flags |= 16)) : a.push(t)),
      (e.child = n),
      (e.memoizedState = null),
      n);
}
function Ed(t, e) {
  return (
    (e = Td({ mode: "visible", children: e }, t.mode)),
    (e.return = t),
    (t.child = e)
  );
}
function Td(t, e) {
  return jT(t, e, 0, null);
}
function gf(t, e, n) {
  return (
    Or(e, t.child, null, n),
    (t = Ed(e, e.pendingProps.children)),
    (t.flags |= 2),
    (e.memoizedState = null),
    t
  );
}
function _y(t, e, n) {
  t.lanes |= e;
  var i = t.alternate;
  i !== null && (i.lanes |= e), wd(t.return, e, n);
}
function _f(t, e, n, i, r) {
  var s = t.memoizedState;
  s === null
    ? (t.memoizedState = {
        isBackwards: e,
        rendering: null,
        renderingStartTime: 0,
        last: i,
        tail: n,
        tailMode: r,
      })
    : ((s.isBackwards = e),
      (s.rendering = null),
      (s.renderingStartTime = 0),
      (s.last = i),
      (s.tail = n),
      (s.tailMode = r));
}
function ET(t, e, n) {
  var i = e.pendingProps,
    r = i.revealOrder,
    s = i.tail;
  if ((tt(t, e, i.children, n), (i = Ge.current), i & 2))
    (i = (i & 1) | 2), (e.flags |= 128);
  else {
    if (t !== null && t.flags & 128)
      e: for (t = e.child; t !== null; ) {
        if (t.tag === 13) t.memoizedState !== null && _y(t, n, e);
        else if (t.tag === 19) _y(t, n, e);
        else if (t.child !== null) {
          (t.child.return = t), (t = t.child);
          continue;
        }
        if (t === e) break e;
        for (; t.sibling === null; ) {
          if (t.return === null || t.return === e) break e;
          t = t.return;
        }
        (t.sibling.return = t.return), (t = t.sibling);
      }
    i &= 1;
  }
  switch ((we(Ge, i), r)) {
    case "forwards":
      for (n = e.child, r = null; n !== null; )
        (t = n.alternate),
          t !== null && Yu(t) === null && (r = n),
          (n = n.sibling);
      (n = r),
        n === null
          ? ((r = e.child), (e.child = null))
          : ((r = n.sibling), (n.sibling = null)),
        _f(e, !1, r, n, s);
      break;
    case "backwards":
      for (n = null, r = e.child, e.child = null; r !== null; ) {
        if (((t = r.alternate), t !== null && Yu(t) === null)) {
          e.child = r;
          break;
        }
        (t = r.sibling), (r.sibling = n), (n = r), (r = t);
      }
      _f(e, !0, n, null, s);
      break;
    case "together":
      _f(e, !1, null, null, void 0);
      break;
    default:
      e.memoizedState = null;
  }
  return e.child;
}
function si(t, e, n) {
  if (
    (t !== null && (e.dependencies = t.dependencies),
    ($i |= e.lanes),
    !(n & e.childLanes))
  )
    if (t !== null) {
      if ((sl(t, e, n, !1), (n & e.childLanes) === 0)) return null;
    } else return null;
  if (t !== null && e.child !== t.child) throw Error(U(153));
  if (e.child !== null) {
    for (
      t = e.child, n = Ui(t, t.pendingProps), e.child = n, n.return = e;
      t.sibling !== null;

    )
      (t = t.sibling), (n = n.sibling = Ui(t, t.pendingProps)), (n.return = e);
    n.sibling = null;
  }
  return e.child;
}
function Zm(t, e) {
  return t.lanes & e ? !0 : ((t = t.dependencies), !!(t !== null && ec(t)));
}
function G1(t, e, n) {
  switch (e.tag) {
    case 3:
      zu(e, e.stateNode.containerInfo), Si(e, Fe, t.memoizedState.cache), nl();
      break;
    case 27:
    case 5:
      td(e);
      break;
    case 4:
      zu(e, e.stateNode.containerInfo);
      break;
    case 10:
      Si(e, e.type, e.memoizedProps.value);
      break;
    case 13:
      var i = e.memoizedState;
      if (i !== null)
        return i.dehydrated !== null
          ? (Ai(e), (e.flags |= 128), null)
          : n & e.child.childLanes
          ? vT(t, e, n)
          : (Ai(e), (t = si(t, e, n)), t !== null ? t.sibling : null);
      Ai(e);
      break;
    case 19:
      var r = (t.flags & 128) !== 0;
      if (
        ((i = (n & e.childLanes) !== 0),
        i || (sl(t, e, n, !1), (i = (n & e.childLanes) !== 0)),
        r)
      ) {
        if (i) return ET(t, e, n);
        e.flags |= 128;
      }
      if (
        ((r = e.memoizedState),
        r !== null &&
          ((r.rendering = null), (r.tail = null), (r.lastEffect = null)),
        we(Ge, Ge.current),
        i)
      )
        break;
      return null;
    case 22:
    case 23:
      return (e.lanes = 0), yT(t, e, n);
    case 24:
      Si(e, Fe, t.memoizedState.cache);
  }
  return si(t, e, n);
}
function TT(t, e, n) {
  if (t !== null)
    if (t.memoizedProps !== e.pendingProps) We = !0;
    else {
      if (!Zm(t, n) && !(e.flags & 128)) return (We = !1), G1(t, e, n);
      We = !!(t.flags & 131072);
    }
  else (We = !1), ue && e.flags & 1048576 && bE(e, Qu, e.index);
  switch (((e.lanes = 0), e.tag)) {
    case 16:
      e: {
        t = e.pendingProps;
        var i = e.elementType,
          r = i._init;
        if (((i = r(i._payload)), (e.type = i), typeof i == "function"))
          np(i)
            ? ((t = Mr(i, t)), (e.tag = 1), (e = py(null, e, i, t, n)))
            : ((e.tag = 0), (e = vd(null, e, i, t, n)));
        else {
          if (i != null) {
            if (((r = i.$$typeof), r === wm)) {
              (e.tag = 11), (e = hy(null, e, i, t, n));
              break e;
            } else if (r === Sm) {
              (e.tag = 14), (e = fy(null, e, i, t, n));
              break e;
            }
          }
          throw ((e = Jf(i) || i), Error(U(306, e, "")));
        }
      }
      return e;
    case 0:
      return vd(t, e, e.type, e.pendingProps, n);
    case 1:
      return (i = e.type), (r = Mr(i, e.pendingProps)), py(t, e, i, r, n);
    case 3:
      e: {
        if ((zu(e, e.stateNode.containerInfo), t === null)) throw Error(U(387));
        var s = e.pendingProps;
        (r = e.memoizedState), (i = r.element), Rd(t, e), po(e, s, null, n);
        var a = e.memoizedState;
        if (
          ((s = a.cache),
          Si(e, Fe, s),
          s !== r.cache && Sd(e, [Fe], n, !0),
          mo(),
          (s = a.element),
          r.isDehydrated)
        )
          if (
            ((r = { element: s, isDehydrated: !1, cache: a.cache }),
            (e.updateQueue.baseState = r),
            (e.memoizedState = r),
            e.flags & 256)
          ) {
            e = gy(t, e, s, n);
            break e;
          } else if (s !== i) {
            (i = Yt(Error(U(424)), e)), Mo(i), (e = gy(t, e, s, n));
            break e;
          } else
            for (
              it = on(e.stateNode.containerInfo.firstChild),
                Et = e,
                ue = !0,
                sn = null,
                mn = !0,
                n = OE(e, null, s, n),
                e.child = n;
              n;

            )
              (n.flags = (n.flags & -3) | 4096), (n = n.sibling);
        else {
          if ((nl(), s === i)) {
            e = si(t, e, n);
            break e;
          }
          tt(t, e, s, n);
        }
        e = e.child;
      }
      return e;
    case 26:
      return (
        ho(t, e),
        t === null
          ? (n = Vy(e.type, null, e.pendingProps, null))
            ? (e.memoizedState = n)
            : ue ||
              ((n = e.type),
              (t = e.pendingProps),
              (i = oc(xi.current).createElement(n)),
              (i[dt] = e),
              (i[Ct] = t),
              st(i, n, t),
              Xe(i),
              (e.stateNode = i))
          : (e.memoizedState = Vy(
              e.type,
              t.memoizedProps,
              e.pendingProps,
              t.memoizedState
            )),
        null
      );
    case 27:
      return (
        td(e),
        t === null &&
          ue &&
          ((i = e.stateNode = sA(e.type, e.pendingProps, xi.current)),
          (Et = e),
          (mn = !0),
          (it = on(i.firstChild))),
        (i = e.pendingProps.children),
        t !== null || ue ? tt(t, e, i, n) : (e.child = Or(e, null, i, n)),
        ho(t, e),
        e.child
      );
    case 5:
      return (
        t === null &&
          ue &&
          ((r = i = it) &&
            ((i = TI(i, e.type, e.pendingProps, mn)),
            i !== null
              ? ((e.stateNode = i),
                (Et = e),
                (it = on(i.firstChild)),
                (mn = !1),
                (r = !0))
              : (r = !1)),
          r || Dr(e)),
        td(e),
        (r = e.type),
        (s = e.pendingProps),
        (a = t !== null ? t.memoizedProps : null),
        (i = s.children),
        Ld(r, s) ? (i = null) : a !== null && Ld(r, a) && (e.flags |= 32),
        e.memoizedState !== null &&
          ((r = jm(t, e, L1, null, null, n)), (Lo._currentValue = r)),
        ho(t, e),
        tt(t, e, i, n),
        e.child
      );
    case 6:
      return (
        t === null &&
          ue &&
          ((t = n = it) &&
            ((n = AI(n, e.pendingProps, mn)),
            n !== null
              ? ((e.stateNode = n), (Et = e), (it = null), (t = !0))
              : (t = !1)),
          t || Dr(e)),
        null
      );
    case 13:
      return vT(t, e, n);
    case 4:
      return (
        zu(e, e.stateNode.containerInfo),
        (i = e.pendingProps),
        t === null ? (e.child = Or(e, null, i, n)) : tt(t, e, i, n),
        e.child
      );
    case 11:
      return hy(t, e, e.type, e.pendingProps, n);
    case 7:
      return tt(t, e, e.pendingProps, n), e.child;
    case 8:
      return tt(t, e, e.pendingProps.children, n), e.child;
    case 12:
      return tt(t, e, e.pendingProps.children, n), e.child;
    case 10:
      return (
        (i = e.pendingProps),
        Si(e, e.type, i.value),
        tt(t, e, i.children, n),
        e.child
      );
    case 9:
      return (
        (r = e.type._context),
        (i = e.pendingProps.children),
        kr(e),
        (r = mt(r)),
        (i = i(r)),
        (e.flags |= 1),
        tt(t, e, i, n),
        e.child
      );
    case 14:
      return fy(t, e, e.type, e.pendingProps, n);
    case 15:
      return _T(t, e, e.type, e.pendingProps, n);
    case 19:
      return ET(t, e, n);
    case 22:
      return yT(t, e, n);
    case 24:
      return (
        kr(e),
        (i = mt(Fe)),
        t === null
          ? ((r = Bm()),
            r === null &&
              ((r = ge),
              (s = Lm()),
              (r.pooledCache = s),
              s.refCount++,
              s !== null && (r.pooledCacheLanes |= n),
              (r = s)),
            (e.memoizedState = { parent: i, cache: r }),
            Jm(e),
            Si(e, Fe, r))
          : (t.lanes & n && (Rd(t, e), po(e, null, null, n), mo()),
            (r = t.memoizedState),
            (s = e.memoizedState),
            r.parent !== i
              ? ((r = { parent: i, cache: i }),
                (e.memoizedState = r),
                e.lanes === 0 &&
                  (e.memoizedState = e.updateQueue.baseState = r),
                Si(e, Fe, i))
              : ((i = s.cache),
                Si(e, Fe, i),
                i !== r.cache && Sd(e, [Fe], n, !0))),
        tt(t, e, e.pendingProps.children, n),
        e.child
      );
    case 29:
      throw e.pendingProps;
  }
  throw Error(U(156, e.tag));
}
var Ad = Dn(null),
  Gr = null,
  $n = null;
function Si(t, e, n) {
  we(Ad, e._currentValue), (e._currentValue = n);
}
function Zn(t) {
  (t._currentValue = Ad.current), Ze(Ad);
}
function wd(t, e, n) {
  for (; t !== null; ) {
    var i = t.alternate;
    if (
      ((t.childLanes & e) !== e
        ? ((t.childLanes |= e), i !== null && (i.childLanes |= e))
        : i !== null && (i.childLanes & e) !== e && (i.childLanes |= e),
      t === n)
    )
      break;
    t = t.return;
  }
}
function Sd(t, e, n, i) {
  var r = t.child;
  for (r !== null && (r.return = t); r !== null; ) {
    var s = r.dependencies;
    if (s !== null) {
      var a = r.child;
      s = s.firstContext;
      e: for (; s !== null; ) {
        var l = s;
        s = r;
        for (var u = 0; u < e.length; u++)
          if (l.context === e[u]) {
            (s.lanes |= n),
              (l = s.alternate),
              l !== null && (l.lanes |= n),
              wd(s.return, n, t),
              i || (a = null);
            break e;
          }
        s = l.next;
      }
    } else if (r.tag === 18) {
      if (((a = r.return), a === null)) throw Error(U(341));
      (a.lanes |= n),
        (s = a.alternate),
        s !== null && (s.lanes |= n),
        wd(a, n, t),
        (a = null);
    } else a = r.child;
    if (a !== null) a.return = r;
    else
      for (a = r; a !== null; ) {
        if (a === t) {
          a = null;
          break;
        }
        if (((r = a.sibling), r !== null)) {
          (r.return = a.return), (a = r);
          break;
        }
        a = a.return;
      }
    r = a;
  }
}
function sl(t, e, n, i) {
  t = null;
  for (var r = e, s = !1; r !== null; ) {
    if (!s) {
      if (r.flags & 524288) s = !0;
      else if (r.flags & 262144) break;
    }
    if (r.tag === 10) {
      var a = r.alternate;
      if (a === null) throw Error(U(387));
      if (((a = a.memoizedProps), a !== null)) {
        var l = r.type;
        jt(r.pendingProps.value, a.value) ||
          (t !== null ? t.push(l) : (t = [l]));
      }
    } else if (r === Bu.current) {
      if (((a = r.alternate), a === null)) throw Error(U(387));
      a.memoizedState.memoizedState !== r.memoizedState.memoizedState &&
        (t !== null ? t.push(Lo) : (t = [Lo]));
    }
    r = r.return;
  }
  t !== null && Sd(e, t, n, i), (e.flags |= 262144);
}
function ec(t) {
  for (t = t.firstContext; t !== null; ) {
    if (!jt(t.context._currentValue, t.memoizedValue)) return !0;
    t = t.next;
  }
  return !1;
}
function kr(t) {
  (Gr = t),
    ($n = null),
    (t = t.dependencies),
    t !== null && (t.firstContext = null);
}
function mt(t) {
  return AT(Gr, t);
}
function Jl(t, e) {
  return Gr === null && kr(t), AT(t, e);
}
function AT(t, e) {
  var n = e._currentValue;
  if (((e = { context: e, memoizedValue: n, next: null }), $n === null)) {
    if (t === null) throw Error(U(308));
    ($n = e),
      (t.dependencies = { lanes: 0, firstContext: e }),
      (t.flags |= 524288);
  } else $n = $n.next = e;
  return n;
}
var Ti = !1;
function Jm(t) {
  t.updateQueue = {
    baseState: t.memoizedState,
    firstBaseUpdate: null,
    lastBaseUpdate: null,
    shared: { pending: null, lanes: 0, hiddenCallbacks: null },
    callbacks: null,
  };
}
function Rd(t, e) {
  (t = t.updateQueue),
    e.updateQueue === t &&
      (e.updateQueue = {
        baseState: t.baseState,
        firstBaseUpdate: t.firstBaseUpdate,
        lastBaseUpdate: t.lastBaseUpdate,
        shared: t.shared,
        callbacks: null,
      });
}
function Vi(t) {
  return { lane: t, tag: 0, payload: null, callback: null, next: null };
}
function Pi(t, e, n) {
  var i = t.updateQueue;
  if (i === null) return null;
  if (((i = i.shared), Ce & 2)) {
    var r = i.pending;
    return (
      r === null ? (e.next = e) : ((e.next = r.next), (r.next = e)),
      (i.pending = e),
      (e = Gu(t)),
      RE(t, null, n),
      e
    );
  }
  return jc(t, i, e, n), Gu(t);
}
function fo(t, e, n) {
  if (
    ((e = e.updateQueue), e !== null && ((e = e.shared), (n & 4194176) !== 0))
  ) {
    var i = e.lanes;
    (i &= t.pendingLanes), (n |= i), (e.lanes = n), Z0(t, n);
  }
}
function yf(t, e) {
  var n = t.updateQueue,
    i = t.alternate;
  if (i !== null && ((i = i.updateQueue), n === i)) {
    var r = null,
      s = null;
    if (((n = n.firstBaseUpdate), n !== null)) {
      do {
        var a = {
          lane: n.lane,
          tag: n.tag,
          payload: n.payload,
          callback: null,
          next: null,
        };
        s === null ? (r = s = a) : (s = s.next = a), (n = n.next);
      } while (n !== null);
      s === null ? (r = s = e) : (s = s.next = e);
    } else r = s = e;
    (n = {
      baseState: i.baseState,
      firstBaseUpdate: r,
      lastBaseUpdate: s,
      shared: i.shared,
      callbacks: i.callbacks,
    }),
      (t.updateQueue = n);
    return;
  }
  (t = n.lastBaseUpdate),
    t === null ? (n.firstBaseUpdate = e) : (t.next = e),
    (n.lastBaseUpdate = e);
}
var bd = !1;
function mo() {
  if (bd) {
    var t = Os;
    if (t !== null) throw t;
  }
}
function po(t, e, n, i) {
  bd = !1;
  var r = t.updateQueue;
  Ti = !1;
  var s = r.firstBaseUpdate,
    a = r.lastBaseUpdate,
    l = r.shared.pending;
  if (l !== null) {
    r.shared.pending = null;
    var u = l,
      c = u.next;
    (u.next = null), a === null ? (s = c) : (a.next = c), (a = u);
    var f = t.alternate;
    f !== null &&
      ((f = f.updateQueue),
      (l = f.lastBaseUpdate),
      l !== a &&
        (l === null ? (f.firstBaseUpdate = c) : (l.next = c),
        (f.lastBaseUpdate = u)));
  }
  if (s !== null) {
    var p = r.baseState;
    (a = 0), (f = c = u = null), (l = s);
    do {
      var m = l.lane & -536870913,
        _ = m !== l.lane;
      if (_ ? (oe & m) === m : (i & m) === m) {
        m !== 0 && m === qs && (bd = !0),
          f !== null &&
            (f = f.next =
              {
                lane: 0,
                tag: l.tag,
                payload: l.payload,
                callback: null,
                next: null,
              });
        e: {
          var b = t,
            C = l;
          m = e;
          var D = n;
          switch (C.tag) {
            case 1:
              if (((b = C.payload), typeof b == "function")) {
                p = b.call(D, p, m);
                break e;
              }
              p = b;
              break e;
            case 3:
              b.flags = (b.flags & -65537) | 128;
            case 0:
              if (
                ((b = C.payload),
                (m = typeof b == "function" ? b.call(D, p, m) : b),
                m == null)
              )
                break e;
              p = Te({}, p, m);
              break e;
            case 2:
              Ti = !0;
          }
        }
        (m = l.callback),
          m !== null &&
            ((t.flags |= 64),
            _ && (t.flags |= 8192),
            (_ = r.callbacks),
            _ === null ? (r.callbacks = [m]) : _.push(m));
      } else
        (_ = {
          lane: m,
          tag: l.tag,
          payload: l.payload,
          callback: l.callback,
          next: null,
        }),
          f === null ? ((c = f = _), (u = p)) : (f = f.next = _),
          (a |= m);
      if (((l = l.next), l === null)) {
        if (((l = r.shared.pending), l === null)) break;
        (_ = l),
          (l = _.next),
          (_.next = null),
          (r.lastBaseUpdate = _),
          (r.shared.pending = null);
      }
    } while (1);
    f === null && (u = p),
      (r.baseState = u),
      (r.firstBaseUpdate = c),
      (r.lastBaseUpdate = f),
      s === null && (r.shared.lanes = 0),
      ($i |= a),
      (t.lanes = a),
      (t.memoizedState = p);
  }
}
function wT(t, e) {
  if (typeof t != "function") throw Error(U(191, t));
  t.call(e);
}
function ST(t, e) {
  var n = t.callbacks;
  if (n !== null)
    for (t.callbacks = null, t = 0; t < n.length; t++) wT(n[t], e);
}
function al(t, e) {
  try {
    var n = e.updateQueue,
      i = n !== null ? n.lastEffect : null;
    if (i !== null) {
      var r = i.next;
      n = r;
      do {
        if ((n.tag & t) === t) {
          i = void 0;
          var s = n.create,
            a = n.inst;
          (i = s()), (a.destroy = i);
        }
        n = n.next;
      } while (n !== r);
    }
  } catch (l) {
    me(e, e.return, l);
  }
}
function Qi(t, e, n) {
  try {
    var i = e.updateQueue,
      r = i !== null ? i.lastEffect : null;
    if (r !== null) {
      var s = r.next;
      i = s;
      do {
        if ((i.tag & t) === t) {
          var a = i.inst,
            l = a.destroy;
          if (l !== void 0) {
            (a.destroy = void 0), (r = e);
            var u = n;
            try {
              l();
            } catch (c) {
              me(r, u, c);
            }
          }
        }
        i = i.next;
      } while (i !== s);
    }
  } catch (c) {
    me(e, e.return, c);
  }
}
function RT(t) {
  var e = t.updateQueue;
  if (e !== null) {
    var n = t.stateNode;
    try {
      ST(e, n);
    } catch (i) {
      me(t, t.return, i);
    }
  }
}
function bT(t, e, n) {
  (n.props = Mr(t.type, t.memoizedProps)), (n.state = t.memoizedState);
  try {
    n.componentWillUnmount();
  } catch (i) {
    me(t, e, i);
  }
}
function vr(t, e) {
  try {
    var n = t.ref;
    if (n !== null) {
      var i = t.stateNode;
      switch (t.tag) {
        case 26:
        case 27:
        case 5:
          var r = i;
          break;
        default:
          r = i;
      }
      typeof n == "function" ? (t.refCleanup = n(r)) : (n.current = r);
    }
  } catch (s) {
    me(t, e, s);
  }
}
function Vt(t, e) {
  var n = t.ref,
    i = t.refCleanup;
  if (n !== null)
    if (typeof i == "function")
      try {
        i();
      } catch (r) {
        me(t, e, r);
      } finally {
        (t.refCleanup = null),
          (t = t.alternate),
          t != null && (t.refCleanup = null);
      }
    else if (typeof n == "function")
      try {
        n(null);
      } catch (r) {
        me(t, e, r);
      }
    else n.current = null;
}
function IT(t) {
  var e = t.type,
    n = t.memoizedProps,
    i = t.stateNode;
  try {
    e: switch (e) {
      case "button":
      case "input":
      case "select":
      case "textarea":
        n.autoFocus && i.focus();
        break e;
      case "img":
        n.src ? (i.src = n.src) : n.srcSet && (i.srcset = n.srcSet);
    }
  } catch (r) {
    me(t, t.return, r);
  }
}
function yy(t, e, n) {
  try {
    var i = t.stateNode;
    gI(i, t.type, n, e), (i[Ct] = e);
  } catch (r) {
    me(t, t.return, r);
  }
}
function CT(t) {
  return (
    t.tag === 5 || t.tag === 3 || t.tag === 26 || t.tag === 27 || t.tag === 4
  );
}
function vf(t) {
  e: for (;;) {
    for (; t.sibling === null; ) {
      if (t.return === null || CT(t.return)) return null;
      t = t.return;
    }
    for (
      t.sibling.return = t.return, t = t.sibling;
      t.tag !== 5 && t.tag !== 6 && t.tag !== 27 && t.tag !== 18;

    ) {
      if (t.flags & 2 || t.child === null || t.tag === 4) continue e;
      (t.child.return = t), (t = t.child);
    }
    if (!(t.flags & 2)) return t.stateNode;
  }
}
function Id(t, e, n) {
  var i = t.tag;
  if (i === 5 || i === 6)
    (t = t.stateNode),
      e
        ? n.nodeType === 8
          ? n.parentNode.insertBefore(t, e)
          : n.insertBefore(t, e)
        : (n.nodeType === 8
            ? ((e = n.parentNode), e.insertBefore(t, n))
            : ((e = n), e.appendChild(t)),
          (n = n._reactRootContainer),
          n != null || e.onclick !== null || (e.onclick = $c));
  else if (i !== 4 && i !== 27 && ((t = t.child), t !== null))
    for (Id(t, e, n), t = t.sibling; t !== null; ) Id(t, e, n), (t = t.sibling);
}
function tc(t, e, n) {
  var i = t.tag;
  if (i === 5 || i === 6)
    (t = t.stateNode), e ? n.insertBefore(t, e) : n.appendChild(t);
  else if (i !== 4 && i !== 27 && ((t = t.child), t !== null))
    for (tc(t, e, n), t = t.sibling; t !== null; ) tc(t, e, n), (t = t.sibling);
}
var jn = !1,
  Me = !1,
  Ef = !1,
  vy = typeof WeakSet == "function" ? WeakSet : Set,
  Ye = null,
  Ey = !1;
function K1(t, e) {
  if (((t = t.containerInfo), (Pd = hc), (t = yE(t)), Mm(t))) {
    if ("selectionStart" in t)
      var n = { start: t.selectionStart, end: t.selectionEnd };
    else
      e: {
        n = ((n = t.ownerDocument) && n.defaultView) || window;
        var i = n.getSelection && n.getSelection();
        if (i && i.rangeCount !== 0) {
          n = i.anchorNode;
          var r = i.anchorOffset,
            s = i.focusNode;
          i = i.focusOffset;
          try {
            n.nodeType, s.nodeType;
          } catch {
            n = null;
            break e;
          }
          var a = 0,
            l = -1,
            u = -1,
            c = 0,
            f = 0,
            p = t,
            m = null;
          t: for (;;) {
            for (
              var _;
              p !== n || (r !== 0 && p.nodeType !== 3) || (l = a + r),
                p !== s || (i !== 0 && p.nodeType !== 3) || (u = a + i),
                p.nodeType === 3 && (a += p.nodeValue.length),
                (_ = p.firstChild) !== null;

            )
              (m = p), (p = _);
            for (;;) {
              if (p === t) break t;
              if (
                (m === n && ++c === r && (l = a),
                m === s && ++f === i && (u = a),
                (_ = p.nextSibling) !== null)
              )
                break;
              (p = m), (m = p.parentNode);
            }
            p = _;
          }
          n = l === -1 || u === -1 ? null : { start: l, end: u };
        } else n = null;
      }
    n = n || { start: 0, end: 0 };
  } else n = null;
  for (
    Ud = { focusedElem: t, selectionRange: n }, hc = !1, Ye = e;
    Ye !== null;

  )
    if (((e = Ye), (t = e.child), (e.subtreeFlags & 1028) !== 0 && t !== null))
      (t.return = e), (Ye = t);
    else
      for (; Ye !== null; ) {
        switch (((e = Ye), (s = e.alternate), (t = e.flags), e.tag)) {
          case 0:
            break;
          case 11:
          case 15:
            break;
          case 1:
            if (t & 1024 && s !== null) {
              (t = void 0),
                (n = e),
                (r = s.memoizedProps),
                (s = s.memoizedState),
                (i = n.stateNode);
              try {
                var b = Mr(n.type, r, n.elementType === n.type);
                (t = i.getSnapshotBeforeUpdate(b, s)),
                  (i.__reactInternalSnapshotBeforeUpdate = t);
              } catch (C) {
                me(n, n.return, C);
              }
            }
            break;
          case 3:
            if (t & 1024) {
              if (((t = e.stateNode.containerInfo), (n = t.nodeType), n === 9))
                Bd(t);
              else if (n === 1)
                switch (t.nodeName) {
                  case "HEAD":
                  case "HTML":
                  case "BODY":
                    Bd(t);
                    break;
                  default:
                    t.textContent = "";
                }
            }
            break;
          case 5:
          case 26:
          case 27:
          case 6:
          case 4:
          case 17:
            break;
          default:
            if (t & 1024) throw Error(U(163));
        }
        if (((t = e.sibling), t !== null)) {
          (t.return = e.return), (Ye = t);
          break;
        }
        Ye = e.return;
      }
  return (b = Ey), (Ey = !1), b;
}
function DT(t, e, n) {
  var i = n.flags;
  switch (n.tag) {
    case 0:
    case 11:
    case 15:
      Bn(t, n), i & 4 && al(5, n);
      break;
    case 1:
      if ((Bn(t, n), i & 4))
        if (((t = n.stateNode), e === null))
          try {
            t.componentDidMount();
          } catch (l) {
            me(n, n.return, l);
          }
        else {
          var r = Mr(n.type, e.memoizedProps);
          e = e.memoizedState;
          try {
            t.componentDidUpdate(r, e, t.__reactInternalSnapshotBeforeUpdate);
          } catch (l) {
            me(n, n.return, l);
          }
        }
      i & 64 && RT(n), i & 512 && vr(n, n.return);
      break;
    case 3:
      if ((Bn(t, n), i & 64 && ((i = n.updateQueue), i !== null))) {
        if (((t = null), n.child !== null))
          switch (n.child.tag) {
            case 27:
            case 5:
              t = n.child.stateNode;
              break;
            case 1:
              t = n.child.stateNode;
          }
        try {
          ST(i, t);
        } catch (l) {
          me(n, n.return, l);
        }
      }
      break;
    case 26:
      Bn(t, n), i & 512 && vr(n, n.return);
      break;
    case 27:
    case 5:
      Bn(t, n), e === null && i & 4 && IT(n), i & 512 && vr(n, n.return);
      break;
    case 12:
      Bn(t, n);
      break;
    case 13:
      Bn(t, n), i & 4 && MT(t, n);
      break;
    case 22:
      if (((r = n.memoizedState !== null || jn), !r)) {
        e = (e !== null && e.memoizedState !== null) || Me;
        var s = jn,
          a = Me;
        (jn = r),
          (Me = e) && !a ? vi(t, n, (n.subtreeFlags & 8772) !== 0) : Bn(t, n),
          (jn = s),
          (Me = a);
      }
      i & 512 &&
        (n.memoizedProps.mode === "manual" ? vr(n, n.return) : Vt(n, n.return));
      break;
    default:
      Bn(t, n);
  }
}
function OT(t) {
  var e = t.alternate;
  e !== null && ((t.alternate = null), OT(e)),
    (t.child = null),
    (t.deletions = null),
    (t.sibling = null),
    t.tag === 5 && ((e = t.stateNode), e !== null && bm(e)),
    (t.stateNode = null),
    (t.return = null),
    (t.dependencies = null),
    (t.memoizedProps = null),
    (t.memoizedState = null),
    (t.pendingProps = null),
    (t.stateNode = null),
    (t.updateQueue = null);
}
var Be = null,
  kt = !1;
function Ln(t, e, n) {
  for (n = n.child; n !== null; ) NT(t, e, n), (n = n.sibling);
}
function NT(t, e, n) {
  if (Lt && typeof Lt.onCommitFiberUnmount == "function")
    try {
      Lt.onCommitFiberUnmount(Zo, n);
    } catch {}
  switch (n.tag) {
    case 26:
      Me || Vt(n, e),
        Ln(t, e, n),
        n.memoizedState
          ? n.memoizedState.count--
          : n.stateNode && ((n = n.stateNode), n.parentNode.removeChild(n));
      break;
    case 27:
      Me || Vt(n, e);
      var i = Be,
        r = kt;
      for (
        Be = n.stateNode, Ln(t, e, n), n = n.stateNode, e = n.attributes;
        e.length;

      )
        n.removeAttributeNode(e[0]);
      bm(n), (Be = i), (kt = r);
      break;
    case 5:
      Me || Vt(n, e);
    case 6:
      r = Be;
      var s = kt;
      if (((Be = null), Ln(t, e, n), (Be = r), (kt = s), Be !== null))
        if (kt)
          try {
            (t = Be),
              (i = n.stateNode),
              t.nodeType === 8 ? t.parentNode.removeChild(i) : t.removeChild(i);
          } catch (a) {
            me(n, e, a);
          }
        else
          try {
            Be.removeChild(n.stateNode);
          } catch (a) {
            me(n, e, a);
          }
      break;
    case 18:
      Be !== null &&
        (kt
          ? ((e = Be),
            (n = n.stateNode),
            e.nodeType === 8
              ? Mf(e.parentNode, n)
              : e.nodeType === 1 && Mf(e, n),
            jo(e))
          : Mf(Be, n.stateNode));
      break;
    case 4:
      (i = Be),
        (r = kt),
        (Be = n.stateNode.containerInfo),
        (kt = !0),
        Ln(t, e, n),
        (Be = i),
        (kt = r);
      break;
    case 0:
    case 11:
    case 14:
    case 15:
      Me || Qi(2, n, e), Me || Qi(4, n, e), Ln(t, e, n);
      break;
    case 1:
      Me ||
        (Vt(n, e),
        (i = n.stateNode),
        typeof i.componentWillUnmount == "function" && bT(n, e, i)),
        Ln(t, e, n);
      break;
    case 21:
      Ln(t, e, n);
      break;
    case 22:
      Me || Vt(n, e),
        (Me = (i = Me) || n.memoizedState !== null),
        Ln(t, e, n),
        (Me = i);
      break;
    default:
      Ln(t, e, n);
  }
}
function MT(t, e) {
  if (
    e.memoizedState === null &&
    ((t = e.alternate),
    t !== null &&
      ((t = t.memoizedState), t !== null && ((t = t.dehydrated), t !== null)))
  )
    try {
      jo(t);
    } catch (n) {
      me(e, e.return, n);
    }
}
function Q1(t) {
  switch (t.tag) {
    case 13:
    case 19:
      var e = t.stateNode;
      return e === null && (e = t.stateNode = new vy()), e;
    case 22:
      return (
        (t = t.stateNode),
        (e = t._retryCache),
        e === null && (e = t._retryCache = new vy()),
        e
      );
    default:
      throw Error(U(435, t.tag));
  }
}
function Tf(t, e) {
  var n = Q1(t);
  e.forEach(function (i) {
    var r = aI.bind(null, t, i);
    n.has(i) || (n.add(i), i.then(r, r));
  });
}
function qt(t, e) {
  var n = e.deletions;
  if (n !== null)
    for (var i = 0; i < n.length; i++) {
      var r = n[i],
        s = t,
        a = e,
        l = a;
      e: for (; l !== null; ) {
        switch (l.tag) {
          case 27:
          case 5:
            (Be = l.stateNode), (kt = !1);
            break e;
          case 3:
            (Be = l.stateNode.containerInfo), (kt = !0);
            break e;
          case 4:
            (Be = l.stateNode.containerInfo), (kt = !0);
            break e;
        }
        l = l.return;
      }
      if (Be === null) throw Error(U(160));
      NT(s, a, r),
        (Be = null),
        (kt = !1),
        (s = r.alternate),
        s !== null && (s.return = null),
        (r.return = null);
    }
  if (e.subtreeFlags & 13878)
    for (e = e.child; e !== null; ) kT(e, t), (e = e.sibling);
}
var rn = null;
function kT(t, e) {
  var n = t.alternate,
    i = t.flags;
  switch (t.tag) {
    case 0:
    case 11:
    case 14:
    case 15:
      qt(e, t),
        Ht(t),
        i & 4 && (Qi(3, t, t.return), al(3, t), Qi(5, t, t.return));
      break;
    case 1:
      qt(e, t),
        Ht(t),
        i & 512 && (Me || n === null || Vt(n, n.return)),
        i & 64 &&
          jn &&
          ((t = t.updateQueue),
          t !== null &&
            ((i = t.callbacks),
            i !== null &&
              ((n = t.shared.hiddenCallbacks),
              (t.shared.hiddenCallbacks = n === null ? i : n.concat(i)))));
      break;
    case 26:
      var r = rn;
      if (
        (qt(e, t),
        Ht(t),
        i & 512 && (Me || n === null || Vt(n, n.return)),
        i & 4)
      ) {
        var s = n !== null ? n.memoizedState : null;
        if (((i = t.memoizedState), n === null))
          if (i === null)
            if (t.stateNode === null) {
              e: {
                (i = t.type), (n = t.memoizedProps), (r = r.ownerDocument || r);
                t: switch (i) {
                  case "title":
                    (s = r.getElementsByTagName("title")[0]),
                      (!s ||
                        s[Co] ||
                        s[dt] ||
                        s.namespaceURI === "http://www.w3.org/2000/svg" ||
                        s.hasAttribute("itemprop")) &&
                        ((s = r.createElement(i)),
                        r.head.insertBefore(
                          s,
                          r.querySelector("head > title")
                        )),
                      st(s, i, n),
                      (s[dt] = t),
                      Xe(s),
                      (i = s);
                    break e;
                  case "link":
                    var a = Uy("link", "href", r).get(i + (n.href || ""));
                    if (a) {
                      for (var l = 0; l < a.length; l++)
                        if (
                          ((s = a[l]),
                          s.getAttribute("href") ===
                            (n.href == null ? null : n.href) &&
                            s.getAttribute("rel") ===
                              (n.rel == null ? null : n.rel) &&
                            s.getAttribute("title") ===
                              (n.title == null ? null : n.title) &&
                            s.getAttribute("crossorigin") ===
                              (n.crossOrigin == null ? null : n.crossOrigin))
                        ) {
                          a.splice(l, 1);
                          break t;
                        }
                    }
                    (s = r.createElement(i)),
                      st(s, i, n),
                      r.head.appendChild(s);
                    break;
                  case "meta":
                    if (
                      (a = Uy("meta", "content", r).get(i + (n.content || "")))
                    ) {
                      for (l = 0; l < a.length; l++)
                        if (
                          ((s = a[l]),
                          s.getAttribute("content") ===
                            (n.content == null ? null : "" + n.content) &&
                            s.getAttribute("name") ===
                              (n.name == null ? null : n.name) &&
                            s.getAttribute("property") ===
                              (n.property == null ? null : n.property) &&
                            s.getAttribute("http-equiv") ===
                              (n.httpEquiv == null ? null : n.httpEquiv) &&
                            s.getAttribute("charset") ===
                              (n.charSet == null ? null : n.charSet))
                        ) {
                          a.splice(l, 1);
                          break t;
                        }
                    }
                    (s = r.createElement(i)),
                      st(s, i, n),
                      r.head.appendChild(s);
                    break;
                  default:
                    throw Error(U(468, i));
                }
                (s[dt] = t), Xe(s), (i = s);
              }
              t.stateNode = i;
            } else Ly(r, t.type, t.stateNode);
          else t.stateNode = Py(r, i, t.memoizedProps);
        else
          s !== i
            ? (s === null
                ? n.stateNode !== null &&
                  ((n = n.stateNode), n.parentNode.removeChild(n))
                : s.count--,
              i === null
                ? Ly(r, t.type, t.stateNode)
                : Py(r, i, t.memoizedProps))
            : i === null &&
              t.stateNode !== null &&
              yy(t, t.memoizedProps, n.memoizedProps);
      }
      break;
    case 27:
      if (i & 4 && t.alternate === null) {
        (r = t.stateNode), (s = t.memoizedProps);
        try {
          for (var u = r.firstChild; u; ) {
            var c = u.nextSibling,
              f = u.nodeName;
            u[Co] ||
              f === "HEAD" ||
              f === "BODY" ||
              f === "SCRIPT" ||
              f === "STYLE" ||
              (f === "LINK" && u.rel.toLowerCase() === "stylesheet") ||
              r.removeChild(u),
              (u = c);
          }
          for (var p = t.type, m = r.attributes; m.length; )
            r.removeAttributeNode(m[0]);
          st(r, p, s), (r[dt] = t), (r[Ct] = s);
        } catch (b) {
          me(t, t.return, b);
        }
      }
    case 5:
      if (
        (qt(e, t),
        Ht(t),
        i & 512 && (Me || n === null || Vt(n, n.return)),
        t.flags & 32)
      ) {
        r = t.stateNode;
        try {
          zs(r, "");
        } catch (b) {
          me(t, t.return, b);
        }
      }
      i & 4 &&
        t.stateNode != null &&
        ((r = t.memoizedProps), yy(t, r, n !== null ? n.memoizedProps : r)),
        i & 1024 && (Ef = !0);
      break;
    case 6:
      if ((qt(e, t), Ht(t), i & 4)) {
        if (t.stateNode === null) throw Error(U(162));
        (i = t.memoizedProps), (n = t.stateNode);
        try {
          n.nodeValue = i;
        } catch (b) {
          me(t, t.return, b);
        }
      }
      break;
    case 3:
      if (
        ((Ru = null),
        (r = rn),
        (rn = lc(e.containerInfo)),
        qt(e, t),
        (rn = r),
        Ht(t),
        i & 4 && n !== null && n.memoizedState.isDehydrated)
      )
        try {
          jo(e.containerInfo);
        } catch (b) {
          me(t, t.return, b);
        }
      Ef && ((Ef = !1), xT(t));
      break;
    case 4:
      (i = rn), (rn = lc(t.stateNode.containerInfo)), qt(e, t), Ht(t), (rn = i);
      break;
    case 12:
      qt(e, t), Ht(t);
      break;
    case 13:
      qt(e, t),
        Ht(t),
        t.child.flags & 8192 &&
          (t.memoizedState !== null) !=
            (n !== null && n.memoizedState !== null) &&
          (sp = vn()),
        i & 4 &&
          ((i = t.updateQueue),
          i !== null && ((t.updateQueue = null), Tf(t, i)));
      break;
    case 22:
      if (
        (i & 512 && (Me || n === null || Vt(n, n.return)),
        (u = t.memoizedState !== null),
        (c = n !== null && n.memoizedState !== null),
        (f = jn),
        (p = Me),
        (jn = f || u),
        (Me = p || c),
        qt(e, t),
        (Me = p),
        (jn = f),
        Ht(t),
        (e = t.stateNode),
        (e._current = t),
        (e._visibility &= -3),
        (e._visibility |= e._pendingVisibility & 2),
        i & 8192 &&
          ((e._visibility = u ? e._visibility & -2 : e._visibility | 1),
          u && ((e = jn || Me), n === null || c || e || as(t)),
          t.memoizedProps === null || t.memoizedProps.mode !== "manual"))
      )
        e: for (n = null, e = t; ; ) {
          if (e.tag === 5 || e.tag === 26 || e.tag === 27) {
            if (n === null) {
              c = n = e;
              try {
                if (((r = c.stateNode), u))
                  (s = r.style),
                    typeof s.setProperty == "function"
                      ? s.setProperty("display", "none", "important")
                      : (s.display = "none");
                else {
                  (a = c.stateNode), (l = c.memoizedProps.style);
                  var _ =
                    l != null && l.hasOwnProperty("display") ? l.display : null;
                  a.style.display =
                    _ == null || typeof _ == "boolean" ? "" : ("" + _).trim();
                }
              } catch (b) {
                me(c, c.return, b);
              }
            }
          } else if (e.tag === 6) {
            if (n === null) {
              c = e;
              try {
                c.stateNode.nodeValue = u ? "" : c.memoizedProps;
              } catch (b) {
                me(c, c.return, b);
              }
            }
          } else if (
            ((e.tag !== 22 && e.tag !== 23) ||
              e.memoizedState === null ||
              e === t) &&
            e.child !== null
          ) {
            (e.child.return = e), (e = e.child);
            continue;
          }
          if (e === t) break e;
          for (; e.sibling === null; ) {
            if (e.return === null || e.return === t) break e;
            n === e && (n = null), (e = e.return);
          }
          n === e && (n = null), (e.sibling.return = e.return), (e = e.sibling);
        }
      i & 4 &&
        ((i = t.updateQueue),
        i !== null &&
          ((n = i.retryQueue),
          n !== null && ((i.retryQueue = null), Tf(t, n))));
      break;
    case 19:
      qt(e, t),
        Ht(t),
        i & 4 &&
          ((i = t.updateQueue),
          i !== null && ((t.updateQueue = null), Tf(t, i)));
      break;
    case 21:
      break;
    default:
      qt(e, t), Ht(t);
  }
}
function Ht(t) {
  var e = t.flags;
  if (e & 2) {
    try {
      if (t.tag !== 27) {
        e: {
          for (var n = t.return; n !== null; ) {
            if (CT(n)) {
              var i = n;
              break e;
            }
            n = n.return;
          }
          throw Error(U(160));
        }
        switch (i.tag) {
          case 27:
            var r = i.stateNode,
              s = vf(t);
            tc(t, s, r);
            break;
          case 5:
            var a = i.stateNode;
            i.flags & 32 && (zs(a, ""), (i.flags &= -33));
            var l = vf(t);
            tc(t, l, a);
            break;
          case 3:
          case 4:
            var u = i.stateNode.containerInfo,
              c = vf(t);
            Id(t, c, u);
            break;
          default:
            throw Error(U(161));
        }
      }
    } catch (f) {
      me(t, t.return, f);
    }
    t.flags &= -3;
  }
  e & 4096 && (t.flags &= -4097);
}
function xT(t) {
  if (t.subtreeFlags & 1024)
    for (t = t.child; t !== null; ) {
      var e = t;
      xT(e),
        e.tag === 5 && e.flags & 1024 && e.stateNode.reset(),
        (t = t.sibling);
    }
}
function Bn(t, e) {
  if (e.subtreeFlags & 8772)
    for (e = e.child; e !== null; ) DT(t, e.alternate, e), (e = e.sibling);
}
function as(t) {
  for (t = t.child; t !== null; ) {
    var e = t;
    switch (e.tag) {
      case 0:
      case 11:
      case 14:
      case 15:
        Qi(4, e, e.return), as(e);
        break;
      case 1:
        Vt(e, e.return);
        var n = e.stateNode;
        typeof n.componentWillUnmount == "function" && bT(e, e.return, n),
          as(e);
        break;
      case 26:
      case 27:
      case 5:
        Vt(e, e.return), as(e);
        break;
      case 22:
        Vt(e, e.return), e.memoizedState === null && as(e);
        break;
      default:
        as(e);
    }
    t = t.sibling;
  }
}
function vi(t, e, n) {
  for (n = n && (e.subtreeFlags & 8772) !== 0, e = e.child; e !== null; ) {
    var i = e.alternate,
      r = t,
      s = e,
      a = s.flags;
    switch (s.tag) {
      case 0:
      case 11:
      case 15:
        vi(r, s, n), al(4, s);
        break;
      case 1:
        if (
          (vi(r, s, n),
          (i = s),
          (r = i.stateNode),
          typeof r.componentDidMount == "function")
        )
          try {
            r.componentDidMount();
          } catch (c) {
            me(i, i.return, c);
          }
        if (((i = s), (r = i.updateQueue), r !== null)) {
          var l = i.stateNode;
          try {
            var u = r.shared.hiddenCallbacks;
            if (u !== null)
              for (r.shared.hiddenCallbacks = null, r = 0; r < u.length; r++)
                wT(u[r], l);
          } catch (c) {
            me(i, i.return, c);
          }
        }
        n && a & 64 && RT(s), vr(s, s.return);
        break;
      case 26:
      case 27:
      case 5:
        vi(r, s, n), n && i === null && a & 4 && IT(s), vr(s, s.return);
        break;
      case 12:
        vi(r, s, n);
        break;
      case 13:
        vi(r, s, n), n && a & 4 && MT(r, s);
        break;
      case 22:
        s.memoizedState === null && vi(r, s, n), vr(s, s.return);
        break;
      default:
        vi(r, s, n);
    }
    e = e.sibling;
  }
}
function ep(t, e) {
  var n = null;
  t !== null &&
    t.memoizedState !== null &&
    t.memoizedState.cachePool !== null &&
    (n = t.memoizedState.cachePool.pool),
    (t = null),
    e.memoizedState !== null &&
      e.memoizedState.cachePool !== null &&
      (t = e.memoizedState.cachePool.pool),
    t !== n && (t != null && t.refCount++, n != null && il(n));
}
function tp(t, e) {
  (t = null),
    e.alternate !== null && (t = e.alternate.memoizedState.cache),
    (e = e.memoizedState.cache),
    e !== t && (e.refCount++, t != null && il(t));
}
function _i(t, e, n, i) {
  if (e.subtreeFlags & 10256)
    for (e = e.child; e !== null; ) VT(t, e, n, i), (e = e.sibling);
}
function VT(t, e, n, i) {
  var r = e.flags;
  switch (e.tag) {
    case 0:
    case 11:
    case 15:
      _i(t, e, n, i), r & 2048 && al(9, e);
      break;
    case 3:
      _i(t, e, n, i),
        r & 2048 &&
          ((t = null),
          e.alternate !== null && (t = e.alternate.memoizedState.cache),
          (e = e.memoizedState.cache),
          e !== t && (e.refCount++, t != null && il(t)));
      break;
    case 12:
      if (r & 2048) {
        _i(t, e, n, i), (t = e.stateNode);
        try {
          var s = e.memoizedProps,
            a = s.id,
            l = s.onPostCommit;
          typeof l == "function" &&
            l(
              a,
              e.alternate === null ? "mount" : "update",
              t.passiveEffectDuration,
              -0
            );
        } catch (u) {
          me(e, e.return, u);
        }
      } else _i(t, e, n, i);
      break;
    case 23:
      break;
    case 22:
      (s = e.stateNode),
        e.memoizedState !== null
          ? s._visibility & 4
            ? _i(t, e, n, i)
            : go(t, e)
          : s._visibility & 4
          ? _i(t, e, n, i)
          : ((s._visibility |= 4),
            os(t, e, n, i, (e.subtreeFlags & 10256) !== 0)),
        r & 2048 && ep(e.alternate, e);
      break;
    case 24:
      _i(t, e, n, i), r & 2048 && tp(e.alternate, e);
      break;
    default:
      _i(t, e, n, i);
  }
}
function os(t, e, n, i, r) {
  for (r = r && (e.subtreeFlags & 10256) !== 0, e = e.child; e !== null; ) {
    var s = t,
      a = e,
      l = n,
      u = i,
      c = a.flags;
    switch (a.tag) {
      case 0:
      case 11:
      case 15:
        os(s, a, l, u, r), al(8, a);
        break;
      case 23:
        break;
      case 22:
        var f = a.stateNode;
        a.memoizedState !== null
          ? f._visibility & 4
            ? os(s, a, l, u, r)
            : go(s, a)
          : ((f._visibility |= 4), os(s, a, l, u, r)),
          r && c & 2048 && ep(a.alternate, a);
        break;
      case 24:
        os(s, a, l, u, r), r && c & 2048 && tp(a.alternate, a);
        break;
      default:
        os(s, a, l, u, r);
    }
    e = e.sibling;
  }
}
function go(t, e) {
  if (e.subtreeFlags & 10256)
    for (e = e.child; e !== null; ) {
      var n = t,
        i = e,
        r = i.flags;
      switch (i.tag) {
        case 22:
          go(n, i), r & 2048 && ep(i.alternate, i);
          break;
        case 24:
          go(n, i), r & 2048 && tp(i.alternate, i);
          break;
        default:
          go(n, i);
      }
      e = e.sibling;
    }
}
var Ya = 8192;
function ns(t) {
  if (t.subtreeFlags & Ya)
    for (t = t.child; t !== null; ) PT(t), (t = t.sibling);
}
function PT(t) {
  switch (t.tag) {
    case 26:
      ns(t),
        t.flags & Ya &&
          t.memoizedState !== null &&
          VI(rn, t.memoizedState, t.memoizedProps);
      break;
    case 5:
      ns(t);
      break;
    case 3:
    case 4:
      var e = rn;
      (rn = lc(t.stateNode.containerInfo)), ns(t), (rn = e);
      break;
    case 22:
      t.memoizedState === null &&
        ((e = t.alternate),
        e !== null && e.memoizedState !== null
          ? ((e = Ya), (Ya = 16777216), ns(t), (Ya = e))
          : ns(t));
      break;
    default:
      ns(t);
  }
}
function UT(t) {
  var e = t.alternate;
  if (e !== null && ((t = e.child), t !== null)) {
    e.child = null;
    do (e = t.sibling), (t.sibling = null), (t = e);
    while (t !== null);
  }
}
function Ba(t) {
  var e = t.deletions;
  if (t.flags & 16) {
    if (e !== null)
      for (var n = 0; n < e.length; n++) {
        var i = e[n];
        (Ye = i), BT(i, t);
      }
    UT(t);
  }
  if (t.subtreeFlags & 10256)
    for (t = t.child; t !== null; ) LT(t), (t = t.sibling);
}
function LT(t) {
  switch (t.tag) {
    case 0:
    case 11:
    case 15:
      Ba(t), t.flags & 2048 && Qi(9, t, t.return);
      break;
    case 3:
      Ba(t);
      break;
    case 12:
      Ba(t);
      break;
    case 22:
      var e = t.stateNode;
      t.memoizedState !== null &&
      e._visibility & 4 &&
      (t.return === null || t.return.tag !== 13)
        ? ((e._visibility &= -5), Au(t))
        : Ba(t);
      break;
    default:
      Ba(t);
  }
}
function Au(t) {
  var e = t.deletions;
  if (t.flags & 16) {
    if (e !== null)
      for (var n = 0; n < e.length; n++) {
        var i = e[n];
        (Ye = i), BT(i, t);
      }
    UT(t);
  }
  for (t = t.child; t !== null; ) {
    switch (((e = t), e.tag)) {
      case 0:
      case 11:
      case 15:
        Qi(8, e, e.return), Au(e);
        break;
      case 22:
        (n = e.stateNode), n._visibility & 4 && ((n._visibility &= -5), Au(e));
        break;
      default:
        Au(e);
    }
    t = t.sibling;
  }
}
function BT(t, e) {
  for (; Ye !== null; ) {
    var n = Ye;
    switch (n.tag) {
      case 0:
      case 11:
      case 15:
        Qi(8, n, e);
        break;
      case 23:
      case 22:
        if (n.memoizedState !== null && n.memoizedState.cachePool !== null) {
          var i = n.memoizedState.cachePool.pool;
          i != null && i.refCount++;
        }
        break;
      case 24:
        il(n.memoizedState.cache);
    }
    if (((i = n.child), i !== null)) (i.return = n), (Ye = i);
    else
      e: for (n = t; Ye !== null; ) {
        i = Ye;
        var r = i.sibling,
          s = i.return;
        if ((OT(i), i === n)) {
          Ye = null;
          break e;
        }
        if (r !== null) {
          (r.return = s), (Ye = r);
          break e;
        }
        Ye = s;
      }
  }
}
function $1(t, e, n, i) {
  (this.tag = t),
    (this.key = n),
    (this.sibling =
      this.child =
      this.return =
      this.stateNode =
      this.type =
      this.elementType =
        null),
    (this.index = 0),
    (this.refCleanup = this.ref = null),
    (this.pendingProps = e),
    (this.dependencies =
      this.memoizedState =
      this.updateQueue =
      this.memoizedProps =
        null),
    (this.mode = i),
    (this.subtreeFlags = this.flags = 0),
    (this.deletions = null),
    (this.childLanes = this.lanes = 0),
    (this.alternate = null);
}
function Wt(t, e, n, i) {
  return new $1(t, e, n, i);
}
function np(t) {
  return (t = t.prototype), !(!t || !t.isReactComponent);
}
function Ui(t, e) {
  var n = t.alternate;
  return (
    n === null
      ? ((n = Wt(t.tag, e, t.key, t.mode)),
        (n.elementType = t.elementType),
        (n.type = t.type),
        (n.stateNode = t.stateNode),
        (n.alternate = t),
        (t.alternate = n))
      : ((n.pendingProps = e),
        (n.type = t.type),
        (n.flags = 0),
        (n.subtreeFlags = 0),
        (n.deletions = null)),
    (n.flags = t.flags & 31457280),
    (n.childLanes = t.childLanes),
    (n.lanes = t.lanes),
    (n.child = t.child),
    (n.memoizedProps = t.memoizedProps),
    (n.memoizedState = t.memoizedState),
    (n.updateQueue = t.updateQueue),
    (e = t.dependencies),
    (n.dependencies =
      e === null ? null : { lanes: e.lanes, firstContext: e.firstContext }),
    (n.sibling = t.sibling),
    (n.index = t.index),
    (n.ref = t.ref),
    (n.refCleanup = t.refCleanup),
    n
  );
}
function zT(t, e) {
  t.flags &= 31457282;
  var n = t.alternate;
  return (
    n === null
      ? ((t.childLanes = 0),
        (t.lanes = e),
        (t.child = null),
        (t.subtreeFlags = 0),
        (t.memoizedProps = null),
        (t.memoizedState = null),
        (t.updateQueue = null),
        (t.dependencies = null),
        (t.stateNode = null))
      : ((t.childLanes = n.childLanes),
        (t.lanes = n.lanes),
        (t.child = n.child),
        (t.subtreeFlags = 0),
        (t.deletions = null),
        (t.memoizedProps = n.memoizedProps),
        (t.memoizedState = n.memoizedState),
        (t.updateQueue = n.updateQueue),
        (t.type = n.type),
        (e = n.dependencies),
        (t.dependencies =
          e === null
            ? null
            : { lanes: e.lanes, firstContext: e.firstContext })),
    t
  );
}
function wu(t, e, n, i, r, s) {
  var a = 0;
  if (((i = t), typeof t == "function")) np(t) && (a = 1);
  else if (typeof t == "string")
    a = kI(t, n, yn.current)
      ? 26
      : t === "html" || t === "head" || t === "body"
      ? 27
      : 5;
  else
    e: switch (t) {
      case ms:
        return Sr(n.children, r, s, e);
      case j0:
        (a = 8), (r |= 24);
        break;
      case Xf:
        return (
          (t = Wt(12, n, e, r | 2)), (t.elementType = Xf), (t.lanes = s), t
        );
      case Wf:
        return (t = Wt(13, n, e, r)), (t.elementType = Wf), (t.lanes = s), t;
      case Zf:
        return (t = Wt(19, n, e, r)), (t.elementType = Zf), (t.lanes = s), t;
      case H0:
        return jT(n, r, s, e);
      default:
        if (typeof t == "object" && t !== null)
          switch (t.$$typeof) {
            case vb:
            case Fn:
              a = 10;
              break e;
            case q0:
              a = 9;
              break e;
            case wm:
              a = 11;
              break e;
            case Sm:
              a = 14;
              break e;
            case Ei:
              (a = 16), (i = null);
              break e;
          }
        (a = 29),
          (n = Error(U(130, t === null ? "null" : typeof t, ""))),
          (i = null);
    }
  return (
    (e = Wt(a, n, e, r)), (e.elementType = t), (e.type = i), (e.lanes = s), e
  );
}
function Sr(t, e, n, i) {
  return (t = Wt(7, t, i, e)), (t.lanes = n), t;
}
function jT(t, e, n, i) {
  (t = Wt(22, t, i, e)), (t.elementType = H0), (t.lanes = n);
  var r = {
    _visibility: 1,
    _pendingVisibility: 1,
    _pendingMarkers: null,
    _retryCache: null,
    _transitions: null,
    _current: null,
    detach: function () {
      var s = r._current;
      if (s === null) throw Error(U(456));
      if (!(r._pendingVisibility & 2)) {
        var a = Gi(s, 2);
        a !== null && ((r._pendingVisibility |= 2), At(a, s, 2));
      }
    },
    attach: function () {
      var s = r._current;
      if (s === null) throw Error(U(456));
      if (r._pendingVisibility & 2) {
        var a = Gi(s, 2);
        a !== null && ((r._pendingVisibility &= -3), At(a, s, 2));
      }
    },
  };
  return (t.stateNode = r), t;
}
function Af(t, e, n) {
  return (t = Wt(6, t, null, e)), (t.lanes = n), t;
}
function wf(t, e, n) {
  return (
    (e = Wt(4, t.children !== null ? t.children : [], t.key, e)),
    (e.lanes = n),
    (e.stateNode = {
      containerInfo: t.containerInfo,
      pendingChildren: null,
      implementation: t.implementation,
    }),
    e
  );
}
function zn(t) {
  t.flags |= 4;
}
function Ty(t, e) {
  if (e.type !== "stylesheet" || e.state.loading & 4) t.flags &= -16777217;
  else if (((t.flags |= 16777216), !lA(e))) {
    if (
      ((e = en.current),
      e !== null &&
        ((oe & 4194176) === oe
          ? En !== null
          : ((oe & 62914560) !== oe && !(oe & 536870912)) || e !== En))
    )
      throw ((lo = hd), IE);
    t.flags |= 8192;
  }
}
function eu(t, e) {
  e !== null && (t.flags |= 4),
    t.flags & 16384 &&
      ((e = t.tag !== 22 ? X0() : 536870912), (t.lanes |= e), (Fs |= e));
}
function za(t, e) {
  if (!ue)
    switch (t.tailMode) {
      case "hidden":
        e = t.tail;
        for (var n = null; e !== null; )
          e.alternate !== null && (n = e), (e = e.sibling);
        n === null ? (t.tail = null) : (n.sibling = null);
        break;
      case "collapsed":
        n = t.tail;
        for (var i = null; n !== null; )
          n.alternate !== null && (i = n), (n = n.sibling);
        i === null
          ? e || t.tail === null
            ? (t.tail = null)
            : (t.tail.sibling = null)
          : (i.sibling = null);
    }
}
function be(t) {
  var e = t.alternate !== null && t.alternate.child === t.child,
    n = 0,
    i = 0;
  if (e)
    for (var r = t.child; r !== null; )
      (n |= r.lanes | r.childLanes),
        (i |= r.subtreeFlags & 31457280),
        (i |= r.flags & 31457280),
        (r.return = t),
        (r = r.sibling);
  else
    for (r = t.child; r !== null; )
      (n |= r.lanes | r.childLanes),
        (i |= r.subtreeFlags),
        (i |= r.flags),
        (r.return = t),
        (r = r.sibling);
  return (t.subtreeFlags |= i), (t.childLanes = n), e;
}
function Y1(t, e, n) {
  var i = e.pendingProps;
  switch ((Pm(e), e.tag)) {
    case 16:
    case 15:
    case 0:
    case 11:
    case 7:
    case 8:
    case 12:
    case 9:
    case 14:
      return be(e), null;
    case 1:
      return be(e), null;
    case 3:
      return (
        (n = e.stateNode),
        (i = null),
        t !== null && (i = t.memoizedState.cache),
        e.memoizedState.cache !== i && (e.flags |= 2048),
        Zn(Fe),
        Ls(),
        n.pendingContext &&
          ((n.context = n.pendingContext), (n.pendingContext = null)),
        (t === null || t.child === null) &&
          (Ua(e)
            ? zn(e)
            : t === null ||
              (t.memoizedState.isDehydrated && !(e.flags & 256)) ||
              ((e.flags |= 1024), sn !== null && (Md(sn), (sn = null)))),
        be(e),
        null
      );
    case 26:
      return (
        (n = e.memoizedState),
        t === null
          ? (zn(e),
            n !== null ? (be(e), Ty(e, n)) : (be(e), (e.flags &= -16777217)))
          : n
          ? n !== t.memoizedState
            ? (zn(e), be(e), Ty(e, n))
            : (be(e), (e.flags &= -16777217))
          : (t.memoizedProps !== i && zn(e), be(e), (e.flags &= -16777217)),
        null
      );
    case 27:
      ju(e), (n = xi.current);
      var r = e.type;
      if (t !== null && e.stateNode != null) t.memoizedProps !== i && zn(e);
      else {
        if (!i) {
          if (e.stateNode === null) throw Error(U(166));
          return be(e), null;
        }
        (t = yn.current),
          Ua(e) ? W_(e) : ((t = sA(r, i, n)), (e.stateNode = t), zn(e));
      }
      return be(e), null;
    case 5:
      if ((ju(e), (n = e.type), t !== null && e.stateNode != null))
        t.memoizedProps !== i && zn(e);
      else {
        if (!i) {
          if (e.stateNode === null) throw Error(U(166));
          return be(e), null;
        }
        if (((t = yn.current), Ua(e))) W_(e);
        else {
          switch (((r = oc(xi.current)), t)) {
            case 1:
              t = r.createElementNS("http://www.w3.org/2000/svg", n);
              break;
            case 2:
              t = r.createElementNS("http://www.w3.org/1998/Math/MathML", n);
              break;
            default:
              switch (n) {
                case "svg":
                  t = r.createElementNS("http://www.w3.org/2000/svg", n);
                  break;
                case "math":
                  t = r.createElementNS(
                    "http://www.w3.org/1998/Math/MathML",
                    n
                  );
                  break;
                case "script":
                  (t = r.createElement("div")),
                    (t.innerHTML = "<script></script>"),
                    (t = t.removeChild(t.firstChild));
                  break;
                case "select":
                  (t =
                    typeof i.is == "string"
                      ? r.createElement("select", { is: i.is })
                      : r.createElement("select")),
                    i.multiple
                      ? (t.multiple = !0)
                      : i.size && (t.size = i.size);
                  break;
                default:
                  t =
                    typeof i.is == "string"
                      ? r.createElement(n, { is: i.is })
                      : r.createElement(n);
              }
          }
          (t[dt] = e), (t[Ct] = i);
          e: for (r = e.child; r !== null; ) {
            if (r.tag === 5 || r.tag === 6) t.appendChild(r.stateNode);
            else if (r.tag !== 4 && r.tag !== 27 && r.child !== null) {
              (r.child.return = r), (r = r.child);
              continue;
            }
            if (r === e) break e;
            for (; r.sibling === null; ) {
              if (r.return === null || r.return === e) break e;
              r = r.return;
            }
            (r.sibling.return = r.return), (r = r.sibling);
          }
          e.stateNode = t;
          e: switch ((st(t, n, i), n)) {
            case "button":
            case "input":
            case "select":
            case "textarea":
              t = !!i.autoFocus;
              break e;
            case "img":
              t = !0;
              break e;
            default:
              t = !1;
          }
          t && zn(e);
        }
      }
      return be(e), (e.flags &= -16777217), null;
    case 6:
      if (t && e.stateNode != null) t.memoizedProps !== i && zn(e);
      else {
        if (typeof i != "string" && e.stateNode === null) throw Error(U(166));
        if (((t = xi.current), Ua(e))) {
          if (
            ((t = e.stateNode),
            (n = e.memoizedProps),
            (i = null),
            (r = Et),
            r !== null)
          )
            switch (r.tag) {
              case 27:
              case 5:
                i = r.memoizedProps;
            }
          (t[dt] = e),
            (t = !!(
              t.nodeValue === n ||
              (i !== null && i.suppressHydrationWarning === !0) ||
              nA(t.nodeValue, n)
            )),
            t || Dr(e);
        } else (t = oc(t).createTextNode(i)), (t[dt] = e), (e.stateNode = t);
      }
      return be(e), null;
    case 13:
      if (
        ((i = e.memoizedState),
        t === null ||
          (t.memoizedState !== null && t.memoizedState.dehydrated !== null))
      ) {
        if (((r = Ua(e)), i !== null && i.dehydrated !== null)) {
          if (t === null) {
            if (!r) throw Error(U(318));
            if (
              ((r = e.memoizedState),
              (r = r !== null ? r.dehydrated : null),
              !r)
            )
              throw Error(U(317));
            r[dt] = e;
          } else
            nl(), !(e.flags & 128) && (e.memoizedState = null), (e.flags |= 4);
          be(e), (r = !1);
        } else sn !== null && (Md(sn), (sn = null)), (r = !0);
        if (!r) return e.flags & 256 ? (Qn(e), e) : (Qn(e), null);
      }
      if ((Qn(e), e.flags & 128)) return (e.lanes = n), e;
      if (((n = i !== null), (t = t !== null && t.memoizedState !== null), n)) {
        (i = e.child),
          (r = null),
          i.alternate !== null &&
            i.alternate.memoizedState !== null &&
            i.alternate.memoizedState.cachePool !== null &&
            (r = i.alternate.memoizedState.cachePool.pool);
        var s = null;
        i.memoizedState !== null &&
          i.memoizedState.cachePool !== null &&
          (s = i.memoizedState.cachePool.pool),
          s !== r && (i.flags |= 2048);
      }
      return (
        n !== t && n && (e.child.flags |= 8192),
        eu(e, e.updateQueue),
        be(e),
        null
      );
    case 4:
      return Ls(), t === null && lp(e.stateNode.containerInfo), be(e), null;
    case 10:
      return Zn(e.type), be(e), null;
    case 19:
      if ((Ze(Ge), (r = e.memoizedState), r === null)) return be(e), null;
      if (((i = (e.flags & 128) !== 0), (s = r.rendering), s === null))
        if (i) za(r, !1);
        else {
          if (ke !== 0 || (t !== null && t.flags & 128))
            for (t = e.child; t !== null; ) {
              if (((s = Yu(t)), s !== null)) {
                for (
                  e.flags |= 128,
                    za(r, !1),
                    t = s.updateQueue,
                    e.updateQueue = t,
                    eu(e, t),
                    e.subtreeFlags = 0,
                    t = n,
                    n = e.child;
                  n !== null;

                )
                  zT(n, t), (n = n.sibling);
                return we(Ge, (Ge.current & 1) | 2), e.child;
              }
              t = t.sibling;
            }
          r.tail !== null &&
            vn() > nc &&
            ((e.flags |= 128), (i = !0), za(r, !1), (e.lanes = 4194304));
        }
      else {
        if (!i)
          if (((t = Yu(s)), t !== null)) {
            if (
              ((e.flags |= 128),
              (i = !0),
              (t = t.updateQueue),
              (e.updateQueue = t),
              eu(e, t),
              za(r, !0),
              r.tail === null && r.tailMode === "hidden" && !s.alternate && !ue)
            )
              return be(e), null;
          } else
            2 * vn() - r.renderingStartTime > nc &&
              n !== 536870912 &&
              ((e.flags |= 128), (i = !0), za(r, !1), (e.lanes = 4194304));
        r.isBackwards
          ? ((s.sibling = e.child), (e.child = s))
          : ((t = r.last),
            t !== null ? (t.sibling = s) : (e.child = s),
            (r.last = s));
      }
      return r.tail !== null
        ? ((e = r.tail),
          (r.rendering = e),
          (r.tail = e.sibling),
          (r.renderingStartTime = vn()),
          (e.sibling = null),
          (t = Ge.current),
          we(Ge, i ? (t & 1) | 2 : t & 1),
          e)
        : (be(e), null);
    case 22:
    case 23:
      return (
        Qn(e),
        Um(),
        (i = e.memoizedState !== null),
        t !== null
          ? (t.memoizedState !== null) !== i && (e.flags |= 8192)
          : i && (e.flags |= 8192),
        i
          ? n & 536870912 &&
            !(e.flags & 128) &&
            (be(e), e.subtreeFlags & 6 && (e.flags |= 8192))
          : be(e),
        (n = e.updateQueue),
        n !== null && eu(e, n.retryQueue),
        (n = null),
        t !== null &&
          t.memoizedState !== null &&
          t.memoizedState.cachePool !== null &&
          (n = t.memoizedState.cachePool.pool),
        (i = null),
        e.memoizedState !== null &&
          e.memoizedState.cachePool !== null &&
          (i = e.memoizedState.cachePool.pool),
        i !== n && (e.flags |= 2048),
        t !== null && Ze(wr),
        null
      );
    case 24:
      return (
        (n = null),
        t !== null && (n = t.memoizedState.cache),
        e.memoizedState.cache !== n && (e.flags |= 2048),
        Zn(Fe),
        be(e),
        null
      );
    case 25:
      return null;
  }
  throw Error(U(156, e.tag));
}
function X1(t, e) {
  switch ((Pm(e), e.tag)) {
    case 1:
      return (
        (t = e.flags), t & 65536 ? ((e.flags = (t & -65537) | 128), e) : null
      );
    case 3:
      return (
        Zn(Fe),
        Ls(),
        (t = e.flags),
        t & 65536 && !(t & 128) ? ((e.flags = (t & -65537) | 128), e) : null
      );
    case 26:
    case 27:
    case 5:
      return ju(e), null;
    case 13:
      if ((Qn(e), (t = e.memoizedState), t !== null && t.dehydrated !== null)) {
        if (e.alternate === null) throw Error(U(340));
        nl();
      }
      return (
        (t = e.flags), t & 65536 ? ((e.flags = (t & -65537) | 128), e) : null
      );
    case 19:
      return Ze(Ge), null;
    case 4:
      return Ls(), null;
    case 10:
      return Zn(e.type), null;
    case 22:
    case 23:
      return (
        Qn(e),
        Um(),
        t !== null && Ze(wr),
        (t = e.flags),
        t & 65536 ? ((e.flags = (t & -65537) | 128), e) : null
      );
    case 24:
      return Zn(Fe), null;
    case 25:
      return null;
    default:
      return null;
  }
}
function qT(t, e) {
  switch ((Pm(e), e.tag)) {
    case 3:
      Zn(Fe), Ls();
      break;
    case 26:
    case 27:
    case 5:
      ju(e);
      break;
    case 4:
      Ls();
      break;
    case 13:
      Qn(e);
      break;
    case 19:
      Ze(Ge);
      break;
    case 10:
      Zn(e.type);
      break;
    case 22:
    case 23:
      Qn(e), Um(), t !== null && Ze(wr);
      break;
    case 24:
      Zn(Fe);
  }
}
var W1 = {
    getCacheForType: function (t) {
      var e = mt(Fe),
        n = e.data.get(t);
      return n === void 0 && ((n = t()), e.data.set(t, n)), n;
    },
  },
  Z1 = typeof WeakMap == "function" ? WeakMap : Map,
  Ce = 0,
  ge = null,
  te = null,
  oe = 0,
  pe = 0,
  xt = null,
  qn = !1,
  aa = !1,
  ip = !1,
  ai = 0,
  ke = 0,
  $i = 0,
  Rr = 0,
  rp = 0,
  Zt = 0,
  Fs = 0,
  _o = null,
  pn = null,
  Cd = !1,
  sp = 0,
  nc = 1 / 0,
  ic = null,
  Li = null,
  tu = !1,
  _r = null,
  yo = 0,
  Dd = 0,
  Od = null,
  vo = 0,
  Nd = null;
function zt() {
  if (Ce & 2 && oe !== 0) return oe & -oe;
  if (Z.T !== null) {
    var t = qs;
    return t !== 0 ? t : op();
  }
  return eE();
}
function HT() {
  Zt === 0 && (Zt = !(oe & 536870912) || ue ? Y0() : 536870912);
  var t = en.current;
  return t !== null && (t.flags |= 32), Zt;
}
function At(t, e, n) {
  ((t === ge && pe === 2) || t.cancelPendingCommit !== null) &&
    (Gs(t, 0), Hn(t, oe, Zt, !1)),
    el(t, n),
    (!(Ce & 2) || t !== ge) &&
      (t === ge && (!(Ce & 2) && (Rr |= n), ke === 4 && Hn(t, oe, Zt, !1)),
      On(t));
}
function FT(t, e, n) {
  if (Ce & 6) throw Error(U(327));
  var i = (!n && (e & 60) === 0 && (e & t.expiredLanes) === 0) || Jo(t, e),
    r = i ? tI(t, e) : Sf(t, e, !0),
    s = i;
  do {
    if (r === 0) {
      aa && !i && Hn(t, e, 0, !1);
      break;
    } else if (r === 6) Hn(t, e, 0, !qn);
    else {
      if (((n = t.current.alternate), s && !J1(n))) {
        (r = Sf(t, e, !1)), (s = !1);
        continue;
      }
      if (r === 2) {
        if (((s = e), t.errorRecoveryDisabledLanes & s)) var a = 0;
        else
          (a = t.pendingLanes & -536870913),
            (a = a !== 0 ? a : a & 536870912 ? 536870912 : 0);
        if (a !== 0) {
          e = a;
          e: {
            var l = t;
            r = _o;
            var u = l.current.memoizedState.isDehydrated;
            if ((u && (Gs(l, a).flags |= 256), (a = Sf(l, a, !1)), a !== 2)) {
              if (ip && !u) {
                (l.errorRecoveryDisabledLanes |= s), (Rr |= s), (r = 4);
                break e;
              }
              (s = pn), (pn = r), s !== null && Md(s);
            }
            r = a;
          }
          if (((s = !1), r !== 2)) continue;
        }
      }
      if (r === 1) {
        Gs(t, 0), Hn(t, e, 0, !0);
        break;
      }
      e: {
        switch (((i = t), r)) {
          case 0:
          case 1:
            throw Error(U(345));
          case 4:
            if ((e & 4194176) === e) {
              Hn(i, e, Zt, !qn);
              break e;
            }
            break;
          case 2:
            pn = null;
            break;
          case 3:
          case 5:
            break;
          default:
            throw Error(U(329));
        }
        if (
          ((i.finishedWork = n),
          (i.finishedLanes = e),
          (e & 62914560) === e && ((s = sp + 300 - vn()), 10 < s))
        ) {
          if ((Hn(i, e, Zt, !qn), Pc(i, 0) !== 0)) break e;
          i.timeoutHandle = rA(
            Ay.bind(null, i, n, pn, ic, Cd, e, Zt, Rr, Fs, qn, 2, -0, 0),
            s
          );
          break e;
        }
        Ay(i, n, pn, ic, Cd, e, Zt, Rr, Fs, qn, 0, -0, 0);
      }
    }
    break;
  } while (1);
  On(t);
}
function Md(t) {
  pn === null ? (pn = t) : pn.push.apply(pn, t);
}
function Ay(t, e, n, i, r, s, a, l, u, c, f, p, m) {
  var _ = e.subtreeFlags;
  if (
    (_ & 8192 || (_ & 16785408) === 16785408) &&
    ((Uo = { stylesheets: null, count: 0, unsuspend: xI }),
    PT(e),
    (e = PI()),
    e !== null)
  ) {
    (t.cancelPendingCommit = e(Sy.bind(null, t, n, i, r, a, l, u, 1, p, m))),
      Hn(t, s, a, !c);
    return;
  }
  Sy(t, n, i, r, a, l, u, f, p, m);
}
function J1(t) {
  for (var e = t; ; ) {
    var n = e.tag;
    if (
      (n === 0 || n === 11 || n === 15) &&
      e.flags & 16384 &&
      ((n = e.updateQueue), n !== null && ((n = n.stores), n !== null))
    )
      for (var i = 0; i < n.length; i++) {
        var r = n[i],
          s = r.getSnapshot;
        r = r.value;
        try {
          if (!jt(s(), r)) return !1;
        } catch {
          return !1;
        }
      }
    if (((n = e.child), e.subtreeFlags & 16384 && n !== null))
      (n.return = e), (e = n);
    else {
      if (e === t) break;
      for (; e.sibling === null; ) {
        if (e.return === null || e.return === t) return !0;
        e = e.return;
      }
      (e.sibling.return = e.return), (e = e.sibling);
    }
  }
  return !0;
}
function Hn(t, e, n, i) {
  (e &= ~rp),
    (e &= ~Rr),
    (t.suspendedLanes |= e),
    (t.pingedLanes &= ~e),
    i && (t.warmLanes |= e),
    (i = t.expirationTimes);
  for (var r = e; 0 < r; ) {
    var s = 31 - Bt(r),
      a = 1 << s;
    (i[s] = -1), (r &= ~a);
  }
  n !== 0 && W0(t, n, e);
}
function Kc() {
  return Ce & 6 ? !0 : (ol(0, !1), !1);
}
function ap() {
  if (te !== null) {
    if (pe === 0) var t = te.return;
    else (t = te), ($n = Gr = null), Fm(t), (Ds = null), (ko = 0), (t = te);
    for (; t !== null; ) qT(t.alternate, t), (t = t.return);
    te = null;
  }
}
function Gs(t, e) {
  (t.finishedWork = null), (t.finishedLanes = 0);
  var n = t.timeoutHandle;
  n !== -1 && ((t.timeoutHandle = -1), yI(n)),
    (n = t.cancelPendingCommit),
    n !== null && ((t.cancelPendingCommit = null), n()),
    ap(),
    (ge = t),
    (te = n = Ui(t.current, null)),
    (oe = e),
    (pe = 0),
    (xt = null),
    (qn = !1),
    (aa = Jo(t, e)),
    (ip = !1),
    (Fs = Zt = rp = Rr = $i = ke = 0),
    (pn = _o = null),
    (Cd = !1),
    e & 8 && (e |= e & 32);
  var i = t.entangledLanes;
  if (i !== 0)
    for (t = t.entanglements, i &= e; 0 < i; ) {
      var r = 31 - Bt(i),
        s = 1 << r;
      (e |= t[r]), (i &= ~s);
    }
  return (ai = e), zc(), n;
}
function GT(t, e) {
  (ee = null),
    (Z.H = In),
    e === oo
      ? ((e = ey()), (pe = 3))
      : e === IE
      ? ((e = ey()), (pe = 4))
      : (pe =
          e === gT
            ? 8
            : e !== null && typeof e == "object" && typeof e.then == "function"
            ? 6
            : 1),
    (xt = e),
    te === null && ((ke = 1), Ju(t, Yt(e, t.current)));
}
function KT() {
  var t = Z.H;
  return (Z.H = In), t === null ? In : t;
}
function QT() {
  var t = Z.A;
  return (Z.A = W1), t;
}
function kd() {
  (ke = 4),
    qn || ((oe & 4194176) !== oe && en.current !== null) || (aa = !0),
    (!($i & 134217727) && !(Rr & 134217727)) ||
      ge === null ||
      Hn(ge, oe, Zt, !1);
}
function Sf(t, e, n) {
  var i = Ce;
  Ce |= 2;
  var r = KT(),
    s = QT();
  (ge !== t || oe !== e) && ((ic = null), Gs(t, e)), (e = !1);
  var a = ke;
  e: do
    try {
      if (pe !== 0 && te !== null) {
        var l = te,
          u = xt;
        switch (pe) {
          case 8:
            ap(), (a = 6);
            break e;
          case 3:
          case 2:
          case 6:
            en.current === null && (e = !0);
            var c = pe;
            if (((pe = 0), (xt = null), Ss(t, l, u, c), n && aa)) {
              a = 0;
              break e;
            }
            break;
          default:
            (c = pe), (pe = 0), (xt = null), Ss(t, l, u, c);
        }
      }
      eI(), (a = ke);
      break;
    } catch (f) {
      GT(t, f);
    }
  while (1);
  return (
    e && t.shellSuspendCounter++,
    ($n = Gr = null),
    (Ce = i),
    (Z.H = r),
    (Z.A = s),
    te === null && ((ge = null), (oe = 0), zc()),
    a
  );
}
function eI() {
  for (; te !== null; ) $T(te);
}
function tI(t, e) {
  var n = Ce;
  Ce |= 2;
  var i = KT(),
    r = QT();
  ge !== t || oe !== e
    ? ((ic = null), (nc = vn() + 500), Gs(t, e))
    : (aa = Jo(t, e));
  e: do
    try {
      if (pe !== 0 && te !== null) {
        e = te;
        var s = xt;
        t: switch (pe) {
          case 1:
            (pe = 0), (xt = null), Ss(t, e, s, 1);
            break;
          case 2:
            if (J_(s)) {
              (pe = 0), (xt = null), wy(e);
              break;
            }
            (e = function () {
              pe === 2 && ge === t && (pe = 7), On(t);
            }),
              s.then(e, e);
            break e;
          case 3:
            pe = 7;
            break e;
          case 4:
            pe = 5;
            break e;
          case 7:
            J_(s)
              ? ((pe = 0), (xt = null), wy(e))
              : ((pe = 0), (xt = null), Ss(t, e, s, 7));
            break;
          case 5:
            var a = null;
            switch (te.tag) {
              case 26:
                a = te.memoizedState;
              case 5:
              case 27:
                var l = te;
                if (!a || lA(a)) {
                  (pe = 0), (xt = null);
                  var u = l.sibling;
                  if (u !== null) te = u;
                  else {
                    var c = l.return;
                    c !== null ? ((te = c), Qc(c)) : (te = null);
                  }
                  break t;
                }
            }
            (pe = 0), (xt = null), Ss(t, e, s, 5);
            break;
          case 6:
            (pe = 0), (xt = null), Ss(t, e, s, 6);
            break;
          case 8:
            ap(), (ke = 6);
            break e;
          default:
            throw Error(U(462));
        }
      }
      nI();
      break;
    } catch (f) {
      GT(t, f);
    }
  while (1);
  return (
    ($n = Gr = null),
    (Z.H = i),
    (Z.A = r),
    (Ce = n),
    te !== null ? 0 : ((ge = null), (oe = 0), zc(), ke)
  );
}
function nI() {
  for (; te !== null && !Sb(); ) $T(te);
}
function $T(t) {
  var e = TT(t.alternate, t, ai);
  (t.memoizedProps = t.pendingProps), e === null ? Qc(t) : (te = e);
}
function wy(t) {
  var e = t,
    n = e.alternate;
  switch (e.tag) {
    case 15:
    case 0:
      e = my(n, e, e.pendingProps, e.type, void 0, oe);
      break;
    case 11:
      e = my(n, e, e.pendingProps, e.type.render, e.ref, oe);
      break;
    case 5:
      Fm(e);
    default:
      qT(n, e), (e = te = zT(e, ai)), (e = TT(n, e, ai));
  }
  (t.memoizedProps = t.pendingProps), e === null ? Qc(t) : (te = e);
}
function Ss(t, e, n, i) {
  ($n = Gr = null), Fm(e), (Ds = null), (ko = 0);
  var r = e.return;
  try {
    if (F1(t, r, e, n, oe)) {
      (ke = 1), Ju(t, Yt(n, t.current)), (te = null);
      return;
    }
  } catch (s) {
    if (r !== null) throw ((te = r), s);
    (ke = 1), Ju(t, Yt(n, t.current)), (te = null);
    return;
  }
  e.flags & 32768
    ? (ue || i === 1
        ? (t = !0)
        : aa || oe & 536870912
        ? (t = !1)
        : ((qn = t = !0),
          (i === 2 || i === 3 || i === 6) &&
            ((i = en.current),
            i !== null && i.tag === 13 && (i.flags |= 16384))),
      YT(e, t))
    : Qc(e);
}
function Qc(t) {
  var e = t;
  do {
    if (e.flags & 32768) {
      YT(e, qn);
      return;
    }
    t = e.return;
    var n = Y1(e.alternate, e, ai);
    if (n !== null) {
      te = n;
      return;
    }
    if (((e = e.sibling), e !== null)) {
      te = e;
      return;
    }
    te = e = t;
  } while (e !== null);
  ke === 0 && (ke = 5);
}
function YT(t, e) {
  do {
    var n = X1(t.alternate, t);
    if (n !== null) {
      (n.flags &= 32767), (te = n);
      return;
    }
    if (
      ((n = t.return),
      n !== null &&
        ((n.flags |= 32768), (n.subtreeFlags = 0), (n.deletions = null)),
      !e && ((t = t.sibling), t !== null))
    ) {
      te = t;
      return;
    }
    te = t = n;
  } while (t !== null);
  (ke = 6), (te = null);
}
function Sy(t, e, n, i, r, s, a, l, u, c) {
  var f = Z.T,
    p = Ee.p;
  try {
    (Ee.p = 2), (Z.T = null), iI(t, e, n, i, p, r, s, a, l, u, c);
  } finally {
    (Z.T = f), (Ee.p = p);
  }
}
function iI(t, e, n, i, r, s, a, l) {
  do ks();
  while (_r !== null);
  if (Ce & 6) throw Error(U(327));
  var u = t.finishedWork;
  if (((i = t.finishedLanes), u === null)) return null;
  if (((t.finishedWork = null), (t.finishedLanes = 0), u === t.current))
    throw Error(U(177));
  (t.callbackNode = null),
    (t.callbackPriority = 0),
    (t.cancelPendingCommit = null);
  var c = u.lanes | u.childLanes;
  if (
    ((c |= km),
    Vb(t, i, c, s, a, l),
    t === ge && ((te = ge = null), (oe = 0)),
    (!(u.subtreeFlags & 10256) && !(u.flags & 10256)) ||
      tu ||
      ((tu = !0),
      (Dd = c),
      (Od = n),
      oI(qu, function () {
        return ks(), null;
      })),
    (n = (u.flags & 15990) !== 0),
    u.subtreeFlags & 15990 || n
      ? ((n = Z.T),
        (Z.T = null),
        (s = Ee.p),
        (Ee.p = 2),
        (a = Ce),
        (Ce |= 4),
        K1(t, u),
        kT(u, t),
        I1(Ud, t.containerInfo),
        (hc = !!Pd),
        (Ud = Pd = null),
        (t.current = u),
        DT(t, u.alternate, u),
        Rb(),
        (Ce = a),
        (Ee.p = s),
        (Z.T = n))
      : (t.current = u),
    tu ? ((tu = !1), (_r = t), (yo = i)) : XT(t, c),
    (c = t.pendingLanes),
    c === 0 && (Li = null),
    Ob(u.stateNode),
    On(t),
    e !== null)
  )
    for (r = t.onRecoverableError, u = 0; u < e.length; u++)
      (c = e[u]), r(c.value, { componentStack: c.stack });
  return (
    yo & 3 && ks(),
    (c = t.pendingLanes),
    i & 4194218 && c & 42 ? (t === Nd ? vo++ : ((vo = 0), (Nd = t))) : (vo = 0),
    ol(0, !1),
    null
  );
}
function XT(t, e) {
  (t.pooledCacheLanes &= e) === 0 &&
    ((e = t.pooledCache), e != null && ((t.pooledCache = null), il(e)));
}
function ks() {
  if (_r !== null) {
    var t = _r,
      e = Dd;
    Dd = 0;
    var n = J0(yo),
      i = Z.T,
      r = Ee.p;
    try {
      if (((Ee.p = 32 > n ? 32 : n), (Z.T = null), _r === null)) var s = !1;
      else {
        (n = Od), (Od = null);
        var a = _r,
          l = yo;
        if (((_r = null), (yo = 0), Ce & 6)) throw Error(U(331));
        var u = Ce;
        if (
          ((Ce |= 4),
          LT(a.current),
          VT(a, a.current, l, n),
          (Ce = u),
          ol(0, !1),
          Lt && typeof Lt.onPostCommitFiberRoot == "function")
        )
          try {
            Lt.onPostCommitFiberRoot(Zo, a);
          } catch {}
        s = !0;
      }
      return s;
    } finally {
      (Ee.p = r), (Z.T = i), XT(t, e);
    }
  }
  return !1;
}
function Ry(t, e, n) {
  (e = Yt(n, e)),
    (e = yd(t.stateNode, e, 2)),
    (t = Pi(t, e, 2)),
    t !== null && (el(t, 2), On(t));
}
function me(t, e, n) {
  if (t.tag === 3) Ry(t, t, n);
  else
    for (; e !== null; ) {
      if (e.tag === 3) {
        Ry(e, t, n);
        break;
      } else if (e.tag === 1) {
        var i = e.stateNode;
        if (
          typeof e.type.getDerivedStateFromError == "function" ||
          (typeof i.componentDidCatch == "function" &&
            (Li === null || !Li.has(i)))
        ) {
          (t = Yt(n, t)),
            (n = mT(2)),
            (i = Pi(e, n, 2)),
            i !== null && (pT(n, i, e, t), el(i, 2), On(i));
          break;
        }
      }
      e = e.return;
    }
}
function Rf(t, e, n) {
  var i = t.pingCache;
  if (i === null) {
    i = t.pingCache = new Z1();
    var r = new Set();
    i.set(e, r);
  } else (r = i.get(e)), r === void 0 && ((r = new Set()), i.set(e, r));
  r.has(n) || ((ip = !0), r.add(n), (t = rI.bind(null, t, e, n)), e.then(t, t));
}
function rI(t, e, n) {
  var i = t.pingCache;
  i !== null && i.delete(e),
    (t.pingedLanes |= t.suspendedLanes & n),
    (t.warmLanes &= ~n),
    ge === t &&
      (oe & n) === n &&
      (ke === 4 || (ke === 3 && (oe & 62914560) === oe && 300 > vn() - sp)
        ? !(Ce & 2) && Gs(t, 0)
        : (rp |= n),
      Fs === oe && (Fs = 0)),
    On(t);
}
function WT(t, e) {
  e === 0 && (e = X0()), (t = Gi(t, e)), t !== null && (el(t, e), On(t));
}
function sI(t) {
  var e = t.memoizedState,
    n = 0;
  e !== null && (n = e.retryLane), WT(t, n);
}
function aI(t, e) {
  var n = 0;
  switch (t.tag) {
    case 13:
      var i = t.stateNode,
        r = t.memoizedState;
      r !== null && (n = r.retryLane);
      break;
    case 19:
      i = t.stateNode;
      break;
    case 22:
      i = t.stateNode._retryCache;
      break;
    default:
      throw Error(U(314));
  }
  i !== null && i.delete(e), WT(t, n);
}
function oI(t, e) {
  return Rm(t, e);
}
var rc = null,
  ls = null,
  xd = !1,
  sc = !1,
  bf = !1,
  br = 0;
function On(t) {
  t !== ls &&
    t.next === null &&
    (ls === null ? (rc = ls = t) : (ls = ls.next = t)),
    (sc = !0),
    xd || ((xd = !0), uI(lI));
}
function ol(t, e) {
  if (!bf && sc) {
    bf = !0;
    do
      for (var n = !1, i = rc; i !== null; ) {
        if (!e)
          if (t !== 0) {
            var r = i.pendingLanes;
            if (r === 0) var s = 0;
            else {
              var a = i.suspendedLanes,
                l = i.pingedLanes;
              (s = (1 << (31 - Bt(42 | t) + 1)) - 1),
                (s &= r & ~(a & ~l)),
                (s = s & 201326677 ? (s & 201326677) | 1 : s ? s | 2 : 0);
            }
            s !== 0 && ((n = !0), by(i, s));
          } else
            (s = oe),
              (s = Pc(i, i === ge ? s : 0)),
              !(s & 3) || Jo(i, s) || ((n = !0), by(i, s));
        i = i.next;
      }
    while (n);
    bf = !1;
  }
}
function lI() {
  sc = xd = !1;
  var t = 0;
  br !== 0 && (_I() && (t = br), (br = 0));
  for (var e = vn(), n = null, i = rc; i !== null; ) {
    var r = i.next,
      s = ZT(i, e);
    s === 0
      ? ((i.next = null),
        n === null ? (rc = r) : (n.next = r),
        r === null && (ls = n))
      : ((n = i), (t !== 0 || s & 3) && (sc = !0)),
      (i = r);
  }
  ol(t, !1);
}
function ZT(t, e) {
  for (
    var n = t.suspendedLanes,
      i = t.pingedLanes,
      r = t.expirationTimes,
      s = t.pendingLanes & -62914561;
    0 < s;

  ) {
    var a = 31 - Bt(s),
      l = 1 << a,
      u = r[a];
    u === -1
      ? (!(l & n) || l & i) && (r[a] = xb(l, e))
      : u <= e && (t.expiredLanes |= l),
      (s &= ~l);
  }
  if (
    ((e = ge),
    (n = oe),
    (n = Pc(t, t === e ? n : 0)),
    (i = t.callbackNode),
    n === 0 || (t === e && pe === 2) || t.cancelPendingCommit !== null)
  )
    return (
      i !== null && i !== null && tf(i),
      (t.callbackNode = null),
      (t.callbackPriority = 0)
    );
  if (!(n & 3) || Jo(t, n)) {
    if (((e = n & -n), e === t.callbackPriority)) return e;
    switch ((i !== null && tf(i), J0(n))) {
      case 2:
      case 8:
        n = Q0;
        break;
      case 32:
        n = qu;
        break;
      case 268435456:
        n = $0;
        break;
      default:
        n = qu;
    }
    return (
      (i = JT.bind(null, t)),
      (n = Rm(n, i)),
      (t.callbackPriority = e),
      (t.callbackNode = n),
      e
    );
  }
  return (
    i !== null && i !== null && tf(i),
    (t.callbackPriority = 2),
    (t.callbackNode = null),
    2
  );
}
function JT(t, e) {
  var n = t.callbackNode;
  if (ks() && t.callbackNode !== n) return null;
  var i = oe;
  return (
    (i = Pc(t, t === ge ? i : 0)),
    i === 0
      ? null
      : (FT(t, i, e),
        ZT(t, vn()),
        t.callbackNode != null && t.callbackNode === n
          ? JT.bind(null, t)
          : null)
  );
}
function by(t, e) {
  if (ks()) return null;
  FT(t, e, !0);
}
function uI(t) {
  vI(function () {
    Ce & 6 ? Rm(K0, t) : t();
  });
}
function op() {
  return br === 0 && (br = Y0()), br;
}
function Iy(t) {
  return t == null || typeof t == "symbol" || typeof t == "boolean"
    ? null
    : typeof t == "function"
    ? t
    : gu("" + t);
}
function Cy(t, e) {
  var n = e.ownerDocument.createElement("input");
  return (
    (n.name = e.name),
    (n.value = e.value),
    t.id && n.setAttribute("form", t.id),
    e.parentNode.insertBefore(n, e),
    (t = new FormData(t)),
    n.parentNode.removeChild(n),
    t
  );
}
function cI(t, e, n, i, r) {
  if (e === "submit" && n && n.stateNode === r) {
    var s = Iy((r[Ct] || null).action),
      a = i.submitter;
    a &&
      ((e = (e = a[Ct] || null)
        ? Iy(e.formAction)
        : a.getAttribute("formAction")),
      e !== null && ((s = e), (a = null)));
    var l = new Uc("action", "action", null, i, r);
    t.push({
      event: l,
      listeners: [
        {
          instance: null,
          listener: function () {
            if (i.defaultPrevented) {
              if (br !== 0) {
                var u = a ? Cy(r, a) : new FormData(r);
                gd(
                  n,
                  { pending: !0, data: u, method: r.method, action: s },
                  null,
                  u
                );
              }
            } else
              typeof s == "function" &&
                (l.preventDefault(),
                (u = a ? Cy(r, a) : new FormData(r)),
                gd(
                  n,
                  { pending: !0, data: u, method: r.method, action: s },
                  s,
                  u
                ));
          },
          currentTarget: r,
        },
      ],
    });
  }
}
for (var If = 0; If < Y_.length; If++) {
  var Cf = Y_[If],
    hI = Cf.toLowerCase(),
    fI = Cf[0].toUpperCase() + Cf.slice(1);
  hn(hI, "on" + fI);
}
hn(EE, "onAnimationEnd");
hn(TE, "onAnimationIteration");
hn(AE, "onAnimationStart");
hn("dblclick", "onDoubleClick");
hn("focusin", "onFocus");
hn("focusout", "onBlur");
hn(D1, "onTransitionRun");
hn(O1, "onTransitionStart");
hn(N1, "onTransitionCancel");
hn(wE, "onTransitionEnd");
Bs("onMouseEnter", ["mouseout", "mouseover"]);
Bs("onMouseLeave", ["mouseout", "mouseover"]);
Bs("onPointerEnter", ["pointerout", "pointerover"]);
Bs("onPointerLeave", ["pointerout", "pointerover"]);
zr(
  "onChange",
  "change click focusin focusout input keydown keyup selectionchange".split(" ")
);
zr(
  "onSelect",
  "focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(
    " "
  )
);
zr("onBeforeInput", ["compositionend", "keypress", "textInput", "paste"]);
zr(
  "onCompositionEnd",
  "compositionend focusout keydown keypress keyup mousedown".split(" ")
);
zr(
  "onCompositionStart",
  "compositionstart focusout keydown keypress keyup mousedown".split(" ")
);
zr(
  "onCompositionUpdate",
  "compositionupdate focusout keydown keypress keyup mousedown".split(" ")
);
var Vo =
    "abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(
      " "
    ),
  dI = new Set(
    "beforetoggle cancel close invalid load scroll scrollend toggle"
      .split(" ")
      .concat(Vo)
  );
function eA(t, e) {
  e = (e & 4) !== 0;
  for (var n = 0; n < t.length; n++) {
    var i = t[n],
      r = i.event;
    i = i.listeners;
    e: {
      var s = void 0;
      if (e)
        for (var a = i.length - 1; 0 <= a; a--) {
          var l = i[a],
            u = l.instance,
            c = l.currentTarget;
          if (((l = l.listener), u !== s && r.isPropagationStopped())) break e;
          (s = l), (r.currentTarget = c);
          try {
            s(r);
          } catch (f) {
            Zu(f);
          }
          (r.currentTarget = null), (s = u);
        }
      else
        for (a = 0; a < i.length; a++) {
          if (
            ((l = i[a]),
            (u = l.instance),
            (c = l.currentTarget),
            (l = l.listener),
            u !== s && r.isPropagationStopped())
          )
            break e;
          (s = l), (r.currentTarget = c);
          try {
            s(r);
          } catch (f) {
            Zu(f);
          }
          (r.currentTarget = null), (s = u);
        }
    }
  }
}
function re(t, e) {
  var n = e[id];
  n === void 0 && (n = e[id] = new Set());
  var i = t + "__bubble";
  n.has(i) || (tA(e, t, 2, !1), n.add(i));
}
function Df(t, e, n) {
  var i = 0;
  e && (i |= 4), tA(n, t, i, e);
}
var nu = "_reactListening" + Math.random().toString(36).slice(2);
function lp(t) {
  if (!t[nu]) {
    (t[nu] = !0),
      tE.forEach(function (n) {
        n !== "selectionchange" && (dI.has(n) || Df(n, !1, t), Df(n, !0, t));
      });
    var e = t.nodeType === 9 ? t : t.ownerDocument;
    e === null || e[nu] || ((e[nu] = !0), Df("selectionchange", !1, e));
  }
}
function tA(t, e, n, i) {
  switch (dA(e)) {
    case 2:
      var r = BI;
      break;
    case 8:
      r = zI;
      break;
    default:
      r = fp;
  }
  (n = r.bind(null, e, n, t)),
    (r = void 0),
    !od ||
      (e !== "touchstart" && e !== "touchmove" && e !== "wheel") ||
      (r = !0),
    i
      ? r !== void 0
        ? t.addEventListener(e, n, { capture: !0, passive: r })
        : t.addEventListener(e, n, !0)
      : r !== void 0
      ? t.addEventListener(e, n, { passive: r })
      : t.addEventListener(e, n, !1);
}
function Of(t, e, n, i, r) {
  var s = i;
  if (!(e & 1) && !(e & 2) && i !== null)
    e: for (;;) {
      if (i === null) return;
      var a = i.tag;
      if (a === 3 || a === 4) {
        var l = i.stateNode.containerInfo;
        if (l === r || (l.nodeType === 8 && l.parentNode === r)) break;
        if (a === 4)
          for (a = i.return; a !== null; ) {
            var u = a.tag;
            if (
              (u === 3 || u === 4) &&
              ((u = a.stateNode.containerInfo),
              u === r || (u.nodeType === 8 && u.parentNode === r))
            )
              return;
            a = a.return;
          }
        for (; l !== null; ) {
          if (((a = yr(l)), a === null)) return;
          if (((u = a.tag), u === 5 || u === 6 || u === 26 || u === 27)) {
            i = s = a;
            continue e;
          }
          l = l.parentNode;
        }
      }
      i = i.return;
    }
  uE(function () {
    var c = s,
      f = Cm(n),
      p = [];
    e: {
      var m = SE.get(t);
      if (m !== void 0) {
        var _ = Uc,
          b = t;
        switch (t) {
          case "keypress":
            if (yu(n) === 0) break e;
          case "keydown":
          case "keyup":
            _ = a1;
            break;
          case "focusin":
            (b = "focus"), (_ = of);
            break;
          case "focusout":
            (b = "blur"), (_ = of);
            break;
          case "beforeblur":
          case "afterblur":
            _ = of;
            break;
          case "click":
            if (n.button === 2) break e;
          case "auxclick":
          case "dblclick":
          case "mousedown":
          case "mousemove":
          case "mouseup":
          case "mouseout":
          case "mouseover":
          case "contextmenu":
            _ = U_;
            break;
          case "drag":
          case "dragend":
          case "dragenter":
          case "dragexit":
          case "dragleave":
          case "dragover":
          case "dragstart":
          case "drop":
            _ = $b;
            break;
          case "touchcancel":
          case "touchend":
          case "touchmove":
          case "touchstart":
            _ = u1;
            break;
          case EE:
          case TE:
          case AE:
            _ = Wb;
            break;
          case wE:
            _ = h1;
            break;
          case "scroll":
          case "scrollend":
            _ = Kb;
            break;
          case "wheel":
            _ = d1;
            break;
          case "copy":
          case "cut":
          case "paste":
            _ = Jb;
            break;
          case "gotpointercapture":
          case "lostpointercapture":
          case "pointercancel":
          case "pointerdown":
          case "pointermove":
          case "pointerout":
          case "pointerover":
          case "pointerup":
            _ = B_;
            break;
          case "toggle":
          case "beforetoggle":
            _ = p1;
        }
        var C = (e & 4) !== 0,
          D = !C && (t === "scroll" || t === "scrollend"),
          E = C ? (m !== null ? m + "Capture" : null) : m;
        C = [];
        for (var v = c, w; v !== null; ) {
          var O = v;
          if (
            ((w = O.stateNode),
            (O = O.tag),
            (O !== 5 && O !== 26 && O !== 27) ||
              w === null ||
              E === null ||
              ((O = Do(v, E)), O != null && C.push(Po(v, O, w))),
            D)
          )
            break;
          v = v.return;
        }
        0 < C.length &&
          ((m = new _(m, b, null, n, f)), p.push({ event: m, listeners: C }));
      }
    }
    if (!(e & 7)) {
      e: {
        if (
          ((m = t === "mouseover" || t === "pointerover"),
          (_ = t === "mouseout" || t === "pointerout"),
          m &&
            n !== ad &&
            (b = n.relatedTarget || n.fromElement) &&
            (yr(b) || b[ra]))
        )
          break e;
        if (
          (_ || m) &&
          ((m =
            f.window === f
              ? f
              : (m = f.ownerDocument)
              ? m.defaultView || m.parentWindow
              : window),
          _
            ? ((b = n.relatedTarget || n.toElement),
              (_ = c),
              (b = b ? yr(b) : null),
              b !== null &&
                ((D = ia(b)),
                (C = b.tag),
                b !== D || (C !== 5 && C !== 27 && C !== 6)) &&
                (b = null))
            : ((_ = null), (b = c)),
          _ !== b)
        ) {
          if (
            ((C = U_),
            (O = "onMouseLeave"),
            (E = "onMouseEnter"),
            (v = "mouse"),
            (t === "pointerout" || t === "pointerover") &&
              ((C = B_),
              (O = "onPointerLeave"),
              (E = "onPointerEnter"),
              (v = "pointer")),
            (D = _ == null ? m : $a(_)),
            (w = b == null ? m : $a(b)),
            (m = new C(O, v + "leave", _, n, f)),
            (m.target = D),
            (m.relatedTarget = w),
            (O = null),
            yr(f) === c &&
              ((C = new C(E, v + "enter", b, n, f)),
              (C.target = w),
              (C.relatedTarget = D),
              (O = C)),
            (D = O),
            _ && b)
          )
            t: {
              for (C = _, E = b, v = 0, w = C; w; w = is(w)) v++;
              for (w = 0, O = E; O; O = is(O)) w++;
              for (; 0 < v - w; ) (C = is(C)), v--;
              for (; 0 < w - v; ) (E = is(E)), w--;
              for (; v--; ) {
                if (C === E || (E !== null && C === E.alternate)) break t;
                (C = is(C)), (E = is(E));
              }
              C = null;
            }
          else C = null;
          _ !== null && Dy(p, m, _, C, !1),
            b !== null && D !== null && Dy(p, D, b, C, !0);
        }
      }
      e: {
        if (
          ((m = c ? $a(c) : window),
          (_ = m.nodeName && m.nodeName.toLowerCase()),
          _ === "select" || (_ === "input" && m.type === "file"))
        )
          var B = H_;
        else if (q_(m))
          if (pE) B = R1;
          else {
            B = w1;
            var j = A1;
          }
        else
          (_ = m.nodeName),
            !_ ||
            _.toLowerCase() !== "input" ||
            (m.type !== "checkbox" && m.type !== "radio")
              ? c && Im(c.elementType) && (B = H_)
              : (B = S1);
        if (B && (B = B(t, c))) {
          mE(p, B, n, f);
          break e;
        }
        j && j(t, m, c),
          t === "focusout" &&
            c &&
            m.type === "number" &&
            c.memoizedProps.value != null &&
            sd(m, "number", m.value);
      }
      switch (((j = c ? $a(c) : window), t)) {
        case "focusin":
          (q_(j) || j.contentEditable === "true") &&
            ((ys = j), (ld = c), (ao = null));
          break;
        case "focusout":
          ao = ld = ys = null;
          break;
        case "mousedown":
          ud = !0;
          break;
        case "contextmenu":
        case "mouseup":
        case "dragend":
          (ud = !1), $_(p, n, f);
          break;
        case "selectionchange":
          if (C1) break;
        case "keydown":
        case "keyup":
          $_(p, n, f);
      }
      var A;
      if (Nm)
        e: {
          switch (t) {
            case "compositionstart":
              var y = "onCompositionStart";
              break e;
            case "compositionend":
              y = "onCompositionEnd";
              break e;
            case "compositionupdate":
              y = "onCompositionUpdate";
              break e;
          }
          y = void 0;
        }
      else
        _s
          ? fE(t, n) && (y = "onCompositionEnd")
          : t === "keydown" && n.keyCode === 229 && (y = "onCompositionStart");
      y &&
        (hE &&
          n.locale !== "ko" &&
          (_s || y !== "onCompositionStart"
            ? y === "onCompositionEnd" && _s && (A = cE())
            : ((Mi = f),
              (Dm = "value" in Mi ? Mi.value : Mi.textContent),
              (_s = !0))),
        (j = ac(c, y)),
        0 < j.length &&
          ((y = new L_(y, t, null, n, f)),
          p.push({ event: y, listeners: j }),
          A ? (y.data = A) : ((A = dE(n)), A !== null && (y.data = A)))),
        (A = _1 ? y1(t, n) : v1(t, n)) &&
          ((y = ac(c, "onBeforeInput")),
          0 < y.length &&
            ((j = new L_("onBeforeInput", "beforeinput", null, n, f)),
            p.push({ event: j, listeners: y }),
            (j.data = A))),
        cI(p, t, c, n, f);
    }
    eA(p, e);
  });
}
function Po(t, e, n) {
  return { instance: t, listener: e, currentTarget: n };
}
function ac(t, e) {
  for (var n = e + "Capture", i = []; t !== null; ) {
    var r = t,
      s = r.stateNode;
    (r = r.tag),
      (r !== 5 && r !== 26 && r !== 27) ||
        s === null ||
        ((r = Do(t, n)),
        r != null && i.unshift(Po(t, r, s)),
        (r = Do(t, e)),
        r != null && i.push(Po(t, r, s))),
      (t = t.return);
  }
  return i;
}
function is(t) {
  if (t === null) return null;
  do t = t.return;
  while (t && t.tag !== 5 && t.tag !== 27);
  return t || null;
}
function Dy(t, e, n, i, r) {
  for (var s = e._reactName, a = []; n !== null && n !== i; ) {
    var l = n,
      u = l.alternate,
      c = l.stateNode;
    if (((l = l.tag), u !== null && u === i)) break;
    (l !== 5 && l !== 26 && l !== 27) ||
      c === null ||
      ((u = c),
      r
        ? ((c = Do(n, s)), c != null && a.unshift(Po(n, c, u)))
        : r || ((c = Do(n, s)), c != null && a.push(Po(n, c, u)))),
      (n = n.return);
  }
  a.length !== 0 && t.push({ event: e, listeners: a });
}
var mI = /\r\n?/g,
  pI = /\u0000|\uFFFD/g;
function Oy(t) {
  return (typeof t == "string" ? t : "" + t)
    .replace(
      mI,
      `
`
    )
    .replace(pI, "");
}
function nA(t, e) {
  return (e = Oy(e)), Oy(t) === e;
}
function $c() {}
function he(t, e, n, i, r, s) {
  switch (n) {
    case "children":
      typeof i == "string"
        ? e === "body" || (e === "textarea" && i === "") || zs(t, i)
        : (typeof i == "number" || typeof i == "bigint") &&
          e !== "body" &&
          zs(t, "" + i);
      break;
    case "className":
      $l(t, "class", i);
      break;
    case "tabIndex":
      $l(t, "tabindex", i);
      break;
    case "dir":
    case "role":
    case "viewBox":
    case "width":
    case "height":
      $l(t, n, i);
      break;
    case "style":
      lE(t, i, s);
      break;
    case "data":
      if (e !== "object") {
        $l(t, "data", i);
        break;
      }
    case "src":
    case "href":
      if (i === "" && (e !== "a" || n !== "href")) {
        t.removeAttribute(n);
        break;
      }
      if (
        i == null ||
        typeof i == "function" ||
        typeof i == "symbol" ||
        typeof i == "boolean"
      ) {
        t.removeAttribute(n);
        break;
      }
      (i = gu("" + i)), t.setAttribute(n, i);
      break;
    case "action":
    case "formAction":
      if (typeof i == "function") {
        t.setAttribute(
          n,
          "javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')"
        );
        break;
      } else
        typeof s == "function" &&
          (n === "formAction"
            ? (e !== "input" && he(t, e, "name", r.name, r, null),
              he(t, e, "formEncType", r.formEncType, r, null),
              he(t, e, "formMethod", r.formMethod, r, null),
              he(t, e, "formTarget", r.formTarget, r, null))
            : (he(t, e, "encType", r.encType, r, null),
              he(t, e, "method", r.method, r, null),
              he(t, e, "target", r.target, r, null)));
      if (i == null || typeof i == "symbol" || typeof i == "boolean") {
        t.removeAttribute(n);
        break;
      }
      (i = gu("" + i)), t.setAttribute(n, i);
      break;
    case "onClick":
      i != null && (t.onclick = $c);
      break;
    case "onScroll":
      i != null && re("scroll", t);
      break;
    case "onScrollEnd":
      i != null && re("scrollend", t);
      break;
    case "dangerouslySetInnerHTML":
      if (i != null) {
        if (typeof i != "object" || !("__html" in i)) throw Error(U(61));
        if (((n = i.__html), n != null)) {
          if (r.children != null) throw Error(U(60));
          t.innerHTML = n;
        }
      }
      break;
    case "multiple":
      t.multiple = i && typeof i != "function" && typeof i != "symbol";
      break;
    case "muted":
      t.muted = i && typeof i != "function" && typeof i != "symbol";
      break;
    case "suppressContentEditableWarning":
    case "suppressHydrationWarning":
    case "defaultValue":
    case "defaultChecked":
    case "innerHTML":
    case "ref":
      break;
    case "autoFocus":
      break;
    case "xlinkHref":
      if (
        i == null ||
        typeof i == "function" ||
        typeof i == "boolean" ||
        typeof i == "symbol"
      ) {
        t.removeAttribute("xlink:href");
        break;
      }
      (n = gu("" + i)),
        t.setAttributeNS("http://www.w3.org/1999/xlink", "xlink:href", n);
      break;
    case "contentEditable":
    case "spellCheck":
    case "draggable":
    case "value":
    case "autoReverse":
    case "externalResourcesRequired":
    case "focusable":
    case "preserveAlpha":
      i != null && typeof i != "function" && typeof i != "symbol"
        ? t.setAttribute(n, "" + i)
        : t.removeAttribute(n);
      break;
    case "inert":
    case "allowFullScreen":
    case "async":
    case "autoPlay":
    case "controls":
    case "default":
    case "defer":
    case "disabled":
    case "disablePictureInPicture":
    case "disableRemotePlayback":
    case "formNoValidate":
    case "hidden":
    case "loop":
    case "noModule":
    case "noValidate":
    case "open":
    case "playsInline":
    case "readOnly":
    case "required":
    case "reversed":
    case "scoped":
    case "seamless":
    case "itemScope":
      i && typeof i != "function" && typeof i != "symbol"
        ? t.setAttribute(n, "")
        : t.removeAttribute(n);
      break;
    case "capture":
    case "download":
      i === !0
        ? t.setAttribute(n, "")
        : i !== !1 &&
          i != null &&
          typeof i != "function" &&
          typeof i != "symbol"
        ? t.setAttribute(n, i)
        : t.removeAttribute(n);
      break;
    case "cols":
    case "rows":
    case "size":
    case "span":
      i != null &&
      typeof i != "function" &&
      typeof i != "symbol" &&
      !isNaN(i) &&
      1 <= i
        ? t.setAttribute(n, i)
        : t.removeAttribute(n);
      break;
    case "rowSpan":
    case "start":
      i == null || typeof i == "function" || typeof i == "symbol" || isNaN(i)
        ? t.removeAttribute(n)
        : t.setAttribute(n, i);
      break;
    case "popover":
      re("beforetoggle", t), re("toggle", t), pu(t, "popover", i);
      break;
    case "xlinkActuate":
      Un(t, "http://www.w3.org/1999/xlink", "xlink:actuate", i);
      break;
    case "xlinkArcrole":
      Un(t, "http://www.w3.org/1999/xlink", "xlink:arcrole", i);
      break;
    case "xlinkRole":
      Un(t, "http://www.w3.org/1999/xlink", "xlink:role", i);
      break;
    case "xlinkShow":
      Un(t, "http://www.w3.org/1999/xlink", "xlink:show", i);
      break;
    case "xlinkTitle":
      Un(t, "http://www.w3.org/1999/xlink", "xlink:title", i);
      break;
    case "xlinkType":
      Un(t, "http://www.w3.org/1999/xlink", "xlink:type", i);
      break;
    case "xmlBase":
      Un(t, "http://www.w3.org/XML/1998/namespace", "xml:base", i);
      break;
    case "xmlLang":
      Un(t, "http://www.w3.org/XML/1998/namespace", "xml:lang", i);
      break;
    case "xmlSpace":
      Un(t, "http://www.w3.org/XML/1998/namespace", "xml:space", i);
      break;
    case "is":
      pu(t, "is", i);
      break;
    case "innerText":
    case "textContent":
      break;
    default:
      (!(2 < n.length) ||
        (n[0] !== "o" && n[0] !== "O") ||
        (n[1] !== "n" && n[1] !== "N")) &&
        ((n = Fb.get(n) || n), pu(t, n, i));
  }
}
function Vd(t, e, n, i, r, s) {
  switch (n) {
    case "style":
      lE(t, i, s);
      break;
    case "dangerouslySetInnerHTML":
      if (i != null) {
        if (typeof i != "object" || !("__html" in i)) throw Error(U(61));
        if (((n = i.__html), n != null)) {
          if (r.children != null) throw Error(U(60));
          t.innerHTML = n;
        }
      }
      break;
    case "children":
      typeof i == "string"
        ? zs(t, i)
        : (typeof i == "number" || typeof i == "bigint") && zs(t, "" + i);
      break;
    case "onScroll":
      i != null && re("scroll", t);
      break;
    case "onScrollEnd":
      i != null && re("scrollend", t);
      break;
    case "onClick":
      i != null && (t.onclick = $c);
      break;
    case "suppressContentEditableWarning":
    case "suppressHydrationWarning":
    case "innerHTML":
    case "ref":
      break;
    case "innerText":
    case "textContent":
      break;
    default:
      if (!nE.hasOwnProperty(n))
        e: {
          if (
            n[0] === "o" &&
            n[1] === "n" &&
            ((r = n.endsWith("Capture")),
            (e = n.slice(2, r ? n.length - 7 : void 0)),
            (s = t[Ct] || null),
            (s = s != null ? s[n] : null),
            typeof s == "function" && t.removeEventListener(e, s, r),
            typeof i == "function")
          ) {
            typeof s != "function" &&
              s !== null &&
              (n in t
                ? (t[n] = null)
                : t.hasAttribute(n) && t.removeAttribute(n)),
              t.addEventListener(e, i, r);
            break e;
          }
          n in t ? (t[n] = i) : i === !0 ? t.setAttribute(n, "") : pu(t, n, i);
        }
  }
}
function st(t, e, n) {
  switch (e) {
    case "div":
    case "span":
    case "svg":
    case "path":
    case "a":
    case "g":
    case "p":
    case "li":
      break;
    case "img":
      re("error", t), re("load", t);
      var i = !1,
        r = !1,
        s;
      for (s in n)
        if (n.hasOwnProperty(s)) {
          var a = n[s];
          if (a != null)
            switch (s) {
              case "src":
                i = !0;
                break;
              case "srcSet":
                r = !0;
                break;
              case "children":
              case "dangerouslySetInnerHTML":
                throw Error(U(137, e));
              default:
                he(t, e, s, a, n, null);
            }
        }
      r && he(t, e, "srcSet", n.srcSet, n, null),
        i && he(t, e, "src", n.src, n, null);
      return;
    case "input":
      re("invalid", t);
      var l = (s = a = r = null),
        u = null,
        c = null;
      for (i in n)
        if (n.hasOwnProperty(i)) {
          var f = n[i];
          if (f != null)
            switch (i) {
              case "name":
                r = f;
                break;
              case "type":
                a = f;
                break;
              case "checked":
                u = f;
                break;
              case "defaultChecked":
                c = f;
                break;
              case "value":
                s = f;
                break;
              case "defaultValue":
                l = f;
                break;
              case "children":
              case "dangerouslySetInnerHTML":
                if (f != null) throw Error(U(137, e));
                break;
              default:
                he(t, e, i, f, n, null);
            }
        }
      sE(t, s, l, u, c, a, r, !1), Hu(t);
      return;
    case "select":
      re("invalid", t), (i = a = s = null);
      for (r in n)
        if (n.hasOwnProperty(r) && ((l = n[r]), l != null))
          switch (r) {
            case "value":
              s = l;
              break;
            case "defaultValue":
              a = l;
              break;
            case "multiple":
              i = l;
            default:
              he(t, e, r, l, n, null);
          }
      (e = s),
        (n = a),
        (t.multiple = !!i),
        e != null ? Is(t, !!i, e, !1) : n != null && Is(t, !!i, n, !0);
      return;
    case "textarea":
      re("invalid", t), (s = r = i = null);
      for (a in n)
        if (n.hasOwnProperty(a) && ((l = n[a]), l != null))
          switch (a) {
            case "value":
              i = l;
              break;
            case "defaultValue":
              r = l;
              break;
            case "children":
              s = l;
              break;
            case "dangerouslySetInnerHTML":
              if (l != null) throw Error(U(91));
              break;
            default:
              he(t, e, a, l, n, null);
          }
      oE(t, i, r, s), Hu(t);
      return;
    case "option":
      for (u in n)
        if (n.hasOwnProperty(u) && ((i = n[u]), i != null))
          switch (u) {
            case "selected":
              t.selected = i && typeof i != "function" && typeof i != "symbol";
              break;
            default:
              he(t, e, u, i, n, null);
          }
      return;
    case "dialog":
      re("cancel", t), re("close", t);
      break;
    case "iframe":
    case "object":
      re("load", t);
      break;
    case "video":
    case "audio":
      for (i = 0; i < Vo.length; i++) re(Vo[i], t);
      break;
    case "image":
      re("error", t), re("load", t);
      break;
    case "details":
      re("toggle", t);
      break;
    case "embed":
    case "source":
    case "link":
      re("error", t), re("load", t);
    case "area":
    case "base":
    case "br":
    case "col":
    case "hr":
    case "keygen":
    case "meta":
    case "param":
    case "track":
    case "wbr":
    case "menuitem":
      for (c in n)
        if (n.hasOwnProperty(c) && ((i = n[c]), i != null))
          switch (c) {
            case "children":
            case "dangerouslySetInnerHTML":
              throw Error(U(137, e));
            default:
              he(t, e, c, i, n, null);
          }
      return;
    default:
      if (Im(e)) {
        for (f in n)
          n.hasOwnProperty(f) &&
            ((i = n[f]), i !== void 0 && Vd(t, e, f, i, n, void 0));
        return;
      }
  }
  for (l in n)
    n.hasOwnProperty(l) && ((i = n[l]), i != null && he(t, e, l, i, n, null));
}
function gI(t, e, n, i) {
  switch (e) {
    case "div":
    case "span":
    case "svg":
    case "path":
    case "a":
    case "g":
    case "p":
    case "li":
      break;
    case "input":
      var r = null,
        s = null,
        a = null,
        l = null,
        u = null,
        c = null,
        f = null;
      for (_ in n) {
        var p = n[_];
        if (n.hasOwnProperty(_) && p != null)
          switch (_) {
            case "checked":
              break;
            case "value":
              break;
            case "defaultValue":
              u = p;
            default:
              i.hasOwnProperty(_) || he(t, e, _, null, i, p);
          }
      }
      for (var m in i) {
        var _ = i[m];
        if (((p = n[m]), i.hasOwnProperty(m) && (_ != null || p != null)))
          switch (m) {
            case "type":
              s = _;
              break;
            case "name":
              r = _;
              break;
            case "checked":
              c = _;
              break;
            case "defaultChecked":
              f = _;
              break;
            case "value":
              a = _;
              break;
            case "defaultValue":
              l = _;
              break;
            case "children":
            case "dangerouslySetInnerHTML":
              if (_ != null) throw Error(U(137, e));
              break;
            default:
              _ !== p && he(t, e, m, _, i, p);
          }
      }
      rd(t, a, l, u, c, f, s, r);
      return;
    case "select":
      _ = a = l = m = null;
      for (s in n)
        if (((u = n[s]), n.hasOwnProperty(s) && u != null))
          switch (s) {
            case "value":
              break;
            case "multiple":
              _ = u;
            default:
              i.hasOwnProperty(s) || he(t, e, s, null, i, u);
          }
      for (r in i)
        if (
          ((s = i[r]),
          (u = n[r]),
          i.hasOwnProperty(r) && (s != null || u != null))
        )
          switch (r) {
            case "value":
              m = s;
              break;
            case "defaultValue":
              l = s;
              break;
            case "multiple":
              a = s;
            default:
              s !== u && he(t, e, r, s, i, u);
          }
      (e = l),
        (n = a),
        (i = _),
        m != null
          ? Is(t, !!n, m, !1)
          : !!i != !!n &&
            (e != null ? Is(t, !!n, e, !0) : Is(t, !!n, n ? [] : "", !1));
      return;
    case "textarea":
      _ = m = null;
      for (l in n)
        if (
          ((r = n[l]), n.hasOwnProperty(l) && r != null && !i.hasOwnProperty(l))
        )
          switch (l) {
            case "value":
              break;
            case "children":
              break;
            default:
              he(t, e, l, null, i, r);
          }
      for (a in i)
        if (
          ((r = i[a]),
          (s = n[a]),
          i.hasOwnProperty(a) && (r != null || s != null))
        )
          switch (a) {
            case "value":
              m = r;
              break;
            case "defaultValue":
              _ = r;
              break;
            case "children":
              break;
            case "dangerouslySetInnerHTML":
              if (r != null) throw Error(U(91));
              break;
            default:
              r !== s && he(t, e, a, r, i, s);
          }
      aE(t, m, _);
      return;
    case "option":
      for (var b in n)
        if (
          ((m = n[b]), n.hasOwnProperty(b) && m != null && !i.hasOwnProperty(b))
        )
          switch (b) {
            case "selected":
              t.selected = !1;
              break;
            default:
              he(t, e, b, null, i, m);
          }
      for (u in i)
        if (
          ((m = i[u]),
          (_ = n[u]),
          i.hasOwnProperty(u) && m !== _ && (m != null || _ != null))
        )
          switch (u) {
            case "selected":
              t.selected = m && typeof m != "function" && typeof m != "symbol";
              break;
            default:
              he(t, e, u, m, i, _);
          }
      return;
    case "img":
    case "link":
    case "area":
    case "base":
    case "br":
    case "col":
    case "embed":
    case "hr":
    case "keygen":
    case "meta":
    case "param":
    case "source":
    case "track":
    case "wbr":
    case "menuitem":
      for (var C in n)
        (m = n[C]),
          n.hasOwnProperty(C) &&
            m != null &&
            !i.hasOwnProperty(C) &&
            he(t, e, C, null, i, m);
      for (c in i)
        if (
          ((m = i[c]),
          (_ = n[c]),
          i.hasOwnProperty(c) && m !== _ && (m != null || _ != null))
        )
          switch (c) {
            case "children":
            case "dangerouslySetInnerHTML":
              if (m != null) throw Error(U(137, e));
              break;
            default:
              he(t, e, c, m, i, _);
          }
      return;
    default:
      if (Im(e)) {
        for (var D in n)
          (m = n[D]),
            n.hasOwnProperty(D) &&
              m !== void 0 &&
              !i.hasOwnProperty(D) &&
              Vd(t, e, D, void 0, i, m);
        for (f in i)
          (m = i[f]),
            (_ = n[f]),
            !i.hasOwnProperty(f) ||
              m === _ ||
              (m === void 0 && _ === void 0) ||
              Vd(t, e, f, m, i, _);
        return;
      }
  }
  for (var E in n)
    (m = n[E]),
      n.hasOwnProperty(E) &&
        m != null &&
        !i.hasOwnProperty(E) &&
        he(t, e, E, null, i, m);
  for (p in i)
    (m = i[p]),
      (_ = n[p]),
      !i.hasOwnProperty(p) ||
        m === _ ||
        (m == null && _ == null) ||
        he(t, e, p, m, i, _);
}
var Pd = null,
  Ud = null;
function oc(t) {
  return t.nodeType === 9 ? t : t.ownerDocument;
}
function Ny(t) {
  switch (t) {
    case "http://www.w3.org/2000/svg":
      return 1;
    case "http://www.w3.org/1998/Math/MathML":
      return 2;
    default:
      return 0;
  }
}
function iA(t, e) {
  if (t === 0)
    switch (e) {
      case "svg":
        return 1;
      case "math":
        return 2;
      default:
        return 0;
    }
  return t === 1 && e === "foreignObject" ? 0 : t;
}
function Ld(t, e) {
  return (
    t === "textarea" ||
    t === "noscript" ||
    typeof e.children == "string" ||
    typeof e.children == "number" ||
    typeof e.children == "bigint" ||
    (typeof e.dangerouslySetInnerHTML == "object" &&
      e.dangerouslySetInnerHTML !== null &&
      e.dangerouslySetInnerHTML.__html != null)
  );
}
var Nf = null;
function _I() {
  var t = window.event;
  return t && t.type === "popstate"
    ? t === Nf
      ? !1
      : ((Nf = t), !0)
    : ((Nf = null), !1);
}
var rA = typeof setTimeout == "function" ? setTimeout : void 0,
  yI = typeof clearTimeout == "function" ? clearTimeout : void 0,
  My = typeof Promise == "function" ? Promise : void 0,
  vI =
    typeof queueMicrotask == "function"
      ? queueMicrotask
      : typeof My < "u"
      ? function (t) {
          return My.resolve(null).then(t).catch(EI);
        }
      : rA;
function EI(t) {
  setTimeout(function () {
    throw t;
  });
}
function Mf(t, e) {
  var n = e,
    i = 0;
  do {
    var r = n.nextSibling;
    if ((t.removeChild(n), r && r.nodeType === 8))
      if (((n = r.data), n === "/$")) {
        if (i === 0) {
          t.removeChild(r), jo(e);
          return;
        }
        i--;
      } else (n !== "$" && n !== "$?" && n !== "$!") || i++;
    n = r;
  } while (n);
  jo(e);
}
function Bd(t) {
  var e = t.firstChild;
  for (e && e.nodeType === 10 && (e = e.nextSibling); e; ) {
    var n = e;
    switch (((e = e.nextSibling), n.nodeName)) {
      case "HTML":
      case "HEAD":
      case "BODY":
        Bd(n), bm(n);
        continue;
      case "SCRIPT":
      case "STYLE":
        continue;
      case "LINK":
        if (n.rel.toLowerCase() === "stylesheet") continue;
    }
    t.removeChild(n);
  }
}
function TI(t, e, n, i) {
  for (; t.nodeType === 1; ) {
    var r = n;
    if (t.nodeName.toLowerCase() !== e.toLowerCase()) {
      if (!i && (t.nodeName !== "INPUT" || t.type !== "hidden")) break;
    } else if (i) {
      if (!t[Co])
        switch (e) {
          case "meta":
            if (!t.hasAttribute("itemprop")) break;
            return t;
          case "link":
            if (
              ((s = t.getAttribute("rel")),
              s === "stylesheet" && t.hasAttribute("data-precedence"))
            )
              break;
            if (
              s !== r.rel ||
              t.getAttribute("href") !== (r.href == null ? null : r.href) ||
              t.getAttribute("crossorigin") !==
                (r.crossOrigin == null ? null : r.crossOrigin) ||
              t.getAttribute("title") !== (r.title == null ? null : r.title)
            )
              break;
            return t;
          case "style":
            if (t.hasAttribute("data-precedence")) break;
            return t;
          case "script":
            if (
              ((s = t.getAttribute("src")),
              (s !== (r.src == null ? null : r.src) ||
                t.getAttribute("type") !== (r.type == null ? null : r.type) ||
                t.getAttribute("crossorigin") !==
                  (r.crossOrigin == null ? null : r.crossOrigin)) &&
                s &&
                t.hasAttribute("async") &&
                !t.hasAttribute("itemprop"))
            )
              break;
            return t;
          default:
            return t;
        }
    } else if (e === "input" && t.type === "hidden") {
      var s = r.name == null ? null : "" + r.name;
      if (r.type === "hidden" && t.getAttribute("name") === s) return t;
    } else return t;
    if (((t = on(t.nextSibling)), t === null)) break;
  }
  return null;
}
function AI(t, e, n) {
  if (e === "") return null;
  for (; t.nodeType !== 3; )
    if (
      ((t.nodeType !== 1 || t.nodeName !== "INPUT" || t.type !== "hidden") &&
        !n) ||
      ((t = on(t.nextSibling)), t === null)
    )
      return null;
  return t;
}
function on(t) {
  for (; t != null; t = t.nextSibling) {
    var e = t.nodeType;
    if (e === 1 || e === 3) break;
    if (e === 8) {
      if (
        ((e = t.data),
        e === "$" || e === "$!" || e === "$?" || e === "F!" || e === "F")
      )
        break;
      if (e === "/$") return null;
    }
  }
  return t;
}
function ky(t) {
  t = t.previousSibling;
  for (var e = 0; t; ) {
    if (t.nodeType === 8) {
      var n = t.data;
      if (n === "$" || n === "$!" || n === "$?") {
        if (e === 0) return t;
        e--;
      } else n === "/$" && e++;
    }
    t = t.previousSibling;
  }
  return null;
}
function sA(t, e, n) {
  switch (((e = oc(n)), t)) {
    case "html":
      if (((t = e.documentElement), !t)) throw Error(U(452));
      return t;
    case "head":
      if (((t = e.head), !t)) throw Error(U(453));
      return t;
    case "body":
      if (((t = e.body), !t)) throw Error(U(454));
      return t;
    default:
      throw Error(U(451));
  }
}
var tn = new Map(),
  xy = new Set();
function lc(t) {
  return typeof t.getRootNode == "function" ? t.getRootNode() : t.ownerDocument;
}
var hi = Ee.d;
Ee.d = { f: wI, r: SI, D: RI, C: bI, L: II, m: CI, X: OI, S: DI, M: NI };
function wI() {
  var t = hi.f(),
    e = Kc();
  return t || e;
}
function SI(t) {
  var e = sa(t);
  e !== null && e.tag === 5 && e.type === "form" ? sT(e) : hi.r(t);
}
var oa = typeof document > "u" ? null : document;
function aA(t, e, n) {
  var i = oa;
  if (i && typeof e == "string" && e) {
    var r = $t(e);
    (r = 'link[rel="' + t + '"][href="' + r + '"]'),
      typeof n == "string" && (r += '[crossorigin="' + n + '"]'),
      xy.has(r) ||
        (xy.add(r),
        (t = { rel: t, crossOrigin: n, href: e }),
        i.querySelector(r) === null &&
          ((e = i.createElement("link")),
          st(e, "link", t),
          Xe(e),
          i.head.appendChild(e)));
  }
}
function RI(t) {
  hi.D(t), aA("dns-prefetch", t, null);
}
function bI(t, e) {
  hi.C(t, e), aA("preconnect", t, e);
}
function II(t, e, n) {
  hi.L(t, e, n);
  var i = oa;
  if (i && t && e) {
    var r = 'link[rel="preload"][as="' + $t(e) + '"]';
    e === "image" && n && n.imageSrcSet
      ? ((r += '[imagesrcset="' + $t(n.imageSrcSet) + '"]'),
        typeof n.imageSizes == "string" &&
          (r += '[imagesizes="' + $t(n.imageSizes) + '"]'))
      : (r += '[href="' + $t(t) + '"]');
    var s = r;
    switch (e) {
      case "style":
        s = Ks(t);
        break;
      case "script":
        s = la(t);
    }
    tn.has(s) ||
      ((t = Te(
        {
          rel: "preload",
          href: e === "image" && n && n.imageSrcSet ? void 0 : t,
          as: e,
        },
        n
      )),
      tn.set(s, t),
      i.querySelector(r) !== null ||
        (e === "style" && i.querySelector(ll(s))) ||
        (e === "script" && i.querySelector(ul(s))) ||
        ((e = i.createElement("link")),
        st(e, "link", t),
        Xe(e),
        i.head.appendChild(e)));
  }
}
function CI(t, e) {
  hi.m(t, e);
  var n = oa;
  if (n && t) {
    var i = e && typeof e.as == "string" ? e.as : "script",
      r = 'link[rel="modulepreload"][as="' + $t(i) + '"][href="' + $t(t) + '"]',
      s = r;
    switch (i) {
      case "audioworklet":
      case "paintworklet":
      case "serviceworker":
      case "sharedworker":
      case "worker":
      case "script":
        s = la(t);
    }
    if (
      !tn.has(s) &&
      ((t = Te({ rel: "modulepreload", href: t }, e)),
      tn.set(s, t),
      n.querySelector(r) === null)
    ) {
      switch (i) {
        case "audioworklet":
        case "paintworklet":
        case "serviceworker":
        case "sharedworker":
        case "worker":
        case "script":
          if (n.querySelector(ul(s))) return;
      }
      (i = n.createElement("link")),
        st(i, "link", t),
        Xe(i),
        n.head.appendChild(i);
    }
  }
}
function DI(t, e, n) {
  hi.S(t, e, n);
  var i = oa;
  if (i && t) {
    var r = bs(i).hoistableStyles,
      s = Ks(t);
    e = e || "default";
    var a = r.get(s);
    if (!a) {
      var l = { loading: 0, preload: null };
      if ((a = i.querySelector(ll(s)))) l.loading = 5;
      else {
        (t = Te({ rel: "stylesheet", href: t, "data-precedence": e }, n)),
          (n = tn.get(s)) && up(t, n);
        var u = (a = i.createElement("link"));
        Xe(u),
          st(u, "link", t),
          (u._p = new Promise(function (c, f) {
            (u.onload = c), (u.onerror = f);
          })),
          u.addEventListener("load", function () {
            l.loading |= 1;
          }),
          u.addEventListener("error", function () {
            l.loading |= 2;
          }),
          (l.loading |= 4),
          Su(a, e, i);
      }
      (a = { type: "stylesheet", instance: a, count: 1, state: l }),
        r.set(s, a);
    }
  }
}
function OI(t, e) {
  hi.X(t, e);
  var n = oa;
  if (n && t) {
    var i = bs(n).hoistableScripts,
      r = la(t),
      s = i.get(r);
    s ||
      ((s = n.querySelector(ul(r))),
      s ||
        ((t = Te({ src: t, async: !0 }, e)),
        (e = tn.get(r)) && cp(t, e),
        (s = n.createElement("script")),
        Xe(s),
        st(s, "link", t),
        n.head.appendChild(s)),
      (s = { type: "script", instance: s, count: 1, state: null }),
      i.set(r, s));
  }
}
function NI(t, e) {
  hi.M(t, e);
  var n = oa;
  if (n && t) {
    var i = bs(n).hoistableScripts,
      r = la(t),
      s = i.get(r);
    s ||
      ((s = n.querySelector(ul(r))),
      s ||
        ((t = Te({ src: t, async: !0, type: "module" }, e)),
        (e = tn.get(r)) && cp(t, e),
        (s = n.createElement("script")),
        Xe(s),
        st(s, "link", t),
        n.head.appendChild(s)),
      (s = { type: "script", instance: s, count: 1, state: null }),
      i.set(r, s));
  }
}
function Vy(t, e, n, i) {
  var r = (r = xi.current) ? lc(r) : null;
  if (!r) throw Error(U(446));
  switch (t) {
    case "meta":
    case "title":
      return null;
    case "style":
      return typeof n.precedence == "string" && typeof n.href == "string"
        ? ((e = Ks(n.href)),
          (n = bs(r).hoistableStyles),
          (i = n.get(e)),
          i ||
            ((i = { type: "style", instance: null, count: 0, state: null }),
            n.set(e, i)),
          i)
        : { type: "void", instance: null, count: 0, state: null };
    case "link":
      if (
        n.rel === "stylesheet" &&
        typeof n.href == "string" &&
        typeof n.precedence == "string"
      ) {
        t = Ks(n.href);
        var s = bs(r).hoistableStyles,
          a = s.get(t);
        if (
          (a ||
            ((r = r.ownerDocument || r),
            (a = {
              type: "stylesheet",
              instance: null,
              count: 0,
              state: { loading: 0, preload: null },
            }),
            s.set(t, a),
            (s = r.querySelector(ll(t))) &&
              !s._p &&
              ((a.instance = s), (a.state.loading = 5)),
            tn.has(t) ||
              ((n = {
                rel: "preload",
                as: "style",
                href: n.href,
                crossOrigin: n.crossOrigin,
                integrity: n.integrity,
                media: n.media,
                hrefLang: n.hrefLang,
                referrerPolicy: n.referrerPolicy,
              }),
              tn.set(t, n),
              s || MI(r, t, n, a.state))),
          e && i === null)
        )
          throw Error(U(528, ""));
        return a;
      }
      if (e && i !== null) throw Error(U(529, ""));
      return null;
    case "script":
      return (
        (e = n.async),
        (n = n.src),
        typeof n == "string" &&
        e &&
        typeof e != "function" &&
        typeof e != "symbol"
          ? ((e = la(n)),
            (n = bs(r).hoistableScripts),
            (i = n.get(e)),
            i ||
              ((i = { type: "script", instance: null, count: 0, state: null }),
              n.set(e, i)),
            i)
          : { type: "void", instance: null, count: 0, state: null }
      );
    default:
      throw Error(U(444, t));
  }
}
function Ks(t) {
  return 'href="' + $t(t) + '"';
}
function ll(t) {
  return 'link[rel="stylesheet"][' + t + "]";
}
function oA(t) {
  return Te({}, t, { "data-precedence": t.precedence, precedence: null });
}
function MI(t, e, n, i) {
  t.querySelector('link[rel="preload"][as="style"][' + e + "]")
    ? (i.loading = 1)
    : ((e = t.createElement("link")),
      (i.preload = e),
      e.addEventListener("load", function () {
        return (i.loading |= 1);
      }),
      e.addEventListener("error", function () {
        return (i.loading |= 2);
      }),
      st(e, "link", n),
      Xe(e),
      t.head.appendChild(e));
}
function la(t) {
  return '[src="' + $t(t) + '"]';
}
function ul(t) {
  return "script[async]" + t;
}
function Py(t, e, n) {
  if ((e.count++, e.instance === null))
    switch (e.type) {
      case "style":
        var i = t.querySelector('style[data-href~="' + $t(n.href) + '"]');
        if (i) return (e.instance = i), Xe(i), i;
        var r = Te({}, n, {
          "data-href": n.href,
          "data-precedence": n.precedence,
          href: null,
          precedence: null,
        });
        return (
          (i = (t.ownerDocument || t).createElement("style")),
          Xe(i),
          st(i, "style", r),
          Su(i, n.precedence, t),
          (e.instance = i)
        );
      case "stylesheet":
        r = Ks(n.href);
        var s = t.querySelector(ll(r));
        if (s) return (e.state.loading |= 4), (e.instance = s), Xe(s), s;
        (i = oA(n)),
          (r = tn.get(r)) && up(i, r),
          (s = (t.ownerDocument || t).createElement("link")),
          Xe(s);
        var a = s;
        return (
          (a._p = new Promise(function (l, u) {
            (a.onload = l), (a.onerror = u);
          })),
          st(s, "link", i),
          (e.state.loading |= 4),
          Su(s, n.precedence, t),
          (e.instance = s)
        );
      case "script":
        return (
          (s = la(n.src)),
          (r = t.querySelector(ul(s)))
            ? ((e.instance = r), Xe(r), r)
            : ((i = n),
              (r = tn.get(s)) && ((i = Te({}, n)), cp(i, r)),
              (t = t.ownerDocument || t),
              (r = t.createElement("script")),
              Xe(r),
              st(r, "link", i),
              t.head.appendChild(r),
              (e.instance = r))
        );
      case "void":
        return null;
      default:
        throw Error(U(443, e.type));
    }
  else
    e.type === "stylesheet" &&
      !(e.state.loading & 4) &&
      ((i = e.instance), (e.state.loading |= 4), Su(i, n.precedence, t));
  return e.instance;
}
function Su(t, e, n) {
  for (
    var i = n.querySelectorAll(
        'link[rel="stylesheet"][data-precedence],style[data-precedence]'
      ),
      r = i.length ? i[i.length - 1] : null,
      s = r,
      a = 0;
    a < i.length;
    a++
  ) {
    var l = i[a];
    if (l.dataset.precedence === e) s = l;
    else if (s !== r) break;
  }
  s
    ? s.parentNode.insertBefore(t, s.nextSibling)
    : ((e = n.nodeType === 9 ? n.head : n), e.insertBefore(t, e.firstChild));
}
function up(t, e) {
  t.crossOrigin == null && (t.crossOrigin = e.crossOrigin),
    t.referrerPolicy == null && (t.referrerPolicy = e.referrerPolicy),
    t.title == null && (t.title = e.title);
}
function cp(t, e) {
  t.crossOrigin == null && (t.crossOrigin = e.crossOrigin),
    t.referrerPolicy == null && (t.referrerPolicy = e.referrerPolicy),
    t.integrity == null && (t.integrity = e.integrity);
}
var Ru = null;
function Uy(t, e, n) {
  if (Ru === null) {
    var i = new Map(),
      r = (Ru = new Map());
    r.set(n, i);
  } else (r = Ru), (i = r.get(n)), i || ((i = new Map()), r.set(n, i));
  if (i.has(t)) return i;
  for (
    i.set(t, null), n = n.getElementsByTagName(t), r = 0;
    r < n.length;
    r++
  ) {
    var s = n[r];
    if (
      !(
        s[Co] ||
        s[dt] ||
        (t === "link" && s.getAttribute("rel") === "stylesheet")
      ) &&
      s.namespaceURI !== "http://www.w3.org/2000/svg"
    ) {
      var a = s.getAttribute(e) || "";
      a = t + a;
      var l = i.get(a);
      l ? l.push(s) : i.set(a, [s]);
    }
  }
  return i;
}
function Ly(t, e, n) {
  (t = t.ownerDocument || t),
    t.head.insertBefore(
      n,
      e === "title" ? t.querySelector("head > title") : null
    );
}
function kI(t, e, n) {
  if (n === 1 || e.itemProp != null) return !1;
  switch (t) {
    case "meta":
    case "title":
      return !0;
    case "style":
      if (
        typeof e.precedence != "string" ||
        typeof e.href != "string" ||
        e.href === ""
      )
        break;
      return !0;
    case "link":
      if (
        typeof e.rel != "string" ||
        typeof e.href != "string" ||
        e.href === "" ||
        e.onLoad ||
        e.onError
      )
        break;
      switch (e.rel) {
        case "stylesheet":
          return (t = e.disabled), typeof e.precedence == "string" && t == null;
        default:
          return !0;
      }
    case "script":
      if (
        e.async &&
        typeof e.async != "function" &&
        typeof e.async != "symbol" &&
        !e.onLoad &&
        !e.onError &&
        e.src &&
        typeof e.src == "string"
      )
        return !0;
  }
  return !1;
}
function lA(t) {
  return !(t.type === "stylesheet" && !(t.state.loading & 3));
}
var Uo = null;
function xI() {}
function VI(t, e, n) {
  if (Uo === null) throw Error(U(475));
  var i = Uo;
  if (
    e.type === "stylesheet" &&
    (typeof n.media != "string" || matchMedia(n.media).matches !== !1) &&
    !(e.state.loading & 4)
  ) {
    if (e.instance === null) {
      var r = Ks(n.href),
        s = t.querySelector(ll(r));
      if (s) {
        (t = s._p),
          t !== null &&
            typeof t == "object" &&
            typeof t.then == "function" &&
            (i.count++, (i = uc.bind(i)), t.then(i, i)),
          (e.state.loading |= 4),
          (e.instance = s),
          Xe(s);
        return;
      }
      (s = t.ownerDocument || t),
        (n = oA(n)),
        (r = tn.get(r)) && up(n, r),
        (s = s.createElement("link")),
        Xe(s);
      var a = s;
      (a._p = new Promise(function (l, u) {
        (a.onload = l), (a.onerror = u);
      })),
        st(s, "link", n),
        (e.instance = s);
    }
    i.stylesheets === null && (i.stylesheets = new Map()),
      i.stylesheets.set(e, t),
      (t = e.state.preload) &&
        !(e.state.loading & 3) &&
        (i.count++,
        (e = uc.bind(i)),
        t.addEventListener("load", e),
        t.addEventListener("error", e));
  }
}
function PI() {
  if (Uo === null) throw Error(U(475));
  var t = Uo;
  return (
    t.stylesheets && t.count === 0 && zd(t, t.stylesheets),
    0 < t.count
      ? function (e) {
          var n = setTimeout(function () {
            if ((t.stylesheets && zd(t, t.stylesheets), t.unsuspend)) {
              var i = t.unsuspend;
              (t.unsuspend = null), i();
            }
          }, 6e4);
          return (
            (t.unsuspend = e),
            function () {
              (t.unsuspend = null), clearTimeout(n);
            }
          );
        }
      : null
  );
}
function uc() {
  if ((this.count--, this.count === 0)) {
    if (this.stylesheets) zd(this, this.stylesheets);
    else if (this.unsuspend) {
      var t = this.unsuspend;
      (this.unsuspend = null), t();
    }
  }
}
var cc = null;
function zd(t, e) {
  (t.stylesheets = null),
    t.unsuspend !== null &&
      (t.count++, (cc = new Map()), e.forEach(UI, t), (cc = null), uc.call(t));
}
function UI(t, e) {
  if (!(e.state.loading & 4)) {
    var n = cc.get(t);
    if (n) var i = n.get(null);
    else {
      (n = new Map()), cc.set(t, n);
      for (
        var r = t.querySelectorAll(
            "link[data-precedence],style[data-precedence]"
          ),
          s = 0;
        s < r.length;
        s++
      ) {
        var a = r[s];
        (a.nodeName === "LINK" || a.getAttribute("media") !== "not all") &&
          (n.set(a.dataset.precedence, a), (i = a));
      }
      i && n.set(null, i);
    }
    (r = e.instance),
      (a = r.getAttribute("data-precedence")),
      (s = n.get(a) || i),
      s === i && n.set(null, r),
      n.set(a, r),
      this.count++,
      (i = uc.bind(this)),
      r.addEventListener("load", i),
      r.addEventListener("error", i),
      s
        ? s.parentNode.insertBefore(r, s.nextSibling)
        : ((t = t.nodeType === 9 ? t.head : t),
          t.insertBefore(r, t.firstChild)),
      (e.state.loading |= 4);
  }
}
var Lo = {
  $$typeof: Fn,
  Provider: null,
  Consumer: null,
  _currentValue: Tr,
  _currentValue2: Tr,
  _threadCount: 0,
};
function LI(t, e, n, i, r, s, a, l) {
  (this.tag = 1),
    (this.containerInfo = t),
    (this.finishedWork =
      this.pingCache =
      this.current =
      this.pendingChildren =
        null),
    (this.timeoutHandle = -1),
    (this.callbackNode =
      this.next =
      this.pendingContext =
      this.context =
      this.cancelPendingCommit =
        null),
    (this.callbackPriority = 0),
    (this.expirationTimes = nf(-1)),
    (this.entangledLanes =
      this.shellSuspendCounter =
      this.errorRecoveryDisabledLanes =
      this.finishedLanes =
      this.expiredLanes =
      this.warmLanes =
      this.pingedLanes =
      this.suspendedLanes =
      this.pendingLanes =
        0),
    (this.entanglements = nf(0)),
    (this.hiddenUpdates = nf(null)),
    (this.identifierPrefix = i),
    (this.onUncaughtError = r),
    (this.onCaughtError = s),
    (this.onRecoverableError = a),
    (this.pooledCache = null),
    (this.pooledCacheLanes = 0),
    (this.formState = l),
    (this.incompleteTransitions = new Map());
}
function uA(t, e, n, i, r, s, a, l, u, c, f, p) {
  return (
    (t = new LI(t, e, n, a, l, u, c, p)),
    (e = 1),
    s === !0 && (e |= 24),
    (s = Wt(3, null, null, e)),
    (t.current = s),
    (s.stateNode = t),
    (e = Lm()),
    e.refCount++,
    (t.pooledCache = e),
    e.refCount++,
    (s.memoizedState = { element: i, isDehydrated: n, cache: e }),
    Jm(s),
    t
  );
}
function cA(t) {
  return t ? ((t = Ts), t) : Ts;
}
function hA(t, e, n, i, r, s) {
  (r = cA(r)),
    i.context === null ? (i.context = r) : (i.pendingContext = r),
    (i = Vi(e)),
    (i.payload = { element: n }),
    (s = s === void 0 ? null : s),
    s !== null && (i.callback = s),
    (n = Pi(t, i, e)),
    n !== null && (At(n, t, e), fo(n, t, e));
}
function By(t, e) {
  if (((t = t.memoizedState), t !== null && t.dehydrated !== null)) {
    var n = t.retryLane;
    t.retryLane = n !== 0 && n < e ? n : e;
  }
}
function hp(t, e) {
  By(t, e), (t = t.alternate) && By(t, e);
}
function fA(t) {
  if (t.tag === 13) {
    var e = Gi(t, 67108864);
    e !== null && At(e, t, 67108864), hp(t, 67108864);
  }
}
var hc = !0;
function BI(t, e, n, i) {
  var r = Z.T;
  Z.T = null;
  var s = Ee.p;
  try {
    (Ee.p = 2), fp(t, e, n, i);
  } finally {
    (Ee.p = s), (Z.T = r);
  }
}
function zI(t, e, n, i) {
  var r = Z.T;
  Z.T = null;
  var s = Ee.p;
  try {
    (Ee.p = 8), fp(t, e, n, i);
  } finally {
    (Ee.p = s), (Z.T = r);
  }
}
function fp(t, e, n, i) {
  if (hc) {
    var r = jd(i);
    if (r === null) Of(t, e, i, fc, n), zy(t, i);
    else if (qI(r, t, e, n, i)) i.stopPropagation();
    else if ((zy(t, i), e & 4 && -1 < jI.indexOf(t))) {
      for (; r !== null; ) {
        var s = sa(r);
        if (s !== null)
          switch (s.tag) {
            case 3:
              if (((s = s.stateNode), s.current.memoizedState.isDehydrated)) {
                var a = mr(s.pendingLanes);
                if (a !== 0) {
                  var l = s;
                  for (l.pendingLanes |= 2, l.entangledLanes |= 2; a; ) {
                    var u = 1 << (31 - Bt(a));
                    (l.entanglements[1] |= u), (a &= ~u);
                  }
                  On(s), !(Ce & 6) && ((nc = vn() + 500), ol(0, !1));
                }
              }
              break;
            case 13:
              (l = Gi(s, 2)), l !== null && At(l, s, 2), Kc(), hp(s, 2);
          }
        if (((s = jd(i)), s === null && Of(t, e, i, fc, n), s === r)) break;
        r = s;
      }
      r !== null && i.stopPropagation();
    } else Of(t, e, i, null, n);
  }
}
function jd(t) {
  return (t = Cm(t)), dp(t);
}
var fc = null;
function dp(t) {
  if (((fc = null), (t = yr(t)), t !== null)) {
    var e = ia(t);
    if (e === null) t = null;
    else {
      var n = e.tag;
      if (n === 13) {
        if (((t = F0(e)), t !== null)) return t;
        t = null;
      } else if (n === 3) {
        if (e.stateNode.current.memoizedState.isDehydrated)
          return e.tag === 3 ? e.stateNode.containerInfo : null;
        t = null;
      } else e !== t && (t = null);
    }
  }
  return (fc = t), null;
}
function dA(t) {
  switch (t) {
    case "beforetoggle":
    case "cancel":
    case "click":
    case "close":
    case "contextmenu":
    case "copy":
    case "cut":
    case "auxclick":
    case "dblclick":
    case "dragend":
    case "dragstart":
    case "drop":
    case "focusin":
    case "focusout":
    case "input":
    case "invalid":
    case "keydown":
    case "keypress":
    case "keyup":
    case "mousedown":
    case "mouseup":
    case "paste":
    case "pause":
    case "play":
    case "pointercancel":
    case "pointerdown":
    case "pointerup":
    case "ratechange":
    case "reset":
    case "resize":
    case "seeked":
    case "submit":
    case "toggle":
    case "touchcancel":
    case "touchend":
    case "touchstart":
    case "volumechange":
    case "change":
    case "selectionchange":
    case "textInput":
    case "compositionstart":
    case "compositionend":
    case "compositionupdate":
    case "beforeblur":
    case "afterblur":
    case "beforeinput":
    case "blur":
    case "fullscreenchange":
    case "focus":
    case "hashchange":
    case "popstate":
    case "select":
    case "selectstart":
      return 2;
    case "drag":
    case "dragenter":
    case "dragexit":
    case "dragleave":
    case "dragover":
    case "mousemove":
    case "mouseout":
    case "mouseover":
    case "pointermove":
    case "pointerout":
    case "pointerover":
    case "scroll":
    case "touchmove":
    case "wheel":
    case "mouseenter":
    case "mouseleave":
    case "pointerenter":
    case "pointerleave":
      return 8;
    case "message":
      switch (bb()) {
        case K0:
          return 2;
        case Q0:
          return 8;
        case qu:
        case Ib:
          return 32;
        case $0:
          return 268435456;
        default:
          return 32;
      }
    default:
      return 32;
  }
}
var qd = !1,
  Bi = null,
  zi = null,
  ji = null,
  Bo = new Map(),
  zo = new Map(),
  Ri = [],
  jI =
    "mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(
      " "
    );
function zy(t, e) {
  switch (t) {
    case "focusin":
    case "focusout":
      Bi = null;
      break;
    case "dragenter":
    case "dragleave":
      zi = null;
      break;
    case "mouseover":
    case "mouseout":
      ji = null;
      break;
    case "pointerover":
    case "pointerout":
      Bo.delete(e.pointerId);
      break;
    case "gotpointercapture":
    case "lostpointercapture":
      zo.delete(e.pointerId);
  }
}
function ja(t, e, n, i, r, s) {
  return t === null || t.nativeEvent !== s
    ? ((t = {
        blockedOn: e,
        domEventName: n,
        eventSystemFlags: i,
        nativeEvent: s,
        targetContainers: [r],
      }),
      e !== null && ((e = sa(e)), e !== null && fA(e)),
      t)
    : ((t.eventSystemFlags |= i),
      (e = t.targetContainers),
      r !== null && e.indexOf(r) === -1 && e.push(r),
      t);
}
function qI(t, e, n, i, r) {
  switch (e) {
    case "focusin":
      return (Bi = ja(Bi, t, e, n, i, r)), !0;
    case "dragenter":
      return (zi = ja(zi, t, e, n, i, r)), !0;
    case "mouseover":
      return (ji = ja(ji, t, e, n, i, r)), !0;
    case "pointerover":
      var s = r.pointerId;
      return Bo.set(s, ja(Bo.get(s) || null, t, e, n, i, r)), !0;
    case "gotpointercapture":
      return (
        (s = r.pointerId), zo.set(s, ja(zo.get(s) || null, t, e, n, i, r)), !0
      );
  }
  return !1;
}
function mA(t) {
  var e = yr(t.target);
  if (e !== null) {
    var n = ia(e);
    if (n !== null) {
      if (((e = n.tag), e === 13)) {
        if (((e = F0(n)), e !== null)) {
          (t.blockedOn = e),
            Pb(t.priority, function () {
              if (n.tag === 13) {
                var i = zt(),
                  r = Gi(n, i);
                r !== null && At(r, n, i), hp(n, i);
              }
            });
          return;
        }
      } else if (e === 3 && n.stateNode.current.memoizedState.isDehydrated) {
        t.blockedOn = n.tag === 3 ? n.stateNode.containerInfo : null;
        return;
      }
    }
  }
  t.blockedOn = null;
}
function bu(t) {
  if (t.blockedOn !== null) return !1;
  for (var e = t.targetContainers; 0 < e.length; ) {
    var n = jd(t.nativeEvent);
    if (n === null) {
      n = t.nativeEvent;
      var i = new n.constructor(n.type, n);
      (ad = i), n.target.dispatchEvent(i), (ad = null);
    } else return (e = sa(n)), e !== null && fA(e), (t.blockedOn = n), !1;
    e.shift();
  }
  return !0;
}
function jy(t, e, n) {
  bu(t) && n.delete(e);
}
function HI() {
  (qd = !1),
    Bi !== null && bu(Bi) && (Bi = null),
    zi !== null && bu(zi) && (zi = null),
    ji !== null && bu(ji) && (ji = null),
    Bo.forEach(jy),
    zo.forEach(jy);
}
function iu(t, e) {
  t.blockedOn === e &&
    ((t.blockedOn = null),
    qd ||
      ((qd = !0),
      Qe.unstable_scheduleCallback(Qe.unstable_NormalPriority, HI)));
}
var ru = null;
function qy(t) {
  ru !== t &&
    ((ru = t),
    Qe.unstable_scheduleCallback(Qe.unstable_NormalPriority, function () {
      ru === t && (ru = null);
      for (var e = 0; e < t.length; e += 3) {
        var n = t[e],
          i = t[e + 1],
          r = t[e + 2];
        if (typeof i != "function") {
          if (dp(i || n) === null) continue;
          break;
        }
        var s = sa(n);
        s !== null &&
          (t.splice(e, 3),
          (e -= 3),
          gd(s, { pending: !0, data: r, method: n.method, action: i }, i, r));
      }
    }));
}
function jo(t) {
  function e(u) {
    return iu(u, t);
  }
  Bi !== null && iu(Bi, t),
    zi !== null && iu(zi, t),
    ji !== null && iu(ji, t),
    Bo.forEach(e),
    zo.forEach(e);
  for (var n = 0; n < Ri.length; n++) {
    var i = Ri[n];
    i.blockedOn === t && (i.blockedOn = null);
  }
  for (; 0 < Ri.length && ((n = Ri[0]), n.blockedOn === null); )
    mA(n), n.blockedOn === null && Ri.shift();
  if (((n = (t.ownerDocument || t).$$reactFormReplay), n != null))
    for (i = 0; i < n.length; i += 3) {
      var r = n[i],
        s = n[i + 1],
        a = r[Ct] || null;
      if (typeof s == "function") a || qy(n);
      else if (a) {
        var l = null;
        if (s && s.hasAttribute("formAction")) {
          if (((r = s), (a = s[Ct] || null))) l = a.formAction;
          else if (dp(r) !== null) continue;
        } else l = a.action;
        typeof l == "function" ? (n[i + 1] = l) : (n.splice(i, 3), (i -= 3)),
          qy(n);
      }
    }
}
function mp(t) {
  this._internalRoot = t;
}
Yc.prototype.render = mp.prototype.render = function (t) {
  var e = this._internalRoot;
  if (e === null) throw Error(U(409));
  var n = e.current,
    i = zt();
  hA(n, i, t, e, null, null);
};
Yc.prototype.unmount = mp.prototype.unmount = function () {
  var t = this._internalRoot;
  if (t !== null) {
    this._internalRoot = null;
    var e = t.containerInfo;
    t.tag === 0 && ks(),
      hA(t.current, 2, null, t, null, null),
      Kc(),
      (e[ra] = null);
  }
};
function Yc(t) {
  this._internalRoot = t;
}
Yc.prototype.unstable_scheduleHydration = function (t) {
  if (t) {
    var e = eE();
    t = { blockedOn: null, target: t, priority: e };
    for (var n = 0; n < Ri.length && e !== 0 && e < Ri[n].priority; n++);
    Ri.splice(n, 0, t), n === 0 && mA(t);
  }
};
var Hy = B0.version;
if (Hy !== "19.0.0") throw Error(U(527, Hy, "19.0.0"));
Ee.findDOMNode = function (t) {
  var e = t._reactInternals;
  if (e === void 0)
    throw typeof t.render == "function"
      ? Error(U(188))
      : ((t = Object.keys(t).join(",")), Error(U(268, t)));
  return (
    (t = wb(e)),
    (t = t !== null ? G0(t) : null),
    (t = t === null ? null : t.stateNode),
    t
  );
};
var FI = {
  bundleType: 0,
  version: "19.0.0",
  rendererPackageName: "react-dom",
  currentDispatcherRef: Z,
  findFiberByHostInstance: yr,
  reconcilerVersion: "19.0.0",
};
if (typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ < "u") {
  var su = __REACT_DEVTOOLS_GLOBAL_HOOK__;
  if (!su.isDisabled && su.supportsFiber)
    try {
      (Zo = su.inject(FI)), (Lt = su);
    } catch {}
}
xc.createRoot = function (t, e) {
  if (!z0(t)) throw Error(U(299));
  var n = !1,
    i = "",
    r = hT,
    s = fT,
    a = dT,
    l = null;
  return (
    e != null &&
      (e.unstable_strictMode === !0 && (n = !0),
      e.identifierPrefix !== void 0 && (i = e.identifierPrefix),
      e.onUncaughtError !== void 0 && (r = e.onUncaughtError),
      e.onCaughtError !== void 0 && (s = e.onCaughtError),
      e.onRecoverableError !== void 0 && (a = e.onRecoverableError),
      e.unstable_transitionCallbacks !== void 0 &&
        (l = e.unstable_transitionCallbacks)),
    (e = uA(t, 1, !1, null, null, n, i, r, s, a, l, null)),
    (t[ra] = e.current),
    lp(t.nodeType === 8 ? t.parentNode : t),
    new mp(e)
  );
};
xc.hydrateRoot = function (t, e, n) {
  if (!z0(t)) throw Error(U(299));
  var i = !1,
    r = "",
    s = hT,
    a = fT,
    l = dT,
    u = null,
    c = null;
  return (
    n != null &&
      (n.unstable_strictMode === !0 && (i = !0),
      n.identifierPrefix !== void 0 && (r = n.identifierPrefix),
      n.onUncaughtError !== void 0 && (s = n.onUncaughtError),
      n.onCaughtError !== void 0 && (a = n.onCaughtError),
      n.onRecoverableError !== void 0 && (l = n.onRecoverableError),
      n.unstable_transitionCallbacks !== void 0 &&
        (u = n.unstable_transitionCallbacks),
      n.formState !== void 0 && (c = n.formState)),
    (e = uA(t, 1, !0, e, n ?? null, i, r, s, a, l, u, c)),
    (e.context = cA(null)),
    (n = e.current),
    (i = zt()),
    (r = Vi(i)),
    (r.callback = null),
    Pi(n, r, i),
    (e.current.lanes = i),
    el(e, i),
    On(e),
    (t[ra] = e.current),
    lp(t),
    new Yc(e)
  );
};
xc.version = "19.0.0";
function pA() {
  if (
    !(
      typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ > "u" ||
      typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE != "function"
    )
  )
    try {
      __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(pA);
    } catch (t) {
      console.error(t);
    }
}
pA(), (k0.exports = xc);
var GI = k0.exports;
const KI = w0(GI);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ /**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ const gA = function (t) {
    const e = [];
    let n = 0;
    for (let i = 0; i < t.length; i++) {
      let r = t.charCodeAt(i);
      r < 128
        ? (e[n++] = r)
        : r < 2048
        ? ((e[n++] = (r >> 6) | 192), (e[n++] = (r & 63) | 128))
        : (r & 64512) === 55296 &&
          i + 1 < t.length &&
          (t.charCodeAt(i + 1) & 64512) === 56320
        ? ((r = 65536 + ((r & 1023) << 10) + (t.charCodeAt(++i) & 1023)),
          (e[n++] = (r >> 18) | 240),
          (e[n++] = ((r >> 12) & 63) | 128),
          (e[n++] = ((r >> 6) & 63) | 128),
          (e[n++] = (r & 63) | 128))
        : ((e[n++] = (r >> 12) | 224),
          (e[n++] = ((r >> 6) & 63) | 128),
          (e[n++] = (r & 63) | 128));
    }
    return e;
  },
  QI = function (t) {
    const e = [];
    let n = 0,
      i = 0;
    for (; n < t.length; ) {
      const r = t[n++];
      if (r < 128) e[i++] = String.fromCharCode(r);
      else if (r > 191 && r < 224) {
        const s = t[n++];
        e[i++] = String.fromCharCode(((r & 31) << 6) | (s & 63));
      } else if (r > 239 && r < 365) {
        const s = t[n++],
          a = t[n++],
          l = t[n++],
          u =
            (((r & 7) << 18) | ((s & 63) << 12) | ((a & 63) << 6) | (l & 63)) -
            65536;
        (e[i++] = String.fromCharCode(55296 + (u >> 10))),
          (e[i++] = String.fromCharCode(56320 + (u & 1023)));
      } else {
        const s = t[n++],
          a = t[n++];
        e[i++] = String.fromCharCode(
          ((r & 15) << 12) | ((s & 63) << 6) | (a & 63)
        );
      }
    }
    return e.join("");
  },
  _A = {
    byteToCharMap_: null,
    charToByteMap_: null,
    byteToCharMapWebSafe_: null,
    charToByteMapWebSafe_: null,
    ENCODED_VALS_BASE:
      "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",
    get ENCODED_VALS() {
      return this.ENCODED_VALS_BASE + "+/=";
    },
    get ENCODED_VALS_WEBSAFE() {
      return this.ENCODED_VALS_BASE + "-_.";
    },
    HAS_NATIVE_SUPPORT: typeof atob == "function",
    encodeByteArray(t, e) {
      if (!Array.isArray(t))
        throw Error("encodeByteArray takes an array as a parameter");
      this.init_();
      const n = e ? this.byteToCharMapWebSafe_ : this.byteToCharMap_,
        i = [];
      for (let r = 0; r < t.length; r += 3) {
        const s = t[r],
          a = r + 1 < t.length,
          l = a ? t[r + 1] : 0,
          u = r + 2 < t.length,
          c = u ? t[r + 2] : 0,
          f = s >> 2,
          p = ((s & 3) << 4) | (l >> 4);
        let m = ((l & 15) << 2) | (c >> 6),
          _ = c & 63;
        u || ((_ = 64), a || (m = 64)), i.push(n[f], n[p], n[m], n[_]);
      }
      return i.join("");
    },
    encodeString(t, e) {
      return this.HAS_NATIVE_SUPPORT && !e
        ? btoa(t)
        : this.encodeByteArray(gA(t), e);
    },
    decodeString(t, e) {
      return this.HAS_NATIVE_SUPPORT && !e
        ? atob(t)
        : QI(this.decodeStringToByteArray(t, e));
    },
    decodeStringToByteArray(t, e) {
      this.init_();
      const n = e ? this.charToByteMapWebSafe_ : this.charToByteMap_,
        i = [];
      for (let r = 0; r < t.length; ) {
        const s = n[t.charAt(r++)],
          l = r < t.length ? n[t.charAt(r)] : 0;
        ++r;
        const c = r < t.length ? n[t.charAt(r)] : 64;
        ++r;
        const p = r < t.length ? n[t.charAt(r)] : 64;
        if ((++r, s == null || l == null || c == null || p == null))
          throw new $I();
        const m = (s << 2) | (l >> 4);
        if ((i.push(m), c !== 64)) {
          const _ = ((l << 4) & 240) | (c >> 2);
          if ((i.push(_), p !== 64)) {
            const b = ((c << 6) & 192) | p;
            i.push(b);
          }
        }
      }
      return i;
    },
    init_() {
      if (!this.byteToCharMap_) {
        (this.byteToCharMap_ = {}),
          (this.charToByteMap_ = {}),
          (this.byteToCharMapWebSafe_ = {}),
          (this.charToByteMapWebSafe_ = {});
        for (let t = 0; t < this.ENCODED_VALS.length; t++)
          (this.byteToCharMap_[t] = this.ENCODED_VALS.charAt(t)),
            (this.charToByteMap_[this.byteToCharMap_[t]] = t),
            (this.byteToCharMapWebSafe_[t] =
              this.ENCODED_VALS_WEBSAFE.charAt(t)),
            (this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]] = t),
            t >= this.ENCODED_VALS_BASE.length &&
              ((this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)] = t),
              (this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)] = t));
      }
    },
  };
class $I extends Error {
  constructor() {
    super(...arguments), (this.name = "DecodeBase64StringError");
  }
}
const YI = function (t) {
    const e = gA(t);
    return _A.encodeByteArray(e, !0);
  },
  dc = function (t) {
    return YI(t).replace(/\./g, "");
  },
  yA = function (t) {
    try {
      return _A.decodeString(t, !0);
    } catch (e) {
      console.error("base64Decode failed: ", e);
    }
    return null;
  };
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ function XI() {
  if (typeof self < "u") return self;
  if (typeof window < "u") return window;
  if (typeof global < "u") return global;
  throw new Error("Unable to locate global object.");
}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ const WI = () => XI().__FIREBASE_DEFAULTS__,
  ZI = () => {
    if (typeof process > "u" || typeof process.env > "u") return;
    const t = {}.__FIREBASE_DEFAULTS__;
    if (t) return JSON.parse(t);
  },
  JI = () => {
    if (typeof document > "u") return;
    let t;
    try {
      t = document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/);
    } catch {
      return;
    }
    const e = t && yA(t[1]);
    return e && JSON.parse(e);
  },
  Xc = () => {
    try {
      return WI() || ZI() || JI();
    } catch (t) {
      console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);
      return;
    }
  },
  vA = (t) => {
    var e, n;
    return (n =
      (e = Xc()) === null || e === void 0 ? void 0 : e.emulatorHosts) ===
      null || n === void 0
      ? void 0
      : n[t];
  },
  EA = (t) => {
    const e = vA(t);
    if (!e) return;
    const n = e.lastIndexOf(":");
    if (n <= 0 || n + 1 === e.length)
      throw new Error(`Invalid host ${e} with no separate hostname and port!`);
    const i = parseInt(e.substring(n + 1), 10);
    return e[0] === "[" ? [e.substring(1, n - 1), i] : [e.substring(0, n), i];
  },
  TA = () => {
    var t;
    return (t = Xc()) === null || t === void 0 ? void 0 : t.config;
  },
  AA = (t) => {
    var e;
    return (e = Xc()) === null || e === void 0 ? void 0 : e[`_${t}`];
  };
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class eC {
  constructor() {
    (this.reject = () => {}),
      (this.resolve = () => {}),
      (this.promise = new Promise((e, n) => {
        (this.resolve = e), (this.reject = n);
      }));
  }
  wrapCallback(e) {
    return (n, i) => {
      n ? this.reject(n) : this.resolve(i),
        typeof e == "function" &&
          (this.promise.catch(() => {}), e.length === 1 ? e(n) : e(n, i));
    };
  }
}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ function wA(t, e) {
  if (t.uid)
    throw new Error(
      'The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.'
    );
  const n = { alg: "none", type: "JWT" },
    i = e || "demo-project",
    r = t.iat || 0,
    s = t.sub || t.user_id;
  if (!s)
    throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");
  const a = Object.assign(
      {
        iss: `https://securetoken.google.com/${i}`,
        aud: i,
        iat: r,
        exp: r + 3600,
        auth_time: r,
        sub: s,
        user_id: s,
        firebase: { sign_in_provider: "custom", identities: {} },
      },
      t
    ),
    l = "";
  return [dc(JSON.stringify(n)), dc(JSON.stringify(a)), l].join(".");
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ function gt() {
  return typeof navigator < "u" && typeof navigator.userAgent == "string"
    ? navigator.userAgent
    : "";
}
function tC() {
  return (
    typeof window < "u" &&
    !!(window.cordova || window.phonegap || window.PhoneGap) &&
    /ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(gt())
  );
}
function nC() {
  var t;
  const e = (t = Xc()) === null || t === void 0 ? void 0 : t.forceEnvironment;
  if (e === "node") return !0;
  if (e === "browser") return !1;
  try {
    return (
      Object.prototype.toString.call(global.process) === "[object process]"
    );
  } catch {
    return !1;
  }
}
function iC() {
  return typeof navigator < "u" && navigator.userAgent === "Cloudflare-Workers";
}
function rC() {
  const t =
    typeof chrome == "object"
      ? chrome.runtime
      : typeof browser == "object"
      ? browser.runtime
      : void 0;
  return typeof t == "object" && t.id !== void 0;
}
function sC() {
  return typeof navigator == "object" && navigator.product === "ReactNative";
}
function aC() {
  const t = gt();
  return t.indexOf("MSIE ") >= 0 || t.indexOf("Trident/") >= 0;
}
function oC() {
  return (
    !nC() &&
    !!navigator.userAgent &&
    navigator.userAgent.includes("Safari") &&
    !navigator.userAgent.includes("Chrome")
  );
}
function lC() {
  try {
    return typeof indexedDB == "object";
  } catch {
    return !1;
  }
}
function uC() {
  return new Promise((t, e) => {
    try {
      let n = !0;
      const i = "validate-browser-context-for-indexeddb-analytics-module",
        r = self.indexedDB.open(i);
      (r.onsuccess = () => {
        r.result.close(), n || self.indexedDB.deleteDatabase(i), t(!0);
      }),
        (r.onupgradeneeded = () => {
          n = !1;
        }),
        (r.onerror = () => {
          var s;
          e(
            ((s = r.error) === null || s === void 0 ? void 0 : s.message) || ""
          );
        });
    } catch (n) {
      e(n);
    }
  });
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ const cC = "FirebaseError";
class Nn extends Error {
  constructor(e, n, i) {
    super(n),
      (this.code = e),
      (this.customData = i),
      (this.name = cC),
      Object.setPrototypeOf(this, Nn.prototype),
      Error.captureStackTrace &&
        Error.captureStackTrace(this, cl.prototype.create);
  }
}
class cl {
  constructor(e, n, i) {
    (this.service = e), (this.serviceName = n), (this.errors = i);
  }
  create(e, ...n) {
    const i = n[0] || {},
      r = `${this.service}/${e}`,
      s = this.errors[e],
      a = s ? hC(s, i) : "Error",
      l = `${this.serviceName}: ${a} (${r}).`;
    return new Nn(r, l, i);
  }
}
function hC(t, e) {
  return t.replace(fC, (n, i) => {
    const r = e[i];
    return r != null ? String(r) : `<${i}?>`;
  });
}
const fC = /\{\$([^}]+)}/g;
function dC(t) {
  for (const e in t) if (Object.prototype.hasOwnProperty.call(t, e)) return !1;
  return !0;
}
function qo(t, e) {
  if (t === e) return !0;
  const n = Object.keys(t),
    i = Object.keys(e);
  for (const r of n) {
    if (!i.includes(r)) return !1;
    const s = t[r],
      a = e[r];
    if (Fy(s) && Fy(a)) {
      if (!qo(s, a)) return !1;
    } else if (s !== a) return !1;
  }
  for (const r of i) if (!n.includes(r)) return !1;
  return !0;
}
function Fy(t) {
  return t !== null && typeof t == "object";
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ function hl(t) {
  const e = [];
  for (const [n, i] of Object.entries(t))
    Array.isArray(i)
      ? i.forEach((r) => {
          e.push(encodeURIComponent(n) + "=" + encodeURIComponent(r));
        })
      : e.push(encodeURIComponent(n) + "=" + encodeURIComponent(i));
  return e.length ? "&" + e.join("&") : "";
}
function Xa(t) {
  const e = {};
  return (
    t
      .replace(/^\?/, "")
      .split("&")
      .forEach((i) => {
        if (i) {
          const [r, s] = i.split("=");
          e[decodeURIComponent(r)] = decodeURIComponent(s);
        }
      }),
    e
  );
}
function Wa(t) {
  const e = t.indexOf("?");
  if (!e) return "";
  const n = t.indexOf("#", e);
  return t.substring(e, n > 0 ? n : void 0);
}
function mC(t, e) {
  const n = new pC(t, e);
  return n.subscribe.bind(n);
}
class pC {
  constructor(e, n) {
    (this.observers = []),
      (this.unsubscribes = []),
      (this.observerCount = 0),
      (this.task = Promise.resolve()),
      (this.finalized = !1),
      (this.onNoObservers = n),
      this.task
        .then(() => {
          e(this);
        })
        .catch((i) => {
          this.error(i);
        });
  }
  next(e) {
    this.forEachObserver((n) => {
      n.next(e);
    });
  }
  error(e) {
    this.forEachObserver((n) => {
      n.error(e);
    }),
      this.close(e);
  }
  complete() {
    this.forEachObserver((e) => {
      e.complete();
    }),
      this.close();
  }
  subscribe(e, n, i) {
    let r;
    if (e === void 0 && n === void 0 && i === void 0)
      throw new Error("Missing Observer.");
    gC(e, ["next", "error", "complete"])
      ? (r = e)
      : (r = { next: e, error: n, complete: i }),
      r.next === void 0 && (r.next = kf),
      r.error === void 0 && (r.error = kf),
      r.complete === void 0 && (r.complete = kf);
    const s = this.unsubscribeOne.bind(this, this.observers.length);
    return (
      this.finalized &&
        this.task.then(() => {
          try {
            this.finalError ? r.error(this.finalError) : r.complete();
          } catch {}
        }),
      this.observers.push(r),
      s
    );
  }
  unsubscribeOne(e) {
    this.observers === void 0 ||
      this.observers[e] === void 0 ||
      (delete this.observers[e],
      (this.observerCount -= 1),
      this.observerCount === 0 &&
        this.onNoObservers !== void 0 &&
        this.onNoObservers(this));
  }
  forEachObserver(e) {
    if (!this.finalized)
      for (let n = 0; n < this.observers.length; n++) this.sendOne(n, e);
  }
  sendOne(e, n) {
    this.task.then(() => {
      if (this.observers !== void 0 && this.observers[e] !== void 0)
        try {
          n(this.observers[e]);
        } catch (i) {
          typeof console < "u" && console.error && console.error(i);
        }
    });
  }
  close(e) {
    this.finalized ||
      ((this.finalized = !0),
      e !== void 0 && (this.finalError = e),
      this.task.then(() => {
        (this.observers = void 0), (this.onNoObservers = void 0);
      }));
  }
}
function gC(t, e) {
  if (typeof t != "object" || t === null) return !1;
  for (const n of e) if (n in t && typeof t[n] == "function") return !0;
  return !1;
}
function kf() {}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ function Re(t) {
  return t && t._delegate ? t._delegate : t;
}
class Yi {
  constructor(e, n, i) {
    (this.name = e),
      (this.instanceFactory = n),
      (this.type = i),
      (this.multipleInstances = !1),
      (this.serviceProps = {}),
      (this.instantiationMode = "LAZY"),
      (this.onInstanceCreated = null);
  }
  setInstantiationMode(e) {
    return (this.instantiationMode = e), this;
  }
  setMultipleInstances(e) {
    return (this.multipleInstances = e), this;
  }
  setServiceProps(e) {
    return (this.serviceProps = e), this;
  }
  setInstanceCreatedCallback(e) {
    return (this.onInstanceCreated = e), this;
  }
}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ const gr = "[DEFAULT]";
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class _C {
  constructor(e, n) {
    (this.name = e),
      (this.container = n),
      (this.component = null),
      (this.instances = new Map()),
      (this.instancesDeferred = new Map()),
      (this.instancesOptions = new Map()),
      (this.onInitCallbacks = new Map());
  }
  get(e) {
    const n = this.normalizeInstanceIdentifier(e);
    if (!this.instancesDeferred.has(n)) {
      const i = new eC();
      if (
        (this.instancesDeferred.set(n, i),
        this.isInitialized(n) || this.shouldAutoInitialize())
      )
        try {
          const r = this.getOrInitializeService({ instanceIdentifier: n });
          r && i.resolve(r);
        } catch {}
    }
    return this.instancesDeferred.get(n).promise;
  }
  getImmediate(e) {
    var n;
    const i = this.normalizeInstanceIdentifier(
        e == null ? void 0 : e.identifier
      ),
      r =
        (n = e == null ? void 0 : e.optional) !== null && n !== void 0 ? n : !1;
    if (this.isInitialized(i) || this.shouldAutoInitialize())
      try {
        return this.getOrInitializeService({ instanceIdentifier: i });
      } catch (s) {
        if (r) return null;
        throw s;
      }
    else {
      if (r) return null;
      throw Error(`Service ${this.name} is not available`);
    }
  }
  getComponent() {
    return this.component;
  }
  setComponent(e) {
    if (e.name !== this.name)
      throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);
    if (this.component)
      throw Error(`Component for ${this.name} has already been provided`);
    if (((this.component = e), !!this.shouldAutoInitialize())) {
      if (vC(e))
        try {
          this.getOrInitializeService({ instanceIdentifier: gr });
        } catch {}
      for (const [n, i] of this.instancesDeferred.entries()) {
        const r = this.normalizeInstanceIdentifier(n);
        try {
          const s = this.getOrInitializeService({ instanceIdentifier: r });
          i.resolve(s);
        } catch {}
      }
    }
  }
  clearInstance(e = gr) {
    this.instancesDeferred.delete(e),
      this.instancesOptions.delete(e),
      this.instances.delete(e);
  }
  async delete() {
    const e = Array.from(this.instances.values());
    await Promise.all([
      ...e.filter((n) => "INTERNAL" in n).map((n) => n.INTERNAL.delete()),
      ...e.filter((n) => "_delete" in n).map((n) => n._delete()),
    ]);
  }
  isComponentSet() {
    return this.component != null;
  }
  isInitialized(e = gr) {
    return this.instances.has(e);
  }
  getOptions(e = gr) {
    return this.instancesOptions.get(e) || {};
  }
  initialize(e = {}) {
    const { options: n = {} } = e,
      i = this.normalizeInstanceIdentifier(e.instanceIdentifier);
    if (this.isInitialized(i))
      throw Error(`${this.name}(${i}) has already been initialized`);
    if (!this.isComponentSet())
      throw Error(`Component ${this.name} has not been registered yet`);
    const r = this.getOrInitializeService({
      instanceIdentifier: i,
      options: n,
    });
    for (const [s, a] of this.instancesDeferred.entries()) {
      const l = this.normalizeInstanceIdentifier(s);
      i === l && a.resolve(r);
    }
    return r;
  }
  onInit(e, n) {
    var i;
    const r = this.normalizeInstanceIdentifier(n),
      s =
        (i = this.onInitCallbacks.get(r)) !== null && i !== void 0
          ? i
          : new Set();
    s.add(e), this.onInitCallbacks.set(r, s);
    const a = this.instances.get(r);
    return (
      a && e(a, r),
      () => {
        s.delete(e);
      }
    );
  }
  invokeOnInitCallbacks(e, n) {
    const i = this.onInitCallbacks.get(n);
    if (i)
      for (const r of i)
        try {
          r(e, n);
        } catch {}
  }
  getOrInitializeService({ instanceIdentifier: e, options: n = {} }) {
    let i = this.instances.get(e);
    if (
      !i &&
      this.component &&
      ((i = this.component.instanceFactory(this.container, {
        instanceIdentifier: yC(e),
        options: n,
      })),
      this.instances.set(e, i),
      this.instancesOptions.set(e, n),
      this.invokeOnInitCallbacks(i, e),
      this.component.onInstanceCreated)
    )
      try {
        this.component.onInstanceCreated(this.container, e, i);
      } catch {}
    return i || null;
  }
  normalizeInstanceIdentifier(e = gr) {
    return this.component ? (this.component.multipleInstances ? e : gr) : e;
  }
  shouldAutoInitialize() {
    return !!this.component && this.component.instantiationMode !== "EXPLICIT";
  }
}
function yC(t) {
  return t === gr ? void 0 : t;
}
function vC(t) {
  return t.instantiationMode === "EAGER";
}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class EC {
  constructor(e) {
    (this.name = e), (this.providers = new Map());
  }
  addComponent(e) {
    const n = this.getProvider(e.name);
    if (n.isComponentSet())
      throw new Error(
        `Component ${e.name} has already been registered with ${this.name}`
      );
    n.setComponent(e);
  }
  addOrOverwriteComponent(e) {
    this.getProvider(e.name).isComponentSet() && this.providers.delete(e.name),
      this.addComponent(e);
  }
  getProvider(e) {
    if (this.providers.has(e)) return this.providers.get(e);
    const n = new _C(e, this);
    return this.providers.set(e, n), n;
  }
  getProviders() {
    return Array.from(this.providers.values());
  }
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ var ne;
(function (t) {
  (t[(t.DEBUG = 0)] = "DEBUG"),
    (t[(t.VERBOSE = 1)] = "VERBOSE"),
    (t[(t.INFO = 2)] = "INFO"),
    (t[(t.WARN = 3)] = "WARN"),
    (t[(t.ERROR = 4)] = "ERROR"),
    (t[(t.SILENT = 5)] = "SILENT");
})(ne || (ne = {}));
const TC = {
    debug: ne.DEBUG,
    verbose: ne.VERBOSE,
    info: ne.INFO,
    warn: ne.WARN,
    error: ne.ERROR,
    silent: ne.SILENT,
  },
  AC = ne.INFO,
  wC = {
    [ne.DEBUG]: "log",
    [ne.VERBOSE]: "log",
    [ne.INFO]: "info",
    [ne.WARN]: "warn",
    [ne.ERROR]: "error",
  },
  SC = (t, e, ...n) => {
    if (e < t.logLevel) return;
    const i = new Date().toISOString(),
      r = wC[e];
    if (r) console[r](`[${i}]  ${t.name}:`, ...n);
    else
      throw new Error(
        `Attempted to log a message with an invalid logType (value: ${e})`
      );
  };
class pp {
  constructor(e) {
    (this.name = e),
      (this._logLevel = AC),
      (this._logHandler = SC),
      (this._userLogHandler = null);
  }
  get logLevel() {
    return this._logLevel;
  }
  set logLevel(e) {
    if (!(e in ne))
      throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);
    this._logLevel = e;
  }
  setLogLevel(e) {
    this._logLevel = typeof e == "string" ? TC[e] : e;
  }
  get logHandler() {
    return this._logHandler;
  }
  set logHandler(e) {
    if (typeof e != "function")
      throw new TypeError("Value assigned to `logHandler` must be a function");
    this._logHandler = e;
  }
  get userLogHandler() {
    return this._userLogHandler;
  }
  set userLogHandler(e) {
    this._userLogHandler = e;
  }
  debug(...e) {
    this._userLogHandler && this._userLogHandler(this, ne.DEBUG, ...e),
      this._logHandler(this, ne.DEBUG, ...e);
  }
  log(...e) {
    this._userLogHandler && this._userLogHandler(this, ne.VERBOSE, ...e),
      this._logHandler(this, ne.VERBOSE, ...e);
  }
  info(...e) {
    this._userLogHandler && this._userLogHandler(this, ne.INFO, ...e),
      this._logHandler(this, ne.INFO, ...e);
  }
  warn(...e) {
    this._userLogHandler && this._userLogHandler(this, ne.WARN, ...e),
      this._logHandler(this, ne.WARN, ...e);
  }
  error(...e) {
    this._userLogHandler && this._userLogHandler(this, ne.ERROR, ...e),
      this._logHandler(this, ne.ERROR, ...e);
  }
}
const RC = (t, e) => e.some((n) => t instanceof n);
let Gy, Ky;
function bC() {
  return (
    Gy ||
    (Gy = [IDBDatabase, IDBObjectStore, IDBIndex, IDBCursor, IDBTransaction])
  );
}
function IC() {
  return (
    Ky ||
    (Ky = [
      IDBCursor.prototype.advance,
      IDBCursor.prototype.continue,
      IDBCursor.prototype.continuePrimaryKey,
    ])
  );
}
const SA = new WeakMap(),
  Hd = new WeakMap(),
  RA = new WeakMap(),
  xf = new WeakMap(),
  gp = new WeakMap();
function CC(t) {
  const e = new Promise((n, i) => {
    const r = () => {
        t.removeEventListener("success", s), t.removeEventListener("error", a);
      },
      s = () => {
        n(qi(t.result)), r();
      },
      a = () => {
        i(t.error), r();
      };
    t.addEventListener("success", s), t.addEventListener("error", a);
  });
  return (
    e
      .then((n) => {
        n instanceof IDBCursor && SA.set(n, t);
      })
      .catch(() => {}),
    gp.set(e, t),
    e
  );
}
function DC(t) {
  if (Hd.has(t)) return;
  const e = new Promise((n, i) => {
    const r = () => {
        t.removeEventListener("complete", s),
          t.removeEventListener("error", a),
          t.removeEventListener("abort", a);
      },
      s = () => {
        n(), r();
      },
      a = () => {
        i(t.error || new DOMException("AbortError", "AbortError")), r();
      };
    t.addEventListener("complete", s),
      t.addEventListener("error", a),
      t.addEventListener("abort", a);
  });
  Hd.set(t, e);
}
let Fd = {
  get(t, e, n) {
    if (t instanceof IDBTransaction) {
      if (e === "done") return Hd.get(t);
      if (e === "objectStoreNames") return t.objectStoreNames || RA.get(t);
      if (e === "store")
        return n.objectStoreNames[1]
          ? void 0
          : n.objectStore(n.objectStoreNames[0]);
    }
    return qi(t[e]);
  },
  set(t, e, n) {
    return (t[e] = n), !0;
  },
  has(t, e) {
    return t instanceof IDBTransaction && (e === "done" || e === "store")
      ? !0
      : e in t;
  },
};
function OC(t) {
  Fd = t(Fd);
}
function NC(t) {
  return t === IDBDatabase.prototype.transaction &&
    !("objectStoreNames" in IDBTransaction.prototype)
    ? function (e, ...n) {
        const i = t.call(Vf(this), e, ...n);
        return RA.set(i, e.sort ? e.sort() : [e]), qi(i);
      }
    : IC().includes(t)
    ? function (...e) {
        return t.apply(Vf(this), e), qi(SA.get(this));
      }
    : function (...e) {
        return qi(t.apply(Vf(this), e));
      };
}
function MC(t) {
  return typeof t == "function"
    ? NC(t)
    : (t instanceof IDBTransaction && DC(t),
      RC(t, bC()) ? new Proxy(t, Fd) : t);
}
function qi(t) {
  if (t instanceof IDBRequest) return CC(t);
  if (xf.has(t)) return xf.get(t);
  const e = MC(t);
  return e !== t && (xf.set(t, e), gp.set(e, t)), e;
}
const Vf = (t) => gp.get(t);
function kC(t, e, { blocked: n, upgrade: i, blocking: r, terminated: s } = {}) {
  const a = indexedDB.open(t, e),
    l = qi(a);
  return (
    i &&
      a.addEventListener("upgradeneeded", (u) => {
        i(qi(a.result), u.oldVersion, u.newVersion, qi(a.transaction), u);
      }),
    n && a.addEventListener("blocked", (u) => n(u.oldVersion, u.newVersion, u)),
    l
      .then((u) => {
        s && u.addEventListener("close", () => s()),
          r &&
            u.addEventListener("versionchange", (c) =>
              r(c.oldVersion, c.newVersion, c)
            );
      })
      .catch(() => {}),
    l
  );
}
const xC = ["get", "getKey", "getAll", "getAllKeys", "count"],
  VC = ["put", "add", "delete", "clear"],
  Pf = new Map();
function Qy(t, e) {
  if (!(t instanceof IDBDatabase && !(e in t) && typeof e == "string")) return;
  if (Pf.get(e)) return Pf.get(e);
  const n = e.replace(/FromIndex$/, ""),
    i = e !== n,
    r = VC.includes(n);
  if (
    !(n in (i ? IDBIndex : IDBObjectStore).prototype) ||
    !(r || xC.includes(n))
  )
    return;
  const s = async function (a, ...l) {
    const u = this.transaction(a, r ? "readwrite" : "readonly");
    let c = u.store;
    return (
      i && (c = c.index(l.shift())),
      (await Promise.all([c[n](...l), r && u.done]))[0]
    );
  };
  return Pf.set(e, s), s;
}
OC((t) => ({
  ...t,
  get: (e, n, i) => Qy(e, n) || t.get(e, n, i),
  has: (e, n) => !!Qy(e, n) || t.has(e, n),
}));
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class PC {
  constructor(e) {
    this.container = e;
  }
  getPlatformInfoString() {
    return this.container
      .getProviders()
      .map((n) => {
        if (UC(n)) {
          const i = n.getImmediate();
          return `${i.library}/${i.version}`;
        } else return null;
      })
      .filter((n) => n)
      .join(" ");
  }
}
function UC(t) {
  const e = t.getComponent();
  return (e == null ? void 0 : e.type) === "VERSION";
}
const Gd = "@firebase/app",
  $y = "0.10.17";
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ const oi = new pp("@firebase/app"),
  LC = "@firebase/app-compat",
  BC = "@firebase/analytics-compat",
  zC = "@firebase/analytics",
  jC = "@firebase/app-check-compat",
  qC = "@firebase/app-check",
  HC = "@firebase/auth",
  FC = "@firebase/auth-compat",
  GC = "@firebase/database",
  KC = "@firebase/data-connect",
  QC = "@firebase/database-compat",
  $C = "@firebase/functions",
  YC = "@firebase/functions-compat",
  XC = "@firebase/installations",
  WC = "@firebase/installations-compat",
  ZC = "@firebase/messaging",
  JC = "@firebase/messaging-compat",
  eD = "@firebase/performance",
  tD = "@firebase/performance-compat",
  nD = "@firebase/remote-config",
  iD = "@firebase/remote-config-compat",
  rD = "@firebase/storage",
  sD = "@firebase/storage-compat",
  aD = "@firebase/firestore",
  oD = "@firebase/vertexai",
  lD = "@firebase/firestore-compat",
  uD = "firebase",
  cD = "11.1.0";
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ const Kd = "[DEFAULT]",
  hD = {
    [Gd]: "fire-core",
    [LC]: "fire-core-compat",
    [zC]: "fire-analytics",
    [BC]: "fire-analytics-compat",
    [qC]: "fire-app-check",
    [jC]: "fire-app-check-compat",
    [HC]: "fire-auth",
    [FC]: "fire-auth-compat",
    [GC]: "fire-rtdb",
    [KC]: "fire-data-connect",
    [QC]: "fire-rtdb-compat",
    [$C]: "fire-fn",
    [YC]: "fire-fn-compat",
    [XC]: "fire-iid",
    [WC]: "fire-iid-compat",
    [ZC]: "fire-fcm",
    [JC]: "fire-fcm-compat",
    [eD]: "fire-perf",
    [tD]: "fire-perf-compat",
    [nD]: "fire-rc",
    [iD]: "fire-rc-compat",
    [rD]: "fire-gcs",
    [sD]: "fire-gcs-compat",
    [aD]: "fire-fst",
    [lD]: "fire-fst-compat",
    [oD]: "fire-vertex",
    "fire-js": "fire-js",
    [uD]: "fire-js-all",
  };
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ const mc = new Map(),
  fD = new Map(),
  Qd = new Map();
function Yy(t, e) {
  try {
    t.container.addComponent(e);
  } catch (n) {
    oi.debug(
      `Component ${e.name} failed to register with FirebaseApp ${t.name}`,
      n
    );
  }
}
function xr(t) {
  const e = t.name;
  if (Qd.has(e))
    return (
      oi.debug(`There were multiple attempts to register component ${e}.`), !1
    );
  Qd.set(e, t);
  for (const n of mc.values()) Yy(n, t);
  for (const n of fD.values()) Yy(n, t);
  return !0;
}
function Wc(t, e) {
  const n = t.container.getProvider("heartbeat").getImmediate({ optional: !0 });
  return n && n.triggerHeartbeat(), t.container.getProvider(e);
}
function gn(t) {
  return t.settings !== void 0;
}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ const dD = {
    "no-app":
      "No Firebase App '{$appName}' has been created - call initializeApp() first",
    "bad-app-name": "Illegal App name: '{$appName}'",
    "duplicate-app":
      "Firebase App named '{$appName}' already exists with different options or config",
    "app-deleted": "Firebase App named '{$appName}' already deleted",
    "server-app-deleted": "Firebase Server App has been deleted",
    "no-options":
      "Need to provide options, when not being deployed to hosting via source.",
    "invalid-app-argument":
      "firebase.{$appName}() takes either no argument or a Firebase App instance.",
    "invalid-log-argument":
      "First argument to `onLog` must be null or a function.",
    "idb-open":
      "Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",
    "idb-get":
      "Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",
    "idb-set":
      "Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",
    "idb-delete":
      "Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.",
    "finalization-registry-not-supported":
      "FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.",
    "invalid-server-app-environment":
      "FirebaseServerApp is not for use in browser environments.",
  },
  Hi = new cl("app", "Firebase", dD);
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class mD {
  constructor(e, n, i) {
    (this._isDeleted = !1),
      (this._options = Object.assign({}, e)),
      (this._config = Object.assign({}, n)),
      (this._name = n.name),
      (this._automaticDataCollectionEnabled = n.automaticDataCollectionEnabled),
      (this._container = i),
      this.container.addComponent(new Yi("app", () => this, "PUBLIC"));
  }
  get automaticDataCollectionEnabled() {
    return this.checkDestroyed(), this._automaticDataCollectionEnabled;
  }
  set automaticDataCollectionEnabled(e) {
    this.checkDestroyed(), (this._automaticDataCollectionEnabled = e);
  }
  get name() {
    return this.checkDestroyed(), this._name;
  }
  get options() {
    return this.checkDestroyed(), this._options;
  }
  get config() {
    return this.checkDestroyed(), this._config;
  }
  get container() {
    return this._container;
  }
  get isDeleted() {
    return this._isDeleted;
  }
  set isDeleted(e) {
    this._isDeleted = e;
  }
  checkDestroyed() {
    if (this.isDeleted) throw Hi.create("app-deleted", { appName: this._name });
  }
}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ const Kr = cD;
function bA(t, e = {}) {
  let n = t;
  typeof e != "object" && (e = { name: e });
  const i = Object.assign({ name: Kd, automaticDataCollectionEnabled: !1 }, e),
    r = i.name;
  if (typeof r != "string" || !r)
    throw Hi.create("bad-app-name", { appName: String(r) });
  if ((n || (n = TA()), !n)) throw Hi.create("no-options");
  const s = mc.get(r);
  if (s) {
    if (qo(n, s.options) && qo(i, s.config)) return s;
    throw Hi.create("duplicate-app", { appName: r });
  }
  const a = new EC(r);
  for (const u of Qd.values()) a.addComponent(u);
  const l = new mD(n, i, a);
  return mc.set(r, l), l;
}
function _p(t = Kd) {
  const e = mc.get(t);
  if (!e && t === Kd && TA()) return bA();
  if (!e) throw Hi.create("no-app", { appName: t });
  return e;
}
function Tn(t, e, n) {
  var i;
  let r = (i = hD[t]) !== null && i !== void 0 ? i : t;
  n && (r += `-${n}`);
  const s = r.match(/\s|\//),
    a = e.match(/\s|\//);
  if (s || a) {
    const l = [`Unable to register library "${r}" with version "${e}":`];
    s &&
      l.push(
        `library name "${r}" contains illegal characters (whitespace or "/")`
      ),
      s && a && l.push("and"),
      a &&
        l.push(
          `version name "${e}" contains illegal characters (whitespace or "/")`
        ),
      oi.warn(l.join(" "));
    return;
  }
  xr(new Yi(`${r}-version`, () => ({ library: r, version: e }), "VERSION"));
}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ const pD = "firebase-heartbeat-database",
  gD = 1,
  Ho = "firebase-heartbeat-store";
let Uf = null;
function IA() {
  return (
    Uf ||
      (Uf = kC(pD, gD, {
        upgrade: (t, e) => {
          switch (e) {
            case 0:
              try {
                t.createObjectStore(Ho);
              } catch (n) {
                console.warn(n);
              }
          }
        },
      }).catch((t) => {
        throw Hi.create("idb-open", { originalErrorMessage: t.message });
      })),
    Uf
  );
}
async function _D(t) {
  try {
    const n = (await IA()).transaction(Ho),
      i = await n.objectStore(Ho).get(CA(t));
    return await n.done, i;
  } catch (e) {
    if (e instanceof Nn) oi.warn(e.message);
    else {
      const n = Hi.create("idb-get", {
        originalErrorMessage: e == null ? void 0 : e.message,
      });
      oi.warn(n.message);
    }
  }
}
async function Xy(t, e) {
  try {
    const i = (await IA()).transaction(Ho, "readwrite");
    await i.objectStore(Ho).put(e, CA(t)), await i.done;
  } catch (n) {
    if (n instanceof Nn) oi.warn(n.message);
    else {
      const i = Hi.create("idb-set", {
        originalErrorMessage: n == null ? void 0 : n.message,
      });
      oi.warn(i.message);
    }
  }
}
function CA(t) {
  return `${t.name}!${t.options.appId}`;
}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ const yD = 1024,
  vD = 30 * 24 * 60 * 60 * 1e3;
class ED {
  constructor(e) {
    (this.container = e), (this._heartbeatsCache = null);
    const n = this.container.getProvider("app").getImmediate();
    (this._storage = new AD(n)),
      (this._heartbeatsCachePromise = this._storage
        .read()
        .then((i) => ((this._heartbeatsCache = i), i)));
  }
  async triggerHeartbeat() {
    var e, n;
    try {
      const r = this.container
          .getProvider("platform-logger")
          .getImmediate()
          .getPlatformInfoString(),
        s = Wy();
      return (((e = this._heartbeatsCache) === null || e === void 0
        ? void 0
        : e.heartbeats) == null &&
        ((this._heartbeatsCache = await this._heartbeatsCachePromise),
        ((n = this._heartbeatsCache) === null || n === void 0
          ? void 0
          : n.heartbeats) == null)) ||
        this._heartbeatsCache.lastSentHeartbeatDate === s ||
        this._heartbeatsCache.heartbeats.some((a) => a.date === s)
        ? void 0
        : (this._heartbeatsCache.heartbeats.push({ date: s, agent: r }),
          (this._heartbeatsCache.heartbeats =
            this._heartbeatsCache.heartbeats.filter((a) => {
              const l = new Date(a.date).valueOf();
              return Date.now() - l <= vD;
            })),
          this._storage.overwrite(this._heartbeatsCache));
    } catch (i) {
      oi.warn(i);
    }
  }
  async getHeartbeatsHeader() {
    var e;
    try {
      if (
        (this._heartbeatsCache === null && (await this._heartbeatsCachePromise),
        ((e = this._heartbeatsCache) === null || e === void 0
          ? void 0
          : e.heartbeats) == null ||
          this._heartbeatsCache.heartbeats.length === 0)
      )
        return "";
      const n = Wy(),
        { heartbeatsToSend: i, unsentEntries: r } = TD(
          this._heartbeatsCache.heartbeats
        ),
        s = dc(JSON.stringify({ version: 2, heartbeats: i }));
      return (
        (this._heartbeatsCache.lastSentHeartbeatDate = n),
        r.length > 0
          ? ((this._heartbeatsCache.heartbeats = r),
            await this._storage.overwrite(this._heartbeatsCache))
          : ((this._heartbeatsCache.heartbeats = []),
            this._storage.overwrite(this._heartbeatsCache)),
        s
      );
    } catch (n) {
      return oi.warn(n), "";
    }
  }
}
function Wy() {
  return new Date().toISOString().substring(0, 10);
}
function TD(t, e = yD) {
  const n = [];
  let i = t.slice();
  for (const r of t) {
    const s = n.find((a) => a.agent === r.agent);
    if (s) {
      if ((s.dates.push(r.date), Zy(n) > e)) {
        s.dates.pop();
        break;
      }
    } else if ((n.push({ agent: r.agent, dates: [r.date] }), Zy(n) > e)) {
      n.pop();
      break;
    }
    i = i.slice(1);
  }
  return { heartbeatsToSend: n, unsentEntries: i };
}
class AD {
  constructor(e) {
    (this.app = e),
      (this._canUseIndexedDBPromise = this.runIndexedDBEnvironmentCheck());
  }
  async runIndexedDBEnvironmentCheck() {
    return lC()
      ? uC()
          .then(() => !0)
          .catch(() => !1)
      : !1;
  }
  async read() {
    if (await this._canUseIndexedDBPromise) {
      const n = await _D(this.app);
      return n != null && n.heartbeats ? n : { heartbeats: [] };
    } else return { heartbeats: [] };
  }
  async overwrite(e) {
    var n;
    if (await this._canUseIndexedDBPromise) {
      const r = await this.read();
      return Xy(this.app, {
        lastSentHeartbeatDate:
          (n = e.lastSentHeartbeatDate) !== null && n !== void 0
            ? n
            : r.lastSentHeartbeatDate,
        heartbeats: e.heartbeats,
      });
    } else return;
  }
  async add(e) {
    var n;
    if (await this._canUseIndexedDBPromise) {
      const r = await this.read();
      return Xy(this.app, {
        lastSentHeartbeatDate:
          (n = e.lastSentHeartbeatDate) !== null && n !== void 0
            ? n
            : r.lastSentHeartbeatDate,
        heartbeats: [...r.heartbeats, ...e.heartbeats],
      });
    } else return;
  }
}
function Zy(t) {
  return dc(JSON.stringify({ version: 2, heartbeats: t })).length;
}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ function wD(t) {
  xr(new Yi("platform-logger", (e) => new PC(e), "PRIVATE")),
    xr(new Yi("heartbeat", (e) => new ED(e), "PRIVATE")),
    Tn(Gd, $y, t),
    Tn(Gd, $y, "esm2017"),
    Tn("fire-js", "");
}
wD("");
function yp(t, e) {
  var n = {};
  for (var i in t)
    Object.prototype.hasOwnProperty.call(t, i) &&
      e.indexOf(i) < 0 &&
      (n[i] = t[i]);
  if (t != null && typeof Object.getOwnPropertySymbols == "function")
    for (var r = 0, i = Object.getOwnPropertySymbols(t); r < i.length; r++)
      e.indexOf(i[r]) < 0 &&
        Object.prototype.propertyIsEnumerable.call(t, i[r]) &&
        (n[i[r]] = t[i[r]]);
  return n;
}
function DA() {
  return {
    "dependent-sdk-initialized-before-auth":
      "Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.",
  };
}
const SD = DA,
  OA = new cl("auth", "Firebase", DA());
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ const pc = new pp("@firebase/auth");
function RD(t, ...e) {
  pc.logLevel <= ne.WARN && pc.warn(`Auth (${Kr}): ${t}`, ...e);
}
function Iu(t, ...e) {
  pc.logLevel <= ne.ERROR && pc.error(`Auth (${Kr}): ${t}`, ...e);
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ function ln(t, ...e) {
  throw vp(t, ...e);
}
function An(t, ...e) {
  return vp(t, ...e);
}
function NA(t, e, n) {
  const i = Object.assign(Object.assign({}, SD()), { [e]: n });
  return new cl("auth", "Firebase", i).create(e, { appName: t.name });
}
function Jn(t) {
  return NA(
    t,
    "operation-not-supported-in-this-environment",
    "Operations that alter the current user are not supported in conjunction with FirebaseServerApp"
  );
}
function vp(t, ...e) {
  if (typeof t != "string") {
    const n = e[0],
      i = [...e.slice(1)];
    return i[0] && (i[0].appName = t.name), t._errorFactory.create(n, ...i);
  }
  return OA.create(t, ...e);
}
function K(t, e, ...n) {
  if (!t) throw vp(e, ...n);
}
function Yn(t) {
  const e = "INTERNAL ASSERTION FAILED: " + t;
  throw (Iu(e), new Error(e));
}
function li(t, e) {
  t || Yn(e);
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ function $d() {
  var t;
  return (
    (typeof self < "u" &&
      ((t = self.location) === null || t === void 0 ? void 0 : t.href)) ||
    ""
  );
}
function bD() {
  return Jy() === "http:" || Jy() === "https:";
}
function Jy() {
  var t;
  return (
    (typeof self < "u" &&
      ((t = self.location) === null || t === void 0 ? void 0 : t.protocol)) ||
    null
  );
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ function ID() {
  return typeof navigator < "u" &&
    navigator &&
    "onLine" in navigator &&
    typeof navigator.onLine == "boolean" &&
    (bD() || rC() || "connection" in navigator)
    ? navigator.onLine
    : !0;
}
function CD() {
  if (typeof navigator > "u") return null;
  const t = navigator;
  return (t.languages && t.languages[0]) || t.language || null;
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class fl {
  constructor(e, n) {
    (this.shortDelay = e),
      (this.longDelay = n),
      li(n > e, "Short delay should be less than long delay!"),
      (this.isMobile = tC() || sC());
  }
  get() {
    return ID()
      ? this.isMobile
        ? this.longDelay
        : this.shortDelay
      : Math.min(5e3, this.shortDelay);
  }
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ function Ep(t, e) {
  li(t.emulator, "Emulator should always be set here");
  const { url: n } = t.emulator;
  return e ? `${n}${e.startsWith("/") ? e.slice(1) : e}` : n;
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class MA {
  static initialize(e, n, i) {
    (this.fetchImpl = e),
      n && (this.headersImpl = n),
      i && (this.responseImpl = i);
  }
  static fetch() {
    if (this.fetchImpl) return this.fetchImpl;
    if (typeof self < "u" && "fetch" in self) return self.fetch;
    if (typeof globalThis < "u" && globalThis.fetch) return globalThis.fetch;
    if (typeof fetch < "u") return fetch;
    Yn(
      "Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill"
    );
  }
  static headers() {
    if (this.headersImpl) return this.headersImpl;
    if (typeof self < "u" && "Headers" in self) return self.Headers;
    if (typeof globalThis < "u" && globalThis.Headers)
      return globalThis.Headers;
    if (typeof Headers < "u") return Headers;
    Yn(
      "Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill"
    );
  }
  static response() {
    if (this.responseImpl) return this.responseImpl;
    if (typeof self < "u" && "Response" in self) return self.Response;
    if (typeof globalThis < "u" && globalThis.Response)
      return globalThis.Response;
    if (typeof Response < "u") return Response;
    Yn(
      "Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill"
    );
  }
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ const DD = {
  CREDENTIAL_MISMATCH: "custom-token-mismatch",
  MISSING_CUSTOM_TOKEN: "internal-error",
  INVALID_IDENTIFIER: "invalid-email",
  MISSING_CONTINUE_URI: "internal-error",
  INVALID_PASSWORD: "wrong-password",
  MISSING_PASSWORD: "missing-password",
  INVALID_LOGIN_CREDENTIALS: "invalid-credential",
  EMAIL_EXISTS: "email-already-in-use",
  PASSWORD_LOGIN_DISABLED: "operation-not-allowed",
  INVALID_IDP_RESPONSE: "invalid-credential",
  INVALID_PENDING_TOKEN: "invalid-credential",
  FEDERATED_USER_ID_ALREADY_LINKED: "credential-already-in-use",
  MISSING_REQ_TYPE: "internal-error",
  EMAIL_NOT_FOUND: "user-not-found",
  RESET_PASSWORD_EXCEED_LIMIT: "too-many-requests",
  EXPIRED_OOB_CODE: "expired-action-code",
  INVALID_OOB_CODE: "invalid-action-code",
  MISSING_OOB_CODE: "internal-error",
  CREDENTIAL_TOO_OLD_LOGIN_AGAIN: "requires-recent-login",
  INVALID_ID_TOKEN: "invalid-user-token",
  TOKEN_EXPIRED: "user-token-expired",
  USER_NOT_FOUND: "user-token-expired",
  TOO_MANY_ATTEMPTS_TRY_LATER: "too-many-requests",
  PASSWORD_DOES_NOT_MEET_REQUIREMENTS: "password-does-not-meet-requirements",
  INVALID_CODE: "invalid-verification-code",
  INVALID_SESSION_INFO: "invalid-verification-id",
  INVALID_TEMPORARY_PROOF: "invalid-credential",
  MISSING_SESSION_INFO: "missing-verification-id",
  SESSION_EXPIRED: "code-expired",
  MISSING_ANDROID_PACKAGE_NAME: "missing-android-pkg-name",
  UNAUTHORIZED_DOMAIN: "unauthorized-continue-uri",
  INVALID_OAUTH_CLIENT_ID: "invalid-oauth-client-id",
  ADMIN_ONLY_OPERATION: "admin-restricted-operation",
  INVALID_MFA_PENDING_CREDENTIAL: "invalid-multi-factor-session",
  MFA_ENROLLMENT_NOT_FOUND: "multi-factor-info-not-found",
  MISSING_MFA_ENROLLMENT_ID: "missing-multi-factor-info",
  MISSING_MFA_PENDING_CREDENTIAL: "missing-multi-factor-session",
  SECOND_FACTOR_EXISTS: "second-factor-already-in-use",
  SECOND_FACTOR_LIMIT_EXCEEDED: "maximum-second-factor-count-exceeded",
  BLOCKING_FUNCTION_ERROR_RESPONSE: "internal-error",
  RECAPTCHA_NOT_ENABLED: "recaptcha-not-enabled",
  MISSING_RECAPTCHA_TOKEN: "missing-recaptcha-token",
  INVALID_RECAPTCHA_TOKEN: "invalid-recaptcha-token",
  INVALID_RECAPTCHA_ACTION: "invalid-recaptcha-action",
  MISSING_CLIENT_TYPE: "missing-client-type",
  MISSING_RECAPTCHA_VERSION: "missing-recaptcha-version",
  INVALID_RECAPTCHA_VERSION: "invalid-recaptcha-version",
  INVALID_REQ_TYPE: "invalid-req-type",
};
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ const OD = new fl(3e4, 6e4);
function rr(t, e) {
  return t.tenantId && !e.tenantId
    ? Object.assign(Object.assign({}, e), { tenantId: t.tenantId })
    : e;
}
async function fi(t, e, n, i, r = {}) {
  return kA(t, r, async () => {
    let s = {},
      a = {};
    i && (e === "GET" ? (a = i) : (s = { body: JSON.stringify(i) }));
    const l = hl(Object.assign({ key: t.config.apiKey }, a)).slice(1),
      u = await t._getAdditionalHeaders();
    (u["Content-Type"] = "application/json"),
      t.languageCode && (u["X-Firebase-Locale"] = t.languageCode);
    const c = Object.assign({ method: e, headers: u }, s);
    return (
      iC() || (c.referrerPolicy = "no-referrer"),
      MA.fetch()(xA(t, t.config.apiHost, n, l), c)
    );
  });
}
async function kA(t, e, n) {
  t._canInitEmulator = !1;
  const i = Object.assign(Object.assign({}, DD), e);
  try {
    const r = new MD(t),
      s = await Promise.race([n(), r.promise]);
    r.clearNetworkTimeout();
    const a = await s.json();
    if ("needConfirmation" in a)
      throw au(t, "account-exists-with-different-credential", a);
    if (s.ok && !("errorMessage" in a)) return a;
    {
      const l = s.ok ? a.errorMessage : a.error.message,
        [u, c] = l.split(" : ");
      if (u === "FEDERATED_USER_ID_ALREADY_LINKED")
        throw au(t, "credential-already-in-use", a);
      if (u === "EMAIL_EXISTS") throw au(t, "email-already-in-use", a);
      if (u === "USER_DISABLED") throw au(t, "user-disabled", a);
      const f = i[u] || u.toLowerCase().replace(/[_\s]+/g, "-");
      if (c) throw NA(t, f, c);
      ln(t, f);
    }
  } catch (r) {
    if (r instanceof Nn) throw r;
    ln(t, "network-request-failed", { message: String(r) });
  }
}
async function dl(t, e, n, i, r = {}) {
  const s = await fi(t, e, n, i, r);
  return (
    "mfaPendingCredential" in s &&
      ln(t, "multi-factor-auth-required", { _serverResponse: s }),
    s
  );
}
function xA(t, e, n, i) {
  const r = `${e}${n}?${i}`;
  return t.config.emulator ? Ep(t.config, r) : `${t.config.apiScheme}://${r}`;
}
function ND(t) {
  switch (t) {
    case "ENFORCE":
      return "ENFORCE";
    case "AUDIT":
      return "AUDIT";
    case "OFF":
      return "OFF";
    default:
      return "ENFORCEMENT_STATE_UNSPECIFIED";
  }
}
class MD {
  clearNetworkTimeout() {
    clearTimeout(this.timer);
  }
  constructor(e) {
    (this.auth = e),
      (this.timer = null),
      (this.promise = new Promise((n, i) => {
        this.timer = setTimeout(
          () => i(An(this.auth, "network-request-failed")),
          OD.get()
        );
      }));
  }
}
function au(t, e, n) {
  const i = { appName: t.name };
  n.email && (i.email = n.email),
    n.phoneNumber && (i.phoneNumber = n.phoneNumber);
  const r = An(t, e, i);
  return (r.customData._tokenResponse = n), r;
}
function ev(t) {
  return t !== void 0 && t.enterprise !== void 0;
}
class kD {
  constructor(e) {
    if (
      ((this.siteKey = ""),
      (this.recaptchaEnforcementState = []),
      e.recaptchaKey === void 0)
    )
      throw new Error("recaptchaKey undefined");
    (this.siteKey = e.recaptchaKey.split("/")[3]),
      (this.recaptchaEnforcementState = e.recaptchaEnforcementState);
  }
  getProviderEnforcementState(e) {
    if (
      !this.recaptchaEnforcementState ||
      this.recaptchaEnforcementState.length === 0
    )
      return null;
    for (const n of this.recaptchaEnforcementState)
      if (n.provider && n.provider === e) return ND(n.enforcementState);
    return null;
  }
  isProviderEnabled(e) {
    return (
      this.getProviderEnforcementState(e) === "ENFORCE" ||
      this.getProviderEnforcementState(e) === "AUDIT"
    );
  }
  isAnyProviderEnabled() {
    return (
      this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER") ||
      this.isProviderEnabled("PHONE_PROVIDER")
    );
  }
}
async function xD(t, e) {
  return fi(t, "GET", "/v2/recaptchaConfig", rr(t, e));
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ async function VD(t, e) {
  return fi(t, "POST", "/v1/accounts:delete", e);
}
async function VA(t, e) {
  return fi(t, "POST", "/v1/accounts:lookup", e);
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ function Eo(t) {
  if (t)
    try {
      const e = new Date(Number(t));
      if (!isNaN(e.getTime())) return e.toUTCString();
    } catch {}
}
async function PD(t, e = !1) {
  const n = Re(t),
    i = await n.getIdToken(e),
    r = Tp(i);
  K(r && r.exp && r.auth_time && r.iat, n.auth, "internal-error");
  const s = typeof r.firebase == "object" ? r.firebase : void 0,
    a = s == null ? void 0 : s.sign_in_provider;
  return {
    claims: r,
    token: i,
    authTime: Eo(Lf(r.auth_time)),
    issuedAtTime: Eo(Lf(r.iat)),
    expirationTime: Eo(Lf(r.exp)),
    signInProvider: a || null,
    signInSecondFactor: (s == null ? void 0 : s.sign_in_second_factor) || null,
  };
}
function Lf(t) {
  return Number(t) * 1e3;
}
function Tp(t) {
  const [e, n, i] = t.split(".");
  if (e === void 0 || n === void 0 || i === void 0)
    return Iu("JWT malformed, contained fewer than 3 sections"), null;
  try {
    const r = yA(n);
    return r
      ? JSON.parse(r)
      : (Iu("Failed to decode base64 JWT payload"), null);
  } catch (r) {
    return (
      Iu(
        "Caught error parsing JWT payload as JSON",
        r == null ? void 0 : r.toString()
      ),
      null
    );
  }
}
function tv(t) {
  const e = Tp(t);
  return (
    K(e, "internal-error"),
    K(typeof e.exp < "u", "internal-error"),
    K(typeof e.iat < "u", "internal-error"),
    Number(e.exp) - Number(e.iat)
  );
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ async function Qs(t, e, n = !1) {
  if (n) return e;
  try {
    return await e;
  } catch (i) {
    throw (
      (i instanceof Nn &&
        UD(i) &&
        t.auth.currentUser === t &&
        (await t.auth.signOut()),
      i)
    );
  }
}
function UD({ code: t }) {
  return t === "auth/user-disabled" || t === "auth/user-token-expired";
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class LD {
  constructor(e) {
    (this.user = e),
      (this.isRunning = !1),
      (this.timerId = null),
      (this.errorBackoff = 3e4);
  }
  _start() {
    this.isRunning || ((this.isRunning = !0), this.schedule());
  }
  _stop() {
    this.isRunning &&
      ((this.isRunning = !1),
      this.timerId !== null && clearTimeout(this.timerId));
  }
  getInterval(e) {
    var n;
    if (e) {
      const i = this.errorBackoff;
      return (this.errorBackoff = Math.min(this.errorBackoff * 2, 96e4)), i;
    } else {
      this.errorBackoff = 3e4;
      const r =
        ((n = this.user.stsTokenManager.expirationTime) !== null && n !== void 0
          ? n
          : 0) -
        Date.now() -
        3e5;
      return Math.max(0, r);
    }
  }
  schedule(e = !1) {
    if (!this.isRunning) return;
    const n = this.getInterval(e);
    this.timerId = setTimeout(async () => {
      await this.iteration();
    }, n);
  }
  async iteration() {
    try {
      await this.user.getIdToken(!0);
    } catch (e) {
      (e == null ? void 0 : e.code) === "auth/network-request-failed" &&
        this.schedule(!0);
      return;
    }
    this.schedule();
  }
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class Yd {
  constructor(e, n) {
    (this.createdAt = e), (this.lastLoginAt = n), this._initializeTime();
  }
  _initializeTime() {
    (this.lastSignInTime = Eo(this.lastLoginAt)),
      (this.creationTime = Eo(this.createdAt));
  }
  _copy(e) {
    (this.createdAt = e.createdAt),
      (this.lastLoginAt = e.lastLoginAt),
      this._initializeTime();
  }
  toJSON() {
    return { createdAt: this.createdAt, lastLoginAt: this.lastLoginAt };
  }
}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ async function gc(t) {
  var e;
  const n = t.auth,
    i = await t.getIdToken(),
    r = await Qs(t, VA(n, { idToken: i }));
  K(r == null ? void 0 : r.users.length, n, "internal-error");
  const s = r.users[0];
  t._notifyReloadListener(s);
  const a =
      !((e = s.providerUserInfo) === null || e === void 0) && e.length
        ? PA(s.providerUserInfo)
        : [],
    l = zD(t.providerData, a),
    u = t.isAnonymous,
    c = !(t.email && s.passwordHash) && !(l != null && l.length),
    f = u ? c : !1,
    p = {
      uid: s.localId,
      displayName: s.displayName || null,
      photoURL: s.photoUrl || null,
      email: s.email || null,
      emailVerified: s.emailVerified || !1,
      phoneNumber: s.phoneNumber || null,
      tenantId: s.tenantId || null,
      providerData: l,
      metadata: new Yd(s.createdAt, s.lastLoginAt),
      isAnonymous: f,
    };
  Object.assign(t, p);
}
async function BD(t) {
  const e = Re(t);
  await gc(e),
    await e.auth._persistUserIfCurrent(e),
    e.auth._notifyListenersIfCurrent(e);
}
function zD(t, e) {
  return [
    ...t.filter((i) => !e.some((r) => r.providerId === i.providerId)),
    ...e,
  ];
}
function PA(t) {
  return t.map((e) => {
    var { providerId: n } = e,
      i = yp(e, ["providerId"]);
    return {
      providerId: n,
      uid: i.rawId || "",
      displayName: i.displayName || null,
      email: i.email || null,
      phoneNumber: i.phoneNumber || null,
      photoURL: i.photoUrl || null,
    };
  });
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ async function jD(t, e) {
  const n = await kA(t, {}, async () => {
    const i = hl({ grant_type: "refresh_token", refresh_token: e }).slice(1),
      { tokenApiHost: r, apiKey: s } = t.config,
      a = xA(t, r, "/v1/token", `key=${s}`),
      l = await t._getAdditionalHeaders();
    return (
      (l["Content-Type"] = "application/x-www-form-urlencoded"),
      MA.fetch()(a, { method: "POST", headers: l, body: i })
    );
  });
  return {
    accessToken: n.access_token,
    expiresIn: n.expires_in,
    refreshToken: n.refresh_token,
  };
}
async function qD(t, e) {
  return fi(t, "POST", "/v2/accounts:revokeToken", rr(t, e));
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class xs {
  constructor() {
    (this.refreshToken = null),
      (this.accessToken = null),
      (this.expirationTime = null);
  }
  get isExpired() {
    return !this.expirationTime || Date.now() > this.expirationTime - 3e4;
  }
  updateFromServerResponse(e) {
    K(e.idToken, "internal-error"),
      K(typeof e.idToken < "u", "internal-error"),
      K(typeof e.refreshToken < "u", "internal-error");
    const n =
      "expiresIn" in e && typeof e.expiresIn < "u"
        ? Number(e.expiresIn)
        : tv(e.idToken);
    this.updateTokensAndExpiration(e.idToken, e.refreshToken, n);
  }
  updateFromIdToken(e) {
    K(e.length !== 0, "internal-error");
    const n = tv(e);
    this.updateTokensAndExpiration(e, null, n);
  }
  async getToken(e, n = !1) {
    return !n && this.accessToken && !this.isExpired
      ? this.accessToken
      : (K(this.refreshToken, e, "user-token-expired"),
        this.refreshToken
          ? (await this.refresh(e, this.refreshToken), this.accessToken)
          : null);
  }
  clearRefreshToken() {
    this.refreshToken = null;
  }
  async refresh(e, n) {
    const { accessToken: i, refreshToken: r, expiresIn: s } = await jD(e, n);
    this.updateTokensAndExpiration(i, r, Number(s));
  }
  updateTokensAndExpiration(e, n, i) {
    (this.refreshToken = n || null),
      (this.accessToken = e || null),
      (this.expirationTime = Date.now() + i * 1e3);
  }
  static fromJSON(e, n) {
    const { refreshToken: i, accessToken: r, expirationTime: s } = n,
      a = new xs();
    return (
      i &&
        (K(typeof i == "string", "internal-error", { appName: e }),
        (a.refreshToken = i)),
      r &&
        (K(typeof r == "string", "internal-error", { appName: e }),
        (a.accessToken = r)),
      s &&
        (K(typeof s == "number", "internal-error", { appName: e }),
        (a.expirationTime = s)),
      a
    );
  }
  toJSON() {
    return {
      refreshToken: this.refreshToken,
      accessToken: this.accessToken,
      expirationTime: this.expirationTime,
    };
  }
  _assign(e) {
    (this.accessToken = e.accessToken),
      (this.refreshToken = e.refreshToken),
      (this.expirationTime = e.expirationTime);
  }
  _clone() {
    return Object.assign(new xs(), this.toJSON());
  }
  _performRefresh() {
    return Yn("not implemented");
  }
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ function yi(t, e) {
  K(typeof t == "string" || typeof t > "u", "internal-error", { appName: e });
}
class Xn {
  constructor(e) {
    var { uid: n, auth: i, stsTokenManager: r } = e,
      s = yp(e, ["uid", "auth", "stsTokenManager"]);
    (this.providerId = "firebase"),
      (this.proactiveRefresh = new LD(this)),
      (this.reloadUserInfo = null),
      (this.reloadListener = null),
      (this.uid = n),
      (this.auth = i),
      (this.stsTokenManager = r),
      (this.accessToken = r.accessToken),
      (this.displayName = s.displayName || null),
      (this.email = s.email || null),
      (this.emailVerified = s.emailVerified || !1),
      (this.phoneNumber = s.phoneNumber || null),
      (this.photoURL = s.photoURL || null),
      (this.isAnonymous = s.isAnonymous || !1),
      (this.tenantId = s.tenantId || null),
      (this.providerData = s.providerData ? [...s.providerData] : []),
      (this.metadata = new Yd(s.createdAt || void 0, s.lastLoginAt || void 0));
  }
  async getIdToken(e) {
    const n = await Qs(this, this.stsTokenManager.getToken(this.auth, e));
    return (
      K(n, this.auth, "internal-error"),
      this.accessToken !== n &&
        ((this.accessToken = n),
        await this.auth._persistUserIfCurrent(this),
        this.auth._notifyListenersIfCurrent(this)),
      n
    );
  }
  getIdTokenResult(e) {
    return PD(this, e);
  }
  reload() {
    return BD(this);
  }
  _assign(e) {
    this !== e &&
      (K(this.uid === e.uid, this.auth, "internal-error"),
      (this.displayName = e.displayName),
      (this.photoURL = e.photoURL),
      (this.email = e.email),
      (this.emailVerified = e.emailVerified),
      (this.phoneNumber = e.phoneNumber),
      (this.isAnonymous = e.isAnonymous),
      (this.tenantId = e.tenantId),
      (this.providerData = e.providerData.map((n) => Object.assign({}, n))),
      this.metadata._copy(e.metadata),
      this.stsTokenManager._assign(e.stsTokenManager));
  }
  _clone(e) {
    const n = new Xn(
      Object.assign(Object.assign({}, this), {
        auth: e,
        stsTokenManager: this.stsTokenManager._clone(),
      })
    );
    return n.metadata._copy(this.metadata), n;
  }
  _onReload(e) {
    K(!this.reloadListener, this.auth, "internal-error"),
      (this.reloadListener = e),
      this.reloadUserInfo &&
        (this._notifyReloadListener(this.reloadUserInfo),
        (this.reloadUserInfo = null));
  }
  _notifyReloadListener(e) {
    this.reloadListener ? this.reloadListener(e) : (this.reloadUserInfo = e);
  }
  _startProactiveRefresh() {
    this.proactiveRefresh._start();
  }
  _stopProactiveRefresh() {
    this.proactiveRefresh._stop();
  }
  async _updateTokensIfNecessary(e, n = !1) {
    let i = !1;
    e.idToken &&
      e.idToken !== this.stsTokenManager.accessToken &&
      (this.stsTokenManager.updateFromServerResponse(e), (i = !0)),
      n && (await gc(this)),
      await this.auth._persistUserIfCurrent(this),
      i && this.auth._notifyListenersIfCurrent(this);
  }
  async delete() {
    if (gn(this.auth.app)) return Promise.reject(Jn(this.auth));
    const e = await this.getIdToken();
    return (
      await Qs(this, VD(this.auth, { idToken: e })),
      this.stsTokenManager.clearRefreshToken(),
      this.auth.signOut()
    );
  }
  toJSON() {
    return Object.assign(
      Object.assign(
        {
          uid: this.uid,
          email: this.email || void 0,
          emailVerified: this.emailVerified,
          displayName: this.displayName || void 0,
          isAnonymous: this.isAnonymous,
          photoURL: this.photoURL || void 0,
          phoneNumber: this.phoneNumber || void 0,
          tenantId: this.tenantId || void 0,
          providerData: this.providerData.map((e) => Object.assign({}, e)),
          stsTokenManager: this.stsTokenManager.toJSON(),
          _redirectEventId: this._redirectEventId,
        },
        this.metadata.toJSON()
      ),
      { apiKey: this.auth.config.apiKey, appName: this.auth.name }
    );
  }
  get refreshToken() {
    return this.stsTokenManager.refreshToken || "";
  }
  static _fromJSON(e, n) {
    var i, r, s, a, l, u, c, f;
    const p = (i = n.displayName) !== null && i !== void 0 ? i : void 0,
      m = (r = n.email) !== null && r !== void 0 ? r : void 0,
      _ = (s = n.phoneNumber) !== null && s !== void 0 ? s : void 0,
      b = (a = n.photoURL) !== null && a !== void 0 ? a : void 0,
      C = (l = n.tenantId) !== null && l !== void 0 ? l : void 0,
      D = (u = n._redirectEventId) !== null && u !== void 0 ? u : void 0,
      E = (c = n.createdAt) !== null && c !== void 0 ? c : void 0,
      v = (f = n.lastLoginAt) !== null && f !== void 0 ? f : void 0,
      {
        uid: w,
        emailVerified: O,
        isAnonymous: B,
        providerData: j,
        stsTokenManager: A,
      } = n;
    K(w && A, e, "internal-error");
    const y = xs.fromJSON(this.name, A);
    K(typeof w == "string", e, "internal-error"),
      yi(p, e.name),
      yi(m, e.name),
      K(typeof O == "boolean", e, "internal-error"),
      K(typeof B == "boolean", e, "internal-error"),
      yi(_, e.name),
      yi(b, e.name),
      yi(C, e.name),
      yi(D, e.name),
      yi(E, e.name),
      yi(v, e.name);
    const T = new Xn({
      uid: w,
      auth: e,
      email: m,
      emailVerified: O,
      displayName: p,
      isAnonymous: B,
      photoURL: b,
      phoneNumber: _,
      tenantId: C,
      stsTokenManager: y,
      createdAt: E,
      lastLoginAt: v,
    });
    return (
      j &&
        Array.isArray(j) &&
        (T.providerData = j.map((S) => Object.assign({}, S))),
      D && (T._redirectEventId = D),
      T
    );
  }
  static async _fromIdTokenResponse(e, n, i = !1) {
    const r = new xs();
    r.updateFromServerResponse(n);
    const s = new Xn({
      uid: n.localId,
      auth: e,
      stsTokenManager: r,
      isAnonymous: i,
    });
    return await gc(s), s;
  }
  static async _fromGetAccountInfoResponse(e, n, i) {
    const r = n.users[0];
    K(r.localId !== void 0, "internal-error");
    const s = r.providerUserInfo !== void 0 ? PA(r.providerUserInfo) : [],
      a = !(r.email && r.passwordHash) && !(s != null && s.length),
      l = new xs();
    l.updateFromIdToken(i);
    const u = new Xn({
        uid: r.localId,
        auth: e,
        stsTokenManager: l,
        isAnonymous: a,
      }),
      c = {
        uid: r.localId,
        displayName: r.displayName || null,
        photoURL: r.photoUrl || null,
        email: r.email || null,
        emailVerified: r.emailVerified || !1,
        phoneNumber: r.phoneNumber || null,
        tenantId: r.tenantId || null,
        providerData: s,
        metadata: new Yd(r.createdAt, r.lastLoginAt),
        isAnonymous: !(r.email && r.passwordHash) && !(s != null && s.length),
      };
    return Object.assign(u, c), u;
  }
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ const nv = new Map();
function Wn(t) {
  li(t instanceof Function, "Expected a class definition");
  let e = nv.get(t);
  return e
    ? (li(e instanceof t, "Instance stored in cache mismatched with class"), e)
    : ((e = new t()), nv.set(t, e), e);
}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class UA {
  constructor() {
    (this.type = "NONE"), (this.storage = {});
  }
  async _isAvailable() {
    return !0;
  }
  async _set(e, n) {
    this.storage[e] = n;
  }
  async _get(e) {
    const n = this.storage[e];
    return n === void 0 ? null : n;
  }
  async _remove(e) {
    delete this.storage[e];
  }
  _addListener(e, n) {}
  _removeListener(e, n) {}
}
UA.type = "NONE";
const iv = UA;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ function Cu(t, e, n) {
  return `firebase:${t}:${e}:${n}`;
}
class Vs {
  constructor(e, n, i) {
    (this.persistence = e), (this.auth = n), (this.userKey = i);
    const { config: r, name: s } = this.auth;
    (this.fullUserKey = Cu(this.userKey, r.apiKey, s)),
      (this.fullPersistenceKey = Cu("persistence", r.apiKey, s)),
      (this.boundEventHandler = n._onStorageEvent.bind(n)),
      this.persistence._addListener(this.fullUserKey, this.boundEventHandler);
  }
  setCurrentUser(e) {
    return this.persistence._set(this.fullUserKey, e.toJSON());
  }
  async getCurrentUser() {
    const e = await this.persistence._get(this.fullUserKey);
    return e ? Xn._fromJSON(this.auth, e) : null;
  }
  removeCurrentUser() {
    return this.persistence._remove(this.fullUserKey);
  }
  savePersistenceForRedirect() {
    return this.persistence._set(
      this.fullPersistenceKey,
      this.persistence.type
    );
  }
  async setPersistence(e) {
    if (this.persistence === e) return;
    const n = await this.getCurrentUser();
    if ((await this.removeCurrentUser(), (this.persistence = e), n))
      return this.setCurrentUser(n);
  }
  delete() {
    this.persistence._removeListener(this.fullUserKey, this.boundEventHandler);
  }
  static async create(e, n, i = "authUser") {
    if (!n.length) return new Vs(Wn(iv), e, i);
    const r = (
      await Promise.all(
        n.map(async (c) => {
          if (await c._isAvailable()) return c;
        })
      )
    ).filter((c) => c);
    let s = r[0] || Wn(iv);
    const a = Cu(i, e.config.apiKey, e.name);
    let l = null;
    for (const c of n)
      try {
        const f = await c._get(a);
        if (f) {
          const p = Xn._fromJSON(e, f);
          c !== s && (l = p), (s = c);
          break;
        }
      } catch {}
    const u = r.filter((c) => c._shouldAllowMigration);
    return !s._shouldAllowMigration || !u.length
      ? new Vs(s, e, i)
      : ((s = u[0]),
        l && (await s._set(a, l.toJSON())),
        await Promise.all(
          n.map(async (c) => {
            if (c !== s)
              try {
                await c._remove(a);
              } catch {}
          })
        ),
        new Vs(s, e, i));
  }
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ function rv(t) {
  const e = t.toLowerCase();
  if (e.includes("opera/") || e.includes("opr/") || e.includes("opios/"))
    return "Opera";
  if (jA(e)) return "IEMobile";
  if (e.includes("msie") || e.includes("trident/")) return "IE";
  if (e.includes("edge/")) return "Edge";
  if (LA(e)) return "Firefox";
  if (e.includes("silk/")) return "Silk";
  if (HA(e)) return "Blackberry";
  if (FA(e)) return "Webos";
  if (BA(e)) return "Safari";
  if ((e.includes("chrome/") || zA(e)) && !e.includes("edge/")) return "Chrome";
  if (qA(e)) return "Android";
  {
    const n = /([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,
      i = t.match(n);
    if ((i == null ? void 0 : i.length) === 2) return i[1];
  }
  return "Other";
}
function LA(t = gt()) {
  return /firefox\//i.test(t);
}
function BA(t = gt()) {
  const e = t.toLowerCase();
  return (
    e.includes("safari/") &&
    !e.includes("chrome/") &&
    !e.includes("crios/") &&
    !e.includes("android")
  );
}
function zA(t = gt()) {
  return /crios\//i.test(t);
}
function jA(t = gt()) {
  return /iemobile/i.test(t);
}
function qA(t = gt()) {
  return /android/i.test(t);
}
function HA(t = gt()) {
  return /blackberry/i.test(t);
}
function FA(t = gt()) {
  return /webos/i.test(t);
}
function Ap(t = gt()) {
  return (
    /iphone|ipad|ipod/i.test(t) || (/macintosh/i.test(t) && /mobile/i.test(t))
  );
}
function HD(t = gt()) {
  var e;
  return (
    Ap(t) &&
    !!(!((e = window.navigator) === null || e === void 0) && e.standalone)
  );
}
function FD() {
  return aC() && document.documentMode === 10;
}
function GA(t = gt()) {
  return Ap(t) || qA(t) || FA(t) || HA(t) || /windows phone/i.test(t) || jA(t);
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ function KA(t, e = []) {
  let n;
  switch (t) {
    case "Browser":
      n = rv(gt());
      break;
    case "Worker":
      n = `${rv(gt())}-${t}`;
      break;
    default:
      n = t;
  }
  const i = e.length ? e.join(",") : "FirebaseCore-web";
  return `${n}/JsCore/${Kr}/${i}`;
}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class GD {
  constructor(e) {
    (this.auth = e), (this.queue = []);
  }
  pushCallback(e, n) {
    const i = (s) =>
      new Promise((a, l) => {
        try {
          const u = e(s);
          a(u);
        } catch (u) {
          l(u);
        }
      });
    (i.onAbort = n), this.queue.push(i);
    const r = this.queue.length - 1;
    return () => {
      this.queue[r] = () => Promise.resolve();
    };
  }
  async runMiddleware(e) {
    if (this.auth.currentUser === e) return;
    const n = [];
    try {
      for (const i of this.queue) await i(e), i.onAbort && n.push(i.onAbort);
    } catch (i) {
      n.reverse();
      for (const r of n)
        try {
          r();
        } catch {}
      throw this.auth._errorFactory.create("login-blocked", {
        originalMessage: i == null ? void 0 : i.message,
      });
    }
  }
}
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ async function KD(t, e = {}) {
  return fi(t, "GET", "/v2/passwordPolicy", rr(t, e));
}
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ const QD = 6;
class $D {
  constructor(e) {
    var n, i, r, s;
    const a = e.customStrengthOptions;
    (this.customStrengthOptions = {}),
      (this.customStrengthOptions.minPasswordLength =
        (n = a.minPasswordLength) !== null && n !== void 0 ? n : QD),
      a.maxPasswordLength &&
        (this.customStrengthOptions.maxPasswordLength = a.maxPasswordLength),
      a.containsLowercaseCharacter !== void 0 &&
        (this.customStrengthOptions.containsLowercaseLetter =
          a.containsLowercaseCharacter),
      a.containsUppercaseCharacter !== void 0 &&
        (this.customStrengthOptions.containsUppercaseLetter =
          a.containsUppercaseCharacter),
      a.containsNumericCharacter !== void 0 &&
        (this.customStrengthOptions.containsNumericCharacter =
          a.containsNumericCharacter),
      a.containsNonAlphanumericCharacter !== void 0 &&
        (this.customStrengthOptions.containsNonAlphanumericCharacter =
          a.containsNonAlphanumericCharacter),
      (this.enforcementState = e.enforcementState),
      this.enforcementState === "ENFORCEMENT_STATE_UNSPECIFIED" &&
        (this.enforcementState = "OFF"),
      (this.allowedNonAlphanumericCharacters =
        (r =
          (i = e.allowedNonAlphanumericCharacters) === null || i === void 0
            ? void 0
            : i.join("")) !== null && r !== void 0
          ? r
          : ""),
      (this.forceUpgradeOnSignin =
        (s = e.forceUpgradeOnSignin) !== null && s !== void 0 ? s : !1),
      (this.schemaVersion = e.schemaVersion);
  }
  validatePassword(e) {
    var n, i, r, s, a, l;
    const u = { isValid: !0, passwordPolicy: this };
    return (
      this.validatePasswordLengthOptions(e, u),
      this.validatePasswordCharacterOptions(e, u),
      u.isValid &&
        (u.isValid =
          (n = u.meetsMinPasswordLength) !== null && n !== void 0 ? n : !0),
      u.isValid &&
        (u.isValid =
          (i = u.meetsMaxPasswordLength) !== null && i !== void 0 ? i : !0),
      u.isValid &&
        (u.isValid =
          (r = u.containsLowercaseLetter) !== null && r !== void 0 ? r : !0),
      u.isValid &&
        (u.isValid =
          (s = u.containsUppercaseLetter) !== null && s !== void 0 ? s : !0),
      u.isValid &&
        (u.isValid =
          (a = u.containsNumericCharacter) !== null && a !== void 0 ? a : !0),
      u.isValid &&
        (u.isValid =
          (l = u.containsNonAlphanumericCharacter) !== null && l !== void 0
            ? l
            : !0),
      u
    );
  }
  validatePasswordLengthOptions(e, n) {
    const i = this.customStrengthOptions.minPasswordLength,
      r = this.customStrengthOptions.maxPasswordLength;
    i && (n.meetsMinPasswordLength = e.length >= i),
      r && (n.meetsMaxPasswordLength = e.length <= r);
  }
  validatePasswordCharacterOptions(e, n) {
    this.updatePasswordCharacterOptionsStatuses(n, !1, !1, !1, !1);
    let i;
    for (let r = 0; r < e.length; r++)
      (i = e.charAt(r)),
        this.updatePasswordCharacterOptionsStatuses(
          n,
          i >= "a" && i <= "z",
          i >= "A" && i <= "Z",
          i >= "0" && i <= "9",
          this.allowedNonAlphanumericCharacters.includes(i)
        );
  }
  updatePasswordCharacterOptionsStatuses(e, n, i, r, s) {
    this.customStrengthOptions.containsLowercaseLetter &&
      (e.containsLowercaseLetter || (e.containsLowercaseLetter = n)),
      this.customStrengthOptions.containsUppercaseLetter &&
        (e.containsUppercaseLetter || (e.containsUppercaseLetter = i)),
      this.customStrengthOptions.containsNumericCharacter &&
        (e.containsNumericCharacter || (e.containsNumericCharacter = r)),
      this.customStrengthOptions.containsNonAlphanumericCharacter &&
        (e.containsNonAlphanumericCharacter ||
          (e.containsNonAlphanumericCharacter = s));
  }
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class YD {
  constructor(e, n, i, r) {
    (this.app = e),
      (this.heartbeatServiceProvider = n),
      (this.appCheckServiceProvider = i),
      (this.config = r),
      (this.currentUser = null),
      (this.emulatorConfig = null),
      (this.operations = Promise.resolve()),
      (this.authStateSubscription = new sv(this)),
      (this.idTokenSubscription = new sv(this)),
      (this.beforeStateQueue = new GD(this)),
      (this.redirectUser = null),
      (this.isProactiveRefreshEnabled = !1),
      (this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION = 1),
      (this._canInitEmulator = !0),
      (this._isInitialized = !1),
      (this._deleted = !1),
      (this._initializationPromise = null),
      (this._popupRedirectResolver = null),
      (this._errorFactory = OA),
      (this._agentRecaptchaConfig = null),
      (this._tenantRecaptchaConfigs = {}),
      (this._projectPasswordPolicy = null),
      (this._tenantPasswordPolicies = {}),
      (this.lastNotifiedUid = void 0),
      (this.languageCode = null),
      (this.tenantId = null),
      (this.settings = { appVerificationDisabledForTesting: !1 }),
      (this.frameworks = []),
      (this.name = e.name),
      (this.clientVersion = r.sdkClientVersion);
  }
  _initializeWithPersistence(e, n) {
    return (
      n && (this._popupRedirectResolver = Wn(n)),
      (this._initializationPromise = this.queue(async () => {
        var i, r;
        if (
          !this._deleted &&
          ((this.persistenceManager = await Vs.create(this, e)), !this._deleted)
        ) {
          if (
            !((i = this._popupRedirectResolver) === null || i === void 0) &&
            i._shouldInitProactively
          )
            try {
              await this._popupRedirectResolver._initialize(this);
            } catch {}
          await this.initializeCurrentUser(n),
            (this.lastNotifiedUid =
              ((r = this.currentUser) === null || r === void 0
                ? void 0
                : r.uid) || null),
            !this._deleted && (this._isInitialized = !0);
        }
      })),
      this._initializationPromise
    );
  }
  async _onStorageEvent() {
    if (this._deleted) return;
    const e = await this.assertedPersistence.getCurrentUser();
    if (!(!this.currentUser && !e)) {
      if (this.currentUser && e && this.currentUser.uid === e.uid) {
        this._currentUser._assign(e), await this.currentUser.getIdToken();
        return;
      }
      await this._updateCurrentUser(e, !0);
    }
  }
  async initializeCurrentUserFromIdToken(e) {
    try {
      const n = await VA(this, { idToken: e }),
        i = await Xn._fromGetAccountInfoResponse(this, n, e);
      await this.directlySetCurrentUser(i);
    } catch (n) {
      console.warn(
        "FirebaseServerApp could not login user with provided authIdToken: ",
        n
      ),
        await this.directlySetCurrentUser(null);
    }
  }
  async initializeCurrentUser(e) {
    var n;
    if (gn(this.app)) {
      const a = this.app.settings.authIdToken;
      return a
        ? new Promise((l) => {
            setTimeout(() =>
              this.initializeCurrentUserFromIdToken(a).then(l, l)
            );
          })
        : this.directlySetCurrentUser(null);
    }
    const i = await this.assertedPersistence.getCurrentUser();
    let r = i,
      s = !1;
    if (e && this.config.authDomain) {
      await this.getOrInitRedirectPersistenceManager();
      const a =
          (n = this.redirectUser) === null || n === void 0
            ? void 0
            : n._redirectEventId,
        l = r == null ? void 0 : r._redirectEventId,
        u = await this.tryRedirectSignIn(e);
      (!a || a === l) && u != null && u.user && ((r = u.user), (s = !0));
    }
    if (!r) return this.directlySetCurrentUser(null);
    if (!r._redirectEventId) {
      if (s)
        try {
          await this.beforeStateQueue.runMiddleware(r);
        } catch (a) {
          (r = i),
            this._popupRedirectResolver._overrideRedirectResult(this, () =>
              Promise.reject(a)
            );
        }
      return r
        ? this.reloadAndSetCurrentUserOrClear(r)
        : this.directlySetCurrentUser(null);
    }
    return (
      K(this._popupRedirectResolver, this, "argument-error"),
      await this.getOrInitRedirectPersistenceManager(),
      this.redirectUser &&
      this.redirectUser._redirectEventId === r._redirectEventId
        ? this.directlySetCurrentUser(r)
        : this.reloadAndSetCurrentUserOrClear(r)
    );
  }
  async tryRedirectSignIn(e) {
    let n = null;
    try {
      n = await this._popupRedirectResolver._completeRedirectFn(this, e, !0);
    } catch {
      await this._setRedirectUser(null);
    }
    return n;
  }
  async reloadAndSetCurrentUserOrClear(e) {
    try {
      await gc(e);
    } catch (n) {
      if ((n == null ? void 0 : n.code) !== "auth/network-request-failed")
        return this.directlySetCurrentUser(null);
    }
    return this.directlySetCurrentUser(e);
  }
  useDeviceLanguage() {
    this.languageCode = CD();
  }
  async _delete() {
    this._deleted = !0;
  }
  async updateCurrentUser(e) {
    if (gn(this.app)) return Promise.reject(Jn(this));
    const n = e ? Re(e) : null;
    return (
      n &&
        K(
          n.auth.config.apiKey === this.config.apiKey,
          this,
          "invalid-user-token"
        ),
      this._updateCurrentUser(n && n._clone(this))
    );
  }
  async _updateCurrentUser(e, n = !1) {
    if (!this._deleted)
      return (
        e && K(this.tenantId === e.tenantId, this, "tenant-id-mismatch"),
        n || (await this.beforeStateQueue.runMiddleware(e)),
        this.queue(async () => {
          await this.directlySetCurrentUser(e), this.notifyAuthListeners();
        })
      );
  }
  async signOut() {
    return gn(this.app)
      ? Promise.reject(Jn(this))
      : (await this.beforeStateQueue.runMiddleware(null),
        (this.redirectPersistenceManager || this._popupRedirectResolver) &&
          (await this._setRedirectUser(null)),
        this._updateCurrentUser(null, !0));
  }
  setPersistence(e) {
    return gn(this.app)
      ? Promise.reject(Jn(this))
      : this.queue(async () => {
          await this.assertedPersistence.setPersistence(Wn(e));
        });
  }
  _getRecaptchaConfig() {
    return this.tenantId == null
      ? this._agentRecaptchaConfig
      : this._tenantRecaptchaConfigs[this.tenantId];
  }
  async validatePassword(e) {
    this._getPasswordPolicyInternal() || (await this._updatePasswordPolicy());
    const n = this._getPasswordPolicyInternal();
    return n.schemaVersion !== this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION
      ? Promise.reject(
          this._errorFactory.create(
            "unsupported-password-policy-schema-version",
            {}
          )
        )
      : n.validatePassword(e);
  }
  _getPasswordPolicyInternal() {
    return this.tenantId === null
      ? this._projectPasswordPolicy
      : this._tenantPasswordPolicies[this.tenantId];
  }
  async _updatePasswordPolicy() {
    const e = await KD(this),
      n = new $D(e);
    this.tenantId === null
      ? (this._projectPasswordPolicy = n)
      : (this._tenantPasswordPolicies[this.tenantId] = n);
  }
  _getPersistence() {
    return this.assertedPersistence.persistence.type;
  }
  _updateErrorMap(e) {
    this._errorFactory = new cl("auth", "Firebase", e());
  }
  onAuthStateChanged(e, n, i) {
    return this.registerStateListener(this.authStateSubscription, e, n, i);
  }
  beforeAuthStateChanged(e, n) {
    return this.beforeStateQueue.pushCallback(e, n);
  }
  onIdTokenChanged(e, n, i) {
    return this.registerStateListener(this.idTokenSubscription, e, n, i);
  }
  authStateReady() {
    return new Promise((e, n) => {
      if (this.currentUser) e();
      else {
        const i = this.onAuthStateChanged(() => {
          i(), e();
        }, n);
      }
    });
  }
  async revokeAccessToken(e) {
    if (this.currentUser) {
      const n = await this.currentUser.getIdToken(),
        i = {
          providerId: "apple.com",
          tokenType: "ACCESS_TOKEN",
          token: e,
          idToken: n,
        };
      this.tenantId != null && (i.tenantId = this.tenantId), await qD(this, i);
    }
  }
  toJSON() {
    var e;
    return {
      apiKey: this.config.apiKey,
      authDomain: this.config.authDomain,
      appName: this.name,
      currentUser:
        (e = this._currentUser) === null || e === void 0 ? void 0 : e.toJSON(),
    };
  }
  async _setRedirectUser(e, n) {
    const i = await this.getOrInitRedirectPersistenceManager(n);
    return e === null ? i.removeCurrentUser() : i.setCurrentUser(e);
  }
  async getOrInitRedirectPersistenceManager(e) {
    if (!this.redirectPersistenceManager) {
      const n = (e && Wn(e)) || this._popupRedirectResolver;
      K(n, this, "argument-error"),
        (this.redirectPersistenceManager = await Vs.create(
          this,
          [Wn(n._redirectPersistence)],
          "redirectUser"
        )),
        (this.redirectUser =
          await this.redirectPersistenceManager.getCurrentUser());
    }
    return this.redirectPersistenceManager;
  }
  async _redirectUserForId(e) {
    var n, i;
    return (
      this._isInitialized && (await this.queue(async () => {})),
      ((n = this._currentUser) === null || n === void 0
        ? void 0
        : n._redirectEventId) === e
        ? this._currentUser
        : ((i = this.redirectUser) === null || i === void 0
            ? void 0
            : i._redirectEventId) === e
        ? this.redirectUser
        : null
    );
  }
  async _persistUserIfCurrent(e) {
    if (e === this.currentUser)
      return this.queue(async () => this.directlySetCurrentUser(e));
  }
  _notifyListenersIfCurrent(e) {
    e === this.currentUser && this.notifyAuthListeners();
  }
  _key() {
    return `${this.config.authDomain}:${this.config.apiKey}:${this.name}`;
  }
  _startProactiveRefresh() {
    (this.isProactiveRefreshEnabled = !0),
      this.currentUser && this._currentUser._startProactiveRefresh();
  }
  _stopProactiveRefresh() {
    (this.isProactiveRefreshEnabled = !1),
      this.currentUser && this._currentUser._stopProactiveRefresh();
  }
  get _currentUser() {
    return this.currentUser;
  }
  notifyAuthListeners() {
    var e, n;
    if (!this._isInitialized) return;
    this.idTokenSubscription.next(this.currentUser);
    const i =
      (n = (e = this.currentUser) === null || e === void 0 ? void 0 : e.uid) !==
        null && n !== void 0
        ? n
        : null;
    this.lastNotifiedUid !== i &&
      ((this.lastNotifiedUid = i),
      this.authStateSubscription.next(this.currentUser));
  }
  registerStateListener(e, n, i, r) {
    if (this._deleted) return () => {};
    const s = typeof n == "function" ? n : n.next.bind(n);
    let a = !1;
    const l = this._isInitialized
      ? Promise.resolve()
      : this._initializationPromise;
    if (
      (K(l, this, "internal-error"),
      l.then(() => {
        a || s(this.currentUser);
      }),
      typeof n == "function")
    ) {
      const u = e.addObserver(n, i, r);
      return () => {
        (a = !0), u();
      };
    } else {
      const u = e.addObserver(n);
      return () => {
        (a = !0), u();
      };
    }
  }
  async directlySetCurrentUser(e) {
    this.currentUser &&
      this.currentUser !== e &&
      this._currentUser._stopProactiveRefresh(),
      e && this.isProactiveRefreshEnabled && e._startProactiveRefresh(),
      (this.currentUser = e),
      e
        ? await this.assertedPersistence.setCurrentUser(e)
        : await this.assertedPersistence.removeCurrentUser();
  }
  queue(e) {
    return (this.operations = this.operations.then(e, e)), this.operations;
  }
  get assertedPersistence() {
    return (
      K(this.persistenceManager, this, "internal-error"),
      this.persistenceManager
    );
  }
  _logFramework(e) {
    !e ||
      this.frameworks.includes(e) ||
      (this.frameworks.push(e),
      this.frameworks.sort(),
      (this.clientVersion = KA(
        this.config.clientPlatform,
        this._getFrameworks()
      )));
  }
  _getFrameworks() {
    return this.frameworks;
  }
  async _getAdditionalHeaders() {
    var e;
    const n = { "X-Client-Version": this.clientVersion };
    this.app.options.appId && (n["X-Firebase-gmpid"] = this.app.options.appId);
    const i = await ((e = this.heartbeatServiceProvider.getImmediate({
      optional: !0,
    })) === null || e === void 0
      ? void 0
      : e.getHeartbeatsHeader());
    i && (n["X-Firebase-Client"] = i);
    const r = await this._getAppCheckToken();
    return r && (n["X-Firebase-AppCheck"] = r), n;
  }
  async _getAppCheckToken() {
    var e;
    const n = await ((e = this.appCheckServiceProvider.getImmediate({
      optional: !0,
    })) === null || e === void 0
      ? void 0
      : e.getToken());
    return (
      n != null &&
        n.error &&
        RD(`Error while retrieving App Check token: ${n.error}`),
      n == null ? void 0 : n.token
    );
  }
}
function Qr(t) {
  return Re(t);
}
class sv {
  constructor(e) {
    (this.auth = e),
      (this.observer = null),
      (this.addObserver = mC((n) => (this.observer = n)));
  }
  get next() {
    return (
      K(this.observer, this.auth, "internal-error"),
      this.observer.next.bind(this.observer)
    );
  }
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ let Zc = {
  async loadJS() {
    throw new Error("Unable to load external scripts");
  },
  recaptchaV2Script: "",
  recaptchaEnterpriseScript: "",
  gapiScript: "",
};
function XD(t) {
  Zc = t;
}
function QA(t) {
  return Zc.loadJS(t);
}
function WD() {
  return Zc.recaptchaEnterpriseScript;
}
function ZD() {
  return Zc.gapiScript;
}
function JD(t) {
  return `__${t}${Math.floor(Math.random() * 1e6)}`;
}
class eO {
  constructor() {
    this.enterprise = new tO();
  }
  ready(e) {
    e();
  }
  execute(e, n) {
    return Promise.resolve("token");
  }
  render(e, n) {
    return "";
  }
}
class tO {
  ready(e) {
    e();
  }
  execute(e, n) {
    return Promise.resolve("token");
  }
  render(e, n) {
    return "";
  }
}
const nO = "recaptcha-enterprise",
  $A = "NO_RECAPTCHA";
class iO {
  constructor(e) {
    (this.type = nO), (this.auth = Qr(e));
  }
  async verify(e = "verify", n = !1) {
    async function i(s) {
      if (!n) {
        if (s.tenantId == null && s._agentRecaptchaConfig != null)
          return s._agentRecaptchaConfig.siteKey;
        if (
          s.tenantId != null &&
          s._tenantRecaptchaConfigs[s.tenantId] !== void 0
        )
          return s._tenantRecaptchaConfigs[s.tenantId].siteKey;
      }
      return new Promise(async (a, l) => {
        xD(s, {
          clientType: "CLIENT_TYPE_WEB",
          version: "RECAPTCHA_ENTERPRISE",
        })
          .then((u) => {
            if (u.recaptchaKey === void 0)
              l(new Error("recaptcha Enterprise site key undefined"));
            else {
              const c = new kD(u);
              return (
                s.tenantId == null
                  ? (s._agentRecaptchaConfig = c)
                  : (s._tenantRecaptchaConfigs[s.tenantId] = c),
                a(c.siteKey)
              );
            }
          })
          .catch((u) => {
            l(u);
          });
      });
    }
    function r(s, a, l) {
      const u = window.grecaptcha;
      ev(u)
        ? u.enterprise.ready(() => {
            u.enterprise
              .execute(s, { action: e })
              .then((c) => {
                a(c);
              })
              .catch(() => {
                a($A);
              });
          })
        : l(Error("No reCAPTCHA enterprise script loaded."));
    }
    return this.auth.settings.appVerificationDisabledForTesting
      ? new eO().execute("siteKey", { action: "verify" })
      : new Promise((s, a) => {
          i(this.auth)
            .then((l) => {
              if (!n && ev(window.grecaptcha)) r(l, s, a);
              else {
                if (typeof window > "u") {
                  a(
                    new Error("RecaptchaVerifier is only supported in browser")
                  );
                  return;
                }
                let u = WD();
                u.length !== 0 && (u += l),
                  QA(u)
                    .then(() => {
                      r(l, s, a);
                    })
                    .catch((c) => {
                      a(c);
                    });
              }
            })
            .catch((l) => {
              a(l);
            });
        });
  }
}
async function qa(t, e, n, i = !1, r = !1) {
  const s = new iO(t);
  let a;
  if (r) a = $A;
  else
    try {
      a = await s.verify(n);
    } catch {
      a = await s.verify(n, !0);
    }
  const l = Object.assign({}, e);
  if (n === "mfaSmsEnrollment" || n === "mfaSmsSignIn") {
    if ("phoneEnrollmentInfo" in l) {
      const u = l.phoneEnrollmentInfo.phoneNumber,
        c = l.phoneEnrollmentInfo.recaptchaToken;
      Object.assign(l, {
        phoneEnrollmentInfo: {
          phoneNumber: u,
          recaptchaToken: c,
          captchaResponse: a,
          clientType: "CLIENT_TYPE_WEB",
          recaptchaVersion: "RECAPTCHA_ENTERPRISE",
        },
      });
    } else if ("phoneSignInInfo" in l) {
      const u = l.phoneSignInInfo.recaptchaToken;
      Object.assign(l, {
        phoneSignInInfo: {
          recaptchaToken: u,
          captchaResponse: a,
          clientType: "CLIENT_TYPE_WEB",
          recaptchaVersion: "RECAPTCHA_ENTERPRISE",
        },
      });
    }
    return l;
  }
  return (
    i
      ? Object.assign(l, { captchaResp: a })
      : Object.assign(l, { captchaResponse: a }),
    Object.assign(l, { clientType: "CLIENT_TYPE_WEB" }),
    Object.assign(l, { recaptchaVersion: "RECAPTCHA_ENTERPRISE" }),
    l
  );
}
async function Xd(t, e, n, i, r) {
  var s, a;
  if (r === "EMAIL_PASSWORD_PROVIDER")
    if (
      !((s = t._getRecaptchaConfig()) === null || s === void 0) &&
      s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")
    ) {
      const l = await qa(t, e, n, n === "getOobCode");
      return i(t, l);
    } else
      return i(t, e).catch(async (l) => {
        if (l.code === "auth/missing-recaptcha-token") {
          console.log(
            `${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`
          );
          const u = await qa(t, e, n, n === "getOobCode");
          return i(t, u);
        } else return Promise.reject(l);
      });
  else if (r === "PHONE_PROVIDER")
    if (
      !((a = t._getRecaptchaConfig()) === null || a === void 0) &&
      a.isProviderEnabled("PHONE_PROVIDER")
    ) {
      const l = await qa(t, e, n);
      return i(t, l).catch(async (u) => {
        var c;
        if (
          ((c = t._getRecaptchaConfig()) === null || c === void 0
            ? void 0
            : c.getProviderEnforcementState("PHONE_PROVIDER")) === "AUDIT" &&
          (u.code === "auth/missing-recaptcha-token" ||
            u.code === "auth/invalid-app-credential")
        ) {
          console.log(
            `Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`
          );
          const f = await qa(t, e, n, !1, !0);
          return i(t, f);
        }
        return Promise.reject(u);
      });
    } else {
      const l = await qa(t, e, n, !1, !0);
      return i(t, l);
    }
  else return Promise.reject(r + " provider is not supported.");
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ function rO(t, e) {
  const n = Wc(t, "auth");
  if (n.isInitialized()) {
    const r = n.getImmediate(),
      s = n.getOptions();
    if (qo(s, e ?? {})) return r;
    ln(r, "already-initialized");
  }
  return n.initialize({ options: e });
}
function sO(t, e) {
  const n = (e == null ? void 0 : e.persistence) || [],
    i = (Array.isArray(n) ? n : [n]).map(Wn);
  e != null && e.errorMap && t._updateErrorMap(e.errorMap),
    t._initializeWithPersistence(
      i,
      e == null ? void 0 : e.popupRedirectResolver
    );
}
function aO(t, e, n) {
  const i = Qr(t);
  K(i._canInitEmulator, i, "emulator-config-failed"),
    K(/^https?:\/\//.test(e), i, "invalid-emulator-scheme");
  const r = !!(n != null && n.disableWarnings),
    s = YA(e),
    { host: a, port: l } = oO(e),
    u = l === null ? "" : `:${l}`;
  (i.config.emulator = { url: `${s}//${a}${u}/` }),
    (i.settings.appVerificationDisabledForTesting = !0),
    (i.emulatorConfig = Object.freeze({
      host: a,
      port: l,
      protocol: s.replace(":", ""),
      options: Object.freeze({ disableWarnings: r }),
    })),
    r || lO();
}
function YA(t) {
  const e = t.indexOf(":");
  return e < 0 ? "" : t.substr(0, e + 1);
}
function oO(t) {
  const e = YA(t),
    n = /(\/\/)?([^?#/]+)/.exec(t.substr(e.length));
  if (!n) return { host: "", port: null };
  const i = n[2].split("@").pop() || "",
    r = /^(\[[^\]]+\])(:|$)/.exec(i);
  if (r) {
    const s = r[1];
    return { host: s, port: av(i.substr(s.length + 1)) };
  } else {
    const [s, a] = i.split(":");
    return { host: s, port: av(a) };
  }
}
function av(t) {
  if (!t) return null;
  const e = Number(t);
  return isNaN(e) ? null : e;
}
function lO() {
  function t() {
    const e = document.createElement("p"),
      n = e.style;
    (e.innerText =
      "Running in emulator mode. Do not use with production credentials."),
      (n.position = "fixed"),
      (n.width = "100%"),
      (n.backgroundColor = "#ffffff"),
      (n.border = ".1em solid #000000"),
      (n.color = "#b50000"),
      (n.bottom = "0px"),
      (n.left = "0px"),
      (n.margin = "0px"),
      (n.zIndex = "10000"),
      (n.textAlign = "center"),
      e.classList.add("firebase-emulator-warning"),
      document.body.appendChild(e);
  }
  typeof console < "u" &&
    typeof console.info == "function" &&
    console.info(
      "WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."
    ),
    typeof window < "u" &&
      typeof document < "u" &&
      (document.readyState === "loading"
        ? window.addEventListener("DOMContentLoaded", t)
        : t());
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class wp {
  constructor(e, n) {
    (this.providerId = e), (this.signInMethod = n);
  }
  toJSON() {
    return Yn("not implemented");
  }
  _getIdTokenResponse(e) {
    return Yn("not implemented");
  }
  _linkToIdToken(e, n) {
    return Yn("not implemented");
  }
  _getReauthenticationResolver(e) {
    return Yn("not implemented");
  }
}
async function uO(t, e) {
  return fi(t, "POST", "/v1/accounts:signUp", e);
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ async function cO(t, e) {
  return dl(t, "POST", "/v1/accounts:signInWithPassword", rr(t, e));
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ async function hO(t, e) {
  return dl(t, "POST", "/v1/accounts:signInWithEmailLink", rr(t, e));
}
async function fO(t, e) {
  return dl(t, "POST", "/v1/accounts:signInWithEmailLink", rr(t, e));
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class Fo extends wp {
  constructor(e, n, i, r = null) {
    super("password", i),
      (this._email = e),
      (this._password = n),
      (this._tenantId = r);
  }
  static _fromEmailAndPassword(e, n) {
    return new Fo(e, n, "password");
  }
  static _fromEmailAndCode(e, n, i = null) {
    return new Fo(e, n, "emailLink", i);
  }
  toJSON() {
    return {
      email: this._email,
      password: this._password,
      signInMethod: this.signInMethod,
      tenantId: this._tenantId,
    };
  }
  static fromJSON(e) {
    const n = typeof e == "string" ? JSON.parse(e) : e;
    if (n != null && n.email && n != null && n.password) {
      if (n.signInMethod === "password")
        return this._fromEmailAndPassword(n.email, n.password);
      if (n.signInMethod === "emailLink")
        return this._fromEmailAndCode(n.email, n.password, n.tenantId);
    }
    return null;
  }
  async _getIdTokenResponse(e) {
    switch (this.signInMethod) {
      case "password":
        const n = {
          returnSecureToken: !0,
          email: this._email,
          password: this._password,
          clientType: "CLIENT_TYPE_WEB",
        };
        return Xd(e, n, "signInWithPassword", cO, "EMAIL_PASSWORD_PROVIDER");
      case "emailLink":
        return hO(e, { email: this._email, oobCode: this._password });
      default:
        ln(e, "internal-error");
    }
  }
  async _linkToIdToken(e, n) {
    switch (this.signInMethod) {
      case "password":
        const i = {
          idToken: n,
          returnSecureToken: !0,
          email: this._email,
          password: this._password,
          clientType: "CLIENT_TYPE_WEB",
        };
        return Xd(e, i, "signUpPassword", uO, "EMAIL_PASSWORD_PROVIDER");
      case "emailLink":
        return fO(e, {
          idToken: n,
          email: this._email,
          oobCode: this._password,
        });
      default:
        ln(e, "internal-error");
    }
  }
  _getReauthenticationResolver(e) {
    return this._getIdTokenResponse(e);
  }
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ async function Ps(t, e) {
  return dl(t, "POST", "/v1/accounts:signInWithIdp", rr(t, e));
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ const dO = "http://localhost";
class Vr extends wp {
  constructor() {
    super(...arguments), (this.pendingToken = null);
  }
  static _fromParams(e) {
    const n = new Vr(e.providerId, e.signInMethod);
    return (
      e.idToken || e.accessToken
        ? (e.idToken && (n.idToken = e.idToken),
          e.accessToken && (n.accessToken = e.accessToken),
          e.nonce && !e.pendingToken && (n.nonce = e.nonce),
          e.pendingToken && (n.pendingToken = e.pendingToken))
        : e.oauthToken && e.oauthTokenSecret
        ? ((n.accessToken = e.oauthToken), (n.secret = e.oauthTokenSecret))
        : ln("argument-error"),
      n
    );
  }
  toJSON() {
    return {
      idToken: this.idToken,
      accessToken: this.accessToken,
      secret: this.secret,
      nonce: this.nonce,
      pendingToken: this.pendingToken,
      providerId: this.providerId,
      signInMethod: this.signInMethod,
    };
  }
  static fromJSON(e) {
    const n = typeof e == "string" ? JSON.parse(e) : e,
      { providerId: i, signInMethod: r } = n,
      s = yp(n, ["providerId", "signInMethod"]);
    if (!i || !r) return null;
    const a = new Vr(i, r);
    return (
      (a.idToken = s.idToken || void 0),
      (a.accessToken = s.accessToken || void 0),
      (a.secret = s.secret),
      (a.nonce = s.nonce),
      (a.pendingToken = s.pendingToken || null),
      a
    );
  }
  _getIdTokenResponse(e) {
    const n = this.buildRequest();
    return Ps(e, n);
  }
  _linkToIdToken(e, n) {
    const i = this.buildRequest();
    return (i.idToken = n), Ps(e, i);
  }
  _getReauthenticationResolver(e) {
    const n = this.buildRequest();
    return (n.autoCreate = !1), Ps(e, n);
  }
  buildRequest() {
    const e = { requestUri: dO, returnSecureToken: !0 };
    if (this.pendingToken) e.pendingToken = this.pendingToken;
    else {
      const n = {};
      this.idToken && (n.id_token = this.idToken),
        this.accessToken && (n.access_token = this.accessToken),
        this.secret && (n.oauth_token_secret = this.secret),
        (n.providerId = this.providerId),
        this.nonce && !this.pendingToken && (n.nonce = this.nonce),
        (e.postBody = hl(n));
    }
    return e;
  }
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ function mO(t) {
  switch (t) {
    case "recoverEmail":
      return "RECOVER_EMAIL";
    case "resetPassword":
      return "PASSWORD_RESET";
    case "signIn":
      return "EMAIL_SIGNIN";
    case "verifyEmail":
      return "VERIFY_EMAIL";
    case "verifyAndChangeEmail":
      return "VERIFY_AND_CHANGE_EMAIL";
    case "revertSecondFactorAddition":
      return "REVERT_SECOND_FACTOR_ADDITION";
    default:
      return null;
  }
}
function pO(t) {
  const e = Xa(Wa(t)).link,
    n = e ? Xa(Wa(e)).deep_link_id : null,
    i = Xa(Wa(t)).deep_link_id;
  return (i ? Xa(Wa(i)).link : null) || i || n || e || t;
}
class Sp {
  constructor(e) {
    var n, i, r, s, a, l;
    const u = Xa(Wa(e)),
      c = (n = u.apiKey) !== null && n !== void 0 ? n : null,
      f = (i = u.oobCode) !== null && i !== void 0 ? i : null,
      p = mO((r = u.mode) !== null && r !== void 0 ? r : null);
    K(c && f && p, "argument-error"),
      (this.apiKey = c),
      (this.operation = p),
      (this.code = f),
      (this.continueUrl =
        (s = u.continueUrl) !== null && s !== void 0 ? s : null),
      (this.languageCode =
        (a = u.languageCode) !== null && a !== void 0 ? a : null),
      (this.tenantId = (l = u.tenantId) !== null && l !== void 0 ? l : null);
  }
  static parseLink(e) {
    const n = pO(e);
    try {
      return new Sp(n);
    } catch {
      return null;
    }
  }
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class ua {
  constructor() {
    this.providerId = ua.PROVIDER_ID;
  }
  static credential(e, n) {
    return Fo._fromEmailAndPassword(e, n);
  }
  static credentialWithLink(e, n) {
    const i = Sp.parseLink(n);
    return K(i, "argument-error"), Fo._fromEmailAndCode(e, i.code, i.tenantId);
  }
}
ua.PROVIDER_ID = "password";
ua.EMAIL_PASSWORD_SIGN_IN_METHOD = "password";
ua.EMAIL_LINK_SIGN_IN_METHOD = "emailLink";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class XA {
  constructor(e) {
    (this.providerId = e),
      (this.defaultLanguageCode = null),
      (this.customParameters = {});
  }
  setDefaultLanguage(e) {
    this.defaultLanguageCode = e;
  }
  setCustomParameters(e) {
    return (this.customParameters = e), this;
  }
  getCustomParameters() {
    return this.customParameters;
  }
}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class ml extends XA {
  constructor() {
    super(...arguments), (this.scopes = []);
  }
  addScope(e) {
    return this.scopes.includes(e) || this.scopes.push(e), this;
  }
  getScopes() {
    return [...this.scopes];
  }
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class bi extends ml {
  constructor() {
    super("facebook.com");
  }
  static credential(e) {
    return Vr._fromParams({
      providerId: bi.PROVIDER_ID,
      signInMethod: bi.FACEBOOK_SIGN_IN_METHOD,
      accessToken: e,
    });
  }
  static credentialFromResult(e) {
    return bi.credentialFromTaggedObject(e);
  }
  static credentialFromError(e) {
    return bi.credentialFromTaggedObject(e.customData || {});
  }
  static credentialFromTaggedObject({ _tokenResponse: e }) {
    if (!e || !("oauthAccessToken" in e) || !e.oauthAccessToken) return null;
    try {
      return bi.credential(e.oauthAccessToken);
    } catch {
      return null;
    }
  }
}
bi.FACEBOOK_SIGN_IN_METHOD = "facebook.com";
bi.PROVIDER_ID = "facebook.com";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class Ii extends ml {
  constructor() {
    super("google.com"), this.addScope("profile");
  }
  static credential(e, n) {
    return Vr._fromParams({
      providerId: Ii.PROVIDER_ID,
      signInMethod: Ii.GOOGLE_SIGN_IN_METHOD,
      idToken: e,
      accessToken: n,
    });
  }
  static credentialFromResult(e) {
    return Ii.credentialFromTaggedObject(e);
  }
  static credentialFromError(e) {
    return Ii.credentialFromTaggedObject(e.customData || {});
  }
  static credentialFromTaggedObject({ _tokenResponse: e }) {
    if (!e) return null;
    const { oauthIdToken: n, oauthAccessToken: i } = e;
    if (!n && !i) return null;
    try {
      return Ii.credential(n, i);
    } catch {
      return null;
    }
  }
}
Ii.GOOGLE_SIGN_IN_METHOD = "google.com";
Ii.PROVIDER_ID = "google.com";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class Ci extends ml {
  constructor() {
    super("github.com");
  }
  static credential(e) {
    return Vr._fromParams({
      providerId: Ci.PROVIDER_ID,
      signInMethod: Ci.GITHUB_SIGN_IN_METHOD,
      accessToken: e,
    });
  }
  static credentialFromResult(e) {
    return Ci.credentialFromTaggedObject(e);
  }
  static credentialFromError(e) {
    return Ci.credentialFromTaggedObject(e.customData || {});
  }
  static credentialFromTaggedObject({ _tokenResponse: e }) {
    if (!e || !("oauthAccessToken" in e) || !e.oauthAccessToken) return null;
    try {
      return Ci.credential(e.oauthAccessToken);
    } catch {
      return null;
    }
  }
}
Ci.GITHUB_SIGN_IN_METHOD = "github.com";
Ci.PROVIDER_ID = "github.com";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class Di extends ml {
  constructor() {
    super("twitter.com");
  }
  static credential(e, n) {
    return Vr._fromParams({
      providerId: Di.PROVIDER_ID,
      signInMethod: Di.TWITTER_SIGN_IN_METHOD,
      oauthToken: e,
      oauthTokenSecret: n,
    });
  }
  static credentialFromResult(e) {
    return Di.credentialFromTaggedObject(e);
  }
  static credentialFromError(e) {
    return Di.credentialFromTaggedObject(e.customData || {});
  }
  static credentialFromTaggedObject({ _tokenResponse: e }) {
    if (!e) return null;
    const { oauthAccessToken: n, oauthTokenSecret: i } = e;
    if (!n || !i) return null;
    try {
      return Di.credential(n, i);
    } catch {
      return null;
    }
  }
}
Di.TWITTER_SIGN_IN_METHOD = "twitter.com";
Di.PROVIDER_ID = "twitter.com";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ async function gO(t, e) {
  return dl(t, "POST", "/v1/accounts:signUp", rr(t, e));
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class Pr {
  constructor(e) {
    (this.user = e.user),
      (this.providerId = e.providerId),
      (this._tokenResponse = e._tokenResponse),
      (this.operationType = e.operationType);
  }
  static async _fromIdTokenResponse(e, n, i, r = !1) {
    const s = await Xn._fromIdTokenResponse(e, i, r),
      a = ov(i);
    return new Pr({
      user: s,
      providerId: a,
      _tokenResponse: i,
      operationType: n,
    });
  }
  static async _forOperation(e, n, i) {
    await e._updateTokensIfNecessary(i, !0);
    const r = ov(i);
    return new Pr({
      user: e,
      providerId: r,
      _tokenResponse: i,
      operationType: n,
    });
  }
}
function ov(t) {
  return t.providerId ? t.providerId : "phoneNumber" in t ? "phone" : null;
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class _c extends Nn {
  constructor(e, n, i, r) {
    var s;
    super(n.code, n.message),
      (this.operationType = i),
      (this.user = r),
      Object.setPrototypeOf(this, _c.prototype),
      (this.customData = {
        appName: e.name,
        tenantId: (s = e.tenantId) !== null && s !== void 0 ? s : void 0,
        _serverResponse: n.customData._serverResponse,
        operationType: i,
      });
  }
  static _fromErrorAndOperation(e, n, i, r) {
    return new _c(e, n, i, r);
  }
}
function WA(t, e, n, i) {
  return (
    e === "reauthenticate"
      ? n._getReauthenticationResolver(t)
      : n._getIdTokenResponse(t)
  ).catch((s) => {
    throw s.code === "auth/multi-factor-auth-required"
      ? _c._fromErrorAndOperation(t, s, e, i)
      : s;
  });
}
async function _O(t, e, n = !1) {
  const i = await Qs(t, e._linkToIdToken(t.auth, await t.getIdToken()), n);
  return Pr._forOperation(t, "link", i);
}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ async function yO(t, e, n = !1) {
  const { auth: i } = t;
  if (gn(i.app)) return Promise.reject(Jn(i));
  const r = "reauthenticate";
  try {
    const s = await Qs(t, WA(i, r, e, t), n);
    K(s.idToken, i, "internal-error");
    const a = Tp(s.idToken);
    K(a, i, "internal-error");
    const { sub: l } = a;
    return K(t.uid === l, i, "user-mismatch"), Pr._forOperation(t, r, s);
  } catch (s) {
    throw (
      ((s == null ? void 0 : s.code) === "auth/user-not-found" &&
        ln(i, "user-mismatch"),
      s)
    );
  }
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ async function ZA(t, e, n = !1) {
  if (gn(t.app)) return Promise.reject(Jn(t));
  const i = "signIn",
    r = await WA(t, i, e),
    s = await Pr._fromIdTokenResponse(t, i, r);
  return n || (await t._updateCurrentUser(s.user)), s;
}
async function vO(t, e) {
  return ZA(Qr(t), e);
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ async function JA(t) {
  const e = Qr(t);
  e._getPasswordPolicyInternal() && (await e._updatePasswordPolicy());
}
async function EO(t, e, n) {
  if (gn(t.app)) return Promise.reject(Jn(t));
  const i = Qr(t),
    a = await Xd(
      i,
      {
        returnSecureToken: !0,
        email: e,
        password: n,
        clientType: "CLIENT_TYPE_WEB",
      },
      "signUpPassword",
      gO,
      "EMAIL_PASSWORD_PROVIDER"
    ).catch((u) => {
      throw (u.code === "auth/password-does-not-meet-requirements" && JA(t), u);
    }),
    l = await Pr._fromIdTokenResponse(i, "signIn", a);
  return await i._updateCurrentUser(l.user), l;
}
function TO(t, e, n) {
  return gn(t.app)
    ? Promise.reject(Jn(t))
    : vO(Re(t), ua.credential(e, n)).catch(async (i) => {
        throw (
          (i.code === "auth/password-does-not-meet-requirements" && JA(t), i)
        );
      });
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ async function AO(t, e) {
  return fi(t, "POST", "/v1/accounts:update", e);
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ async function wO(t, { displayName: e, photoURL: n }) {
  if (e === void 0 && n === void 0) return;
  const i = Re(t),
    s = {
      idToken: await i.getIdToken(),
      displayName: e,
      photoUrl: n,
      returnSecureToken: !0,
    },
    a = await Qs(i, AO(i.auth, s));
  (i.displayName = a.displayName || null), (i.photoURL = a.photoUrl || null);
  const l = i.providerData.find(({ providerId: u }) => u === "password");
  l && ((l.displayName = i.displayName), (l.photoURL = i.photoURL)),
    await i._updateTokensIfNecessary(a);
}
function SO(t, e, n, i) {
  return Re(t).onIdTokenChanged(e, n, i);
}
function RO(t, e, n) {
  return Re(t).beforeAuthStateChanged(e, n);
}
function bO(t, e, n, i) {
  return Re(t).onAuthStateChanged(e, n, i);
}
function IO(t) {
  return Re(t).signOut();
}
const yc = "__sak";
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class ew {
  constructor(e, n) {
    (this.storageRetriever = e), (this.type = n);
  }
  _isAvailable() {
    try {
      return this.storage
        ? (this.storage.setItem(yc, "1"),
          this.storage.removeItem(yc),
          Promise.resolve(!0))
        : Promise.resolve(!1);
    } catch {
      return Promise.resolve(!1);
    }
  }
  _set(e, n) {
    return this.storage.setItem(e, JSON.stringify(n)), Promise.resolve();
  }
  _get(e) {
    const n = this.storage.getItem(e);
    return Promise.resolve(n ? JSON.parse(n) : null);
  }
  _remove(e) {
    return this.storage.removeItem(e), Promise.resolve();
  }
  get storage() {
    return this.storageRetriever();
  }
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ const CO = 1e3,
  DO = 10;
class tw extends ew {
  constructor() {
    super(() => window.localStorage, "LOCAL"),
      (this.boundEventHandler = (e, n) => this.onStorageEvent(e, n)),
      (this.listeners = {}),
      (this.localCache = {}),
      (this.pollTimer = null),
      (this.fallbackToPolling = GA()),
      (this._shouldAllowMigration = !0);
  }
  forAllChangedKeys(e) {
    for (const n of Object.keys(this.listeners)) {
      const i = this.storage.getItem(n),
        r = this.localCache[n];
      i !== r && e(n, r, i);
    }
  }
  onStorageEvent(e, n = !1) {
    if (!e.key) {
      this.forAllChangedKeys((a, l, u) => {
        this.notifyListeners(a, u);
      });
      return;
    }
    const i = e.key;
    n ? this.detachListener() : this.stopPolling();
    const r = () => {
        const a = this.storage.getItem(i);
        (!n && this.localCache[i] === a) || this.notifyListeners(i, a);
      },
      s = this.storage.getItem(i);
    FD() && s !== e.newValue && e.newValue !== e.oldValue
      ? setTimeout(r, DO)
      : r();
  }
  notifyListeners(e, n) {
    this.localCache[e] = n;
    const i = this.listeners[e];
    if (i) for (const r of Array.from(i)) r(n && JSON.parse(n));
  }
  startPolling() {
    this.stopPolling(),
      (this.pollTimer = setInterval(() => {
        this.forAllChangedKeys((e, n, i) => {
          this.onStorageEvent(
            new StorageEvent("storage", { key: e, oldValue: n, newValue: i }),
            !0
          );
        });
      }, CO));
  }
  stopPolling() {
    this.pollTimer && (clearInterval(this.pollTimer), (this.pollTimer = null));
  }
  attachListener() {
    window.addEventListener("storage", this.boundEventHandler);
  }
  detachListener() {
    window.removeEventListener("storage", this.boundEventHandler);
  }
  _addListener(e, n) {
    Object.keys(this.listeners).length === 0 &&
      (this.fallbackToPolling ? this.startPolling() : this.attachListener()),
      this.listeners[e] ||
        ((this.listeners[e] = new Set()),
        (this.localCache[e] = this.storage.getItem(e))),
      this.listeners[e].add(n);
  }
  _removeListener(e, n) {
    this.listeners[e] &&
      (this.listeners[e].delete(n),
      this.listeners[e].size === 0 && delete this.listeners[e]),
      Object.keys(this.listeners).length === 0 &&
        (this.detachListener(), this.stopPolling());
  }
  async _set(e, n) {
    await super._set(e, n), (this.localCache[e] = JSON.stringify(n));
  }
  async _get(e) {
    const n = await super._get(e);
    return (this.localCache[e] = JSON.stringify(n)), n;
  }
  async _remove(e) {
    await super._remove(e), delete this.localCache[e];
  }
}
tw.type = "LOCAL";
const OO = tw;
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class nw extends ew {
  constructor() {
    super(() => window.sessionStorage, "SESSION");
  }
  _addListener(e, n) {}
  _removeListener(e, n) {}
}
nw.type = "SESSION";
const iw = nw;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ function NO(t) {
  return Promise.all(
    t.map(async (e) => {
      try {
        return { fulfilled: !0, value: await e };
      } catch (n) {
        return { fulfilled: !1, reason: n };
      }
    })
  );
}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class Jc {
  constructor(e) {
    (this.eventTarget = e),
      (this.handlersMap = {}),
      (this.boundEventHandler = this.handleEvent.bind(this));
  }
  static _getInstance(e) {
    const n = this.receivers.find((r) => r.isListeningto(e));
    if (n) return n;
    const i = new Jc(e);
    return this.receivers.push(i), i;
  }
  isListeningto(e) {
    return this.eventTarget === e;
  }
  async handleEvent(e) {
    const n = e,
      { eventId: i, eventType: r, data: s } = n.data,
      a = this.handlersMap[r];
    if (!(a != null && a.size)) return;
    n.ports[0].postMessage({ status: "ack", eventId: i, eventType: r });
    const l = Array.from(a).map(async (c) => c(n.origin, s)),
      u = await NO(l);
    n.ports[0].postMessage({
      status: "done",
      eventId: i,
      eventType: r,
      response: u,
    });
  }
  _subscribe(e, n) {
    Object.keys(this.handlersMap).length === 0 &&
      this.eventTarget.addEventListener("message", this.boundEventHandler),
      this.handlersMap[e] || (this.handlersMap[e] = new Set()),
      this.handlersMap[e].add(n);
  }
  _unsubscribe(e, n) {
    this.handlersMap[e] && n && this.handlersMap[e].delete(n),
      (!n || this.handlersMap[e].size === 0) && delete this.handlersMap[e],
      Object.keys(this.handlersMap).length === 0 &&
        this.eventTarget.removeEventListener("message", this.boundEventHandler);
  }
}
Jc.receivers = [];
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ function Rp(t = "", e = 10) {
  let n = "";
  for (let i = 0; i < e; i++) n += Math.floor(Math.random() * 10);
  return t + n;
}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class MO {
  constructor(e) {
    (this.target = e), (this.handlers = new Set());
  }
  removeMessageHandler(e) {
    e.messageChannel &&
      (e.messageChannel.port1.removeEventListener("message", e.onMessage),
      e.messageChannel.port1.close()),
      this.handlers.delete(e);
  }
  async _send(e, n, i = 50) {
    const r = typeof MessageChannel < "u" ? new MessageChannel() : null;
    if (!r) throw new Error("connection_unavailable");
    let s, a;
    return new Promise((l, u) => {
      const c = Rp("", 20);
      r.port1.start();
      const f = setTimeout(() => {
        u(new Error("unsupported_event"));
      }, i);
      (a = {
        messageChannel: r,
        onMessage(p) {
          const m = p;
          if (m.data.eventId === c)
            switch (m.data.status) {
              case "ack":
                clearTimeout(f),
                  (s = setTimeout(() => {
                    u(new Error("timeout"));
                  }, 3e3));
                break;
              case "done":
                clearTimeout(s), l(m.data.response);
                break;
              default:
                clearTimeout(f),
                  clearTimeout(s),
                  u(new Error("invalid_response"));
                break;
            }
        },
      }),
        this.handlers.add(a),
        r.port1.addEventListener("message", a.onMessage),
        this.target.postMessage({ eventType: e, eventId: c, data: n }, [
          r.port2,
        ]);
    }).finally(() => {
      a && this.removeMessageHandler(a);
    });
  }
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ function wn() {
  return window;
}
function kO(t) {
  wn().location.href = t;
}
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ function rw() {
  return (
    typeof wn().WorkerGlobalScope < "u" &&
    typeof wn().importScripts == "function"
  );
}
async function xO() {
  if (!(navigator != null && navigator.serviceWorker)) return null;
  try {
    return (await navigator.serviceWorker.ready).active;
  } catch {
    return null;
  }
}
function VO() {
  var t;
  return (
    ((t = navigator == null ? void 0 : navigator.serviceWorker) === null ||
    t === void 0
      ? void 0
      : t.controller) || null
  );
}
function PO() {
  return rw() ? self : null;
}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ const sw = "firebaseLocalStorageDb",
  UO = 1,
  vc = "firebaseLocalStorage",
  aw = "fbase_key";
class pl {
  constructor(e) {
    this.request = e;
  }
  toPromise() {
    return new Promise((e, n) => {
      this.request.addEventListener("success", () => {
        e(this.request.result);
      }),
        this.request.addEventListener("error", () => {
          n(this.request.error);
        });
    });
  }
}
function eh(t, e) {
  return t.transaction([vc], e ? "readwrite" : "readonly").objectStore(vc);
}
function LO() {
  const t = indexedDB.deleteDatabase(sw);
  return new pl(t).toPromise();
}
function Wd() {
  const t = indexedDB.open(sw, UO);
  return new Promise((e, n) => {
    t.addEventListener("error", () => {
      n(t.error);
    }),
      t.addEventListener("upgradeneeded", () => {
        const i = t.result;
        try {
          i.createObjectStore(vc, { keyPath: aw });
        } catch (r) {
          n(r);
        }
      }),
      t.addEventListener("success", async () => {
        const i = t.result;
        i.objectStoreNames.contains(vc)
          ? e(i)
          : (i.close(), await LO(), e(await Wd()));
      });
  });
}
async function lv(t, e, n) {
  const i = eh(t, !0).put({ [aw]: e, value: n });
  return new pl(i).toPromise();
}
async function BO(t, e) {
  const n = eh(t, !1).get(e),
    i = await new pl(n).toPromise();
  return i === void 0 ? null : i.value;
}
function uv(t, e) {
  const n = eh(t, !0).delete(e);
  return new pl(n).toPromise();
}
const zO = 800,
  jO = 3;
class ow {
  constructor() {
    (this.type = "LOCAL"),
      (this._shouldAllowMigration = !0),
      (this.listeners = {}),
      (this.localCache = {}),
      (this.pollTimer = null),
      (this.pendingWrites = 0),
      (this.receiver = null),
      (this.sender = null),
      (this.serviceWorkerReceiverAvailable = !1),
      (this.activeServiceWorker = null),
      (this._workerInitializationPromise =
        this.initializeServiceWorkerMessaging().then(
          () => {},
          () => {}
        ));
  }
  async _openDb() {
    return this.db ? this.db : ((this.db = await Wd()), this.db);
  }
  async _withRetries(e) {
    let n = 0;
    for (;;)
      try {
        const i = await this._openDb();
        return await e(i);
      } catch (i) {
        if (n++ > jO) throw i;
        this.db && (this.db.close(), (this.db = void 0));
      }
  }
  async initializeServiceWorkerMessaging() {
    return rw() ? this.initializeReceiver() : this.initializeSender();
  }
  async initializeReceiver() {
    (this.receiver = Jc._getInstance(PO())),
      this.receiver._subscribe("keyChanged", async (e, n) => ({
        keyProcessed: (await this._poll()).includes(n.key),
      })),
      this.receiver._subscribe("ping", async (e, n) => ["keyChanged"]);
  }
  async initializeSender() {
    var e, n;
    if (((this.activeServiceWorker = await xO()), !this.activeServiceWorker))
      return;
    this.sender = new MO(this.activeServiceWorker);
    const i = await this.sender._send("ping", {}, 800);
    i &&
      !((e = i[0]) === null || e === void 0) &&
      e.fulfilled &&
      !((n = i[0]) === null || n === void 0) &&
      n.value.includes("keyChanged") &&
      (this.serviceWorkerReceiverAvailable = !0);
  }
  async notifyServiceWorker(e) {
    if (
      !(
        !this.sender ||
        !this.activeServiceWorker ||
        VO() !== this.activeServiceWorker
      )
    )
      try {
        await this.sender._send(
          "keyChanged",
          { key: e },
          this.serviceWorkerReceiverAvailable ? 800 : 50
        );
      } catch {}
  }
  async _isAvailable() {
    try {
      if (!indexedDB) return !1;
      const e = await Wd();
      return await lv(e, yc, "1"), await uv(e, yc), !0;
    } catch {}
    return !1;
  }
  async _withPendingWrite(e) {
    this.pendingWrites++;
    try {
      await e();
    } finally {
      this.pendingWrites--;
    }
  }
  async _set(e, n) {
    return this._withPendingWrite(
      async () => (
        await this._withRetries((i) => lv(i, e, n)),
        (this.localCache[e] = n),
        this.notifyServiceWorker(e)
      )
    );
  }
  async _get(e) {
    const n = await this._withRetries((i) => BO(i, e));
    return (this.localCache[e] = n), n;
  }
  async _remove(e) {
    return this._withPendingWrite(
      async () => (
        await this._withRetries((n) => uv(n, e)),
        delete this.localCache[e],
        this.notifyServiceWorker(e)
      )
    );
  }
  async _poll() {
    const e = await this._withRetries((r) => {
      const s = eh(r, !1).getAll();
      return new pl(s).toPromise();
    });
    if (!e) return [];
    if (this.pendingWrites !== 0) return [];
    const n = [],
      i = new Set();
    if (e.length !== 0)
      for (const { fbase_key: r, value: s } of e)
        i.add(r),
          JSON.stringify(this.localCache[r]) !== JSON.stringify(s) &&
            (this.notifyListeners(r, s), n.push(r));
    for (const r of Object.keys(this.localCache))
      this.localCache[r] &&
        !i.has(r) &&
        (this.notifyListeners(r, null), n.push(r));
    return n;
  }
  notifyListeners(e, n) {
    this.localCache[e] = n;
    const i = this.listeners[e];
    if (i) for (const r of Array.from(i)) r(n);
  }
  startPolling() {
    this.stopPolling(),
      (this.pollTimer = setInterval(async () => this._poll(), zO));
  }
  stopPolling() {
    this.pollTimer && (clearInterval(this.pollTimer), (this.pollTimer = null));
  }
  _addListener(e, n) {
    Object.keys(this.listeners).length === 0 && this.startPolling(),
      this.listeners[e] || ((this.listeners[e] = new Set()), this._get(e)),
      this.listeners[e].add(n);
  }
  _removeListener(e, n) {
    this.listeners[e] &&
      (this.listeners[e].delete(n),
      this.listeners[e].size === 0 && delete this.listeners[e]),
      Object.keys(this.listeners).length === 0 && this.stopPolling();
  }
}
ow.type = "LOCAL";
const qO = ow;
new fl(3e4, 6e4);
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ function HO(t, e) {
  return e
    ? Wn(e)
    : (K(t._popupRedirectResolver, t, "argument-error"),
      t._popupRedirectResolver);
}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class bp extends wp {
  constructor(e) {
    super("custom", "custom"), (this.params = e);
  }
  _getIdTokenResponse(e) {
    return Ps(e, this._buildIdpRequest());
  }
  _linkToIdToken(e, n) {
    return Ps(e, this._buildIdpRequest(n));
  }
  _getReauthenticationResolver(e) {
    return Ps(e, this._buildIdpRequest());
  }
  _buildIdpRequest(e) {
    const n = {
      requestUri: this.params.requestUri,
      sessionId: this.params.sessionId,
      postBody: this.params.postBody,
      tenantId: this.params.tenantId,
      pendingToken: this.params.pendingToken,
      returnSecureToken: !0,
      returnIdpCredential: !0,
    };
    return e && (n.idToken = e), n;
  }
}
function FO(t) {
  return ZA(t.auth, new bp(t), t.bypassAuthState);
}
function GO(t) {
  const { auth: e, user: n } = t;
  return K(n, e, "internal-error"), yO(n, new bp(t), t.bypassAuthState);
}
async function KO(t) {
  const { auth: e, user: n } = t;
  return K(n, e, "internal-error"), _O(n, new bp(t), t.bypassAuthState);
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class lw {
  constructor(e, n, i, r, s = !1) {
    (this.auth = e),
      (this.resolver = i),
      (this.user = r),
      (this.bypassAuthState = s),
      (this.pendingPromise = null),
      (this.eventManager = null),
      (this.filter = Array.isArray(n) ? n : [n]);
  }
  execute() {
    return new Promise(async (e, n) => {
      this.pendingPromise = { resolve: e, reject: n };
      try {
        (this.eventManager = await this.resolver._initialize(this.auth)),
          await this.onExecution(),
          this.eventManager.registerConsumer(this);
      } catch (i) {
        this.reject(i);
      }
    });
  }
  async onAuthEvent(e) {
    const {
      urlResponse: n,
      sessionId: i,
      postBody: r,
      tenantId: s,
      error: a,
      type: l,
    } = e;
    if (a) {
      this.reject(a);
      return;
    }
    const u = {
      auth: this.auth,
      requestUri: n,
      sessionId: i,
      tenantId: s || void 0,
      postBody: r || void 0,
      user: this.user,
      bypassAuthState: this.bypassAuthState,
    };
    try {
      this.resolve(await this.getIdpTask(l)(u));
    } catch (c) {
      this.reject(c);
    }
  }
  onError(e) {
    this.reject(e);
  }
  getIdpTask(e) {
    switch (e) {
      case "signInViaPopup":
      case "signInViaRedirect":
        return FO;
      case "linkViaPopup":
      case "linkViaRedirect":
        return KO;
      case "reauthViaPopup":
      case "reauthViaRedirect":
        return GO;
      default:
        ln(this.auth, "internal-error");
    }
  }
  resolve(e) {
    li(this.pendingPromise, "Pending promise was never set"),
      this.pendingPromise.resolve(e),
      this.unregisterAndCleanUp();
  }
  reject(e) {
    li(this.pendingPromise, "Pending promise was never set"),
      this.pendingPromise.reject(e),
      this.unregisterAndCleanUp();
  }
  unregisterAndCleanUp() {
    this.eventManager && this.eventManager.unregisterConsumer(this),
      (this.pendingPromise = null),
      this.cleanUp();
  }
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ const QO = new fl(2e3, 1e4);
class Rs extends lw {
  constructor(e, n, i, r, s) {
    super(e, n, r, s),
      (this.provider = i),
      (this.authWindow = null),
      (this.pollId = null),
      Rs.currentPopupAction && Rs.currentPopupAction.cancel(),
      (Rs.currentPopupAction = this);
  }
  async executeNotNull() {
    const e = await this.execute();
    return K(e, this.auth, "internal-error"), e;
  }
  async onExecution() {
    li(this.filter.length === 1, "Popup operations only handle one event");
    const e = Rp();
    (this.authWindow = await this.resolver._openPopup(
      this.auth,
      this.provider,
      this.filter[0],
      e
    )),
      (this.authWindow.associatedEvent = e),
      this.resolver._originValidation(this.auth).catch((n) => {
        this.reject(n);
      }),
      this.resolver._isIframeWebStorageSupported(this.auth, (n) => {
        n || this.reject(An(this.auth, "web-storage-unsupported"));
      }),
      this.pollUserCancellation();
  }
  get eventId() {
    var e;
    return (
      ((e = this.authWindow) === null || e === void 0
        ? void 0
        : e.associatedEvent) || null
    );
  }
  cancel() {
    this.reject(An(this.auth, "cancelled-popup-request"));
  }
  cleanUp() {
    this.authWindow && this.authWindow.close(),
      this.pollId && window.clearTimeout(this.pollId),
      (this.authWindow = null),
      (this.pollId = null),
      (Rs.currentPopupAction = null);
  }
  pollUserCancellation() {
    const e = () => {
      var n, i;
      if (
        !(
          (i =
            (n = this.authWindow) === null || n === void 0
              ? void 0
              : n.window) === null || i === void 0
        ) &&
        i.closed
      ) {
        this.pollId = window.setTimeout(() => {
          (this.pollId = null),
            this.reject(An(this.auth, "popup-closed-by-user"));
        }, 8e3);
        return;
      }
      this.pollId = window.setTimeout(e, QO.get());
    };
    e();
  }
}
Rs.currentPopupAction = null;
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ const $O = "pendingRedirect",
  Du = new Map();
class YO extends lw {
  constructor(e, n, i = !1) {
    super(
      e,
      ["signInViaRedirect", "linkViaRedirect", "reauthViaRedirect", "unknown"],
      n,
      void 0,
      i
    ),
      (this.eventId = null);
  }
  async execute() {
    let e = Du.get(this.auth._key());
    if (!e) {
      try {
        const i = (await XO(this.resolver, this.auth))
          ? await super.execute()
          : null;
        e = () => Promise.resolve(i);
      } catch (n) {
        e = () => Promise.reject(n);
      }
      Du.set(this.auth._key(), e);
    }
    return (
      this.bypassAuthState ||
        Du.set(this.auth._key(), () => Promise.resolve(null)),
      e()
    );
  }
  async onAuthEvent(e) {
    if (e.type === "signInViaRedirect") return super.onAuthEvent(e);
    if (e.type === "unknown") {
      this.resolve(null);
      return;
    }
    if (e.eventId) {
      const n = await this.auth._redirectUserForId(e.eventId);
      if (n) return (this.user = n), super.onAuthEvent(e);
      this.resolve(null);
    }
  }
  async onExecution() {}
  cleanUp() {}
}
async function XO(t, e) {
  const n = JO(e),
    i = ZO(t);
  if (!(await i._isAvailable())) return !1;
  const r = (await i._get(n)) === "true";
  return await i._remove(n), r;
}
function WO(t, e) {
  Du.set(t._key(), e);
}
function ZO(t) {
  return Wn(t._redirectPersistence);
}
function JO(t) {
  return Cu($O, t.config.apiKey, t.name);
}
async function eN(t, e, n = !1) {
  if (gn(t.app)) return Promise.reject(Jn(t));
  const i = Qr(t),
    r = HO(i, e),
    a = await new YO(i, r, n).execute();
  return (
    a &&
      !n &&
      (delete a.user._redirectEventId,
      await i._persistUserIfCurrent(a.user),
      await i._setRedirectUser(null, e)),
    a
  );
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ const tN = 10 * 60 * 1e3;
class nN {
  constructor(e) {
    (this.auth = e),
      (this.cachedEventUids = new Set()),
      (this.consumers = new Set()),
      (this.queuedRedirectEvent = null),
      (this.hasHandledPotentialRedirect = !1),
      (this.lastProcessedEventTime = Date.now());
  }
  registerConsumer(e) {
    this.consumers.add(e),
      this.queuedRedirectEvent &&
        this.isEventForConsumer(this.queuedRedirectEvent, e) &&
        (this.sendToConsumer(this.queuedRedirectEvent, e),
        this.saveEventToCache(this.queuedRedirectEvent),
        (this.queuedRedirectEvent = null));
  }
  unregisterConsumer(e) {
    this.consumers.delete(e);
  }
  onEvent(e) {
    if (this.hasEventBeenHandled(e)) return !1;
    let n = !1;
    return (
      this.consumers.forEach((i) => {
        this.isEventForConsumer(e, i) &&
          ((n = !0), this.sendToConsumer(e, i), this.saveEventToCache(e));
      }),
      this.hasHandledPotentialRedirect ||
        !iN(e) ||
        ((this.hasHandledPotentialRedirect = !0),
        n || ((this.queuedRedirectEvent = e), (n = !0))),
      n
    );
  }
  sendToConsumer(e, n) {
    var i;
    if (e.error && !uw(e)) {
      const r =
        ((i = e.error.code) === null || i === void 0
          ? void 0
          : i.split("auth/")[1]) || "internal-error";
      n.onError(An(this.auth, r));
    } else n.onAuthEvent(e);
  }
  isEventForConsumer(e, n) {
    const i = n.eventId === null || (!!e.eventId && e.eventId === n.eventId);
    return n.filter.includes(e.type) && i;
  }
  hasEventBeenHandled(e) {
    return (
      Date.now() - this.lastProcessedEventTime >= tN &&
        this.cachedEventUids.clear(),
      this.cachedEventUids.has(cv(e))
    );
  }
  saveEventToCache(e) {
    this.cachedEventUids.add(cv(e)), (this.lastProcessedEventTime = Date.now());
  }
}
function cv(t) {
  return [t.type, t.eventId, t.sessionId, t.tenantId]
    .filter((e) => e)
    .join("-");
}
function uw({ type: t, error: e }) {
  return (
    t === "unknown" && (e == null ? void 0 : e.code) === "auth/no-auth-event"
  );
}
function iN(t) {
  switch (t.type) {
    case "signInViaRedirect":
    case "linkViaRedirect":
    case "reauthViaRedirect":
      return !0;
    case "unknown":
      return uw(t);
    default:
      return !1;
  }
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ async function rN(t, e = {}) {
  return fi(t, "GET", "/v1/projects", e);
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ const sN = /^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,
  aN = /^https?/;
async function oN(t) {
  if (t.config.emulator) return;
  const { authorizedDomains: e } = await rN(t);
  for (const n of e)
    try {
      if (lN(n)) return;
    } catch {}
  ln(t, "unauthorized-domain");
}
function lN(t) {
  const e = $d(),
    { protocol: n, hostname: i } = new URL(e);
  if (t.startsWith("chrome-extension://")) {
    const a = new URL(t);
    return a.hostname === "" && i === ""
      ? n === "chrome-extension:" &&
          t.replace("chrome-extension://", "") ===
            e.replace("chrome-extension://", "")
      : n === "chrome-extension:" && a.hostname === i;
  }
  if (!aN.test(n)) return !1;
  if (sN.test(t)) return i === t;
  const r = t.replace(/\./g, "\\.");
  return new RegExp("^(.+\\." + r + "|" + r + ")$", "i").test(i);
}
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ const uN = new fl(3e4, 6e4);
function hv() {
  const t = wn().___jsl;
  if (t != null && t.H) {
    for (const e of Object.keys(t.H))
      if (
        ((t.H[e].r = t.H[e].r || []),
        (t.H[e].L = t.H[e].L || []),
        (t.H[e].r = [...t.H[e].L]),
        t.CP)
      )
        for (let n = 0; n < t.CP.length; n++) t.CP[n] = null;
  }
}
function cN(t) {
  return new Promise((e, n) => {
    var i, r, s;
    function a() {
      hv(),
        gapi.load("gapi.iframes", {
          callback: () => {
            e(gapi.iframes.getContext());
          },
          ontimeout: () => {
            hv(), n(An(t, "network-request-failed"));
          },
          timeout: uN.get(),
        });
    }
    if (
      !(
        (r = (i = wn().gapi) === null || i === void 0 ? void 0 : i.iframes) ===
          null || r === void 0
      ) &&
      r.Iframe
    )
      e(gapi.iframes.getContext());
    else if (!((s = wn().gapi) === null || s === void 0) && s.load) a();
    else {
      const l = JD("iframefcb");
      return (
        (wn()[l] = () => {
          gapi.load ? a() : n(An(t, "network-request-failed"));
        }),
        QA(`${ZD()}?onload=${l}`).catch((u) => n(u))
      );
    }
  }).catch((e) => {
    throw ((Ou = null), e);
  });
}
let Ou = null;
function hN(t) {
  return (Ou = Ou || cN(t)), Ou;
}
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ const fN = new fl(5e3, 15e3),
  dN = "__/auth/iframe",
  mN = "emulator/auth/iframe",
  pN = {
    style: { position: "absolute", top: "-100px", width: "1px", height: "1px" },
    "aria-hidden": "true",
    tabindex: "-1",
  },
  gN = new Map([
    ["identitytoolkit.googleapis.com", "p"],
    ["staging-identitytoolkit.sandbox.googleapis.com", "s"],
    ["test-identitytoolkit.sandbox.googleapis.com", "t"],
  ]);
function _N(t) {
  const e = t.config;
  K(e.authDomain, t, "auth-domain-config-required");
  const n = e.emulator ? Ep(e, mN) : `https://${t.config.authDomain}/${dN}`,
    i = { apiKey: e.apiKey, appName: t.name, v: Kr },
    r = gN.get(t.config.apiHost);
  r && (i.eid = r);
  const s = t._getFrameworks();
  return s.length && (i.fw = s.join(",")), `${n}?${hl(i).slice(1)}`;
}
async function yN(t) {
  const e = await hN(t),
    n = wn().gapi;
  return (
    K(n, t, "internal-error"),
    e.open(
      {
        where: document.body,
        url: _N(t),
        messageHandlersFilter: n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,
        attributes: pN,
        dontclear: !0,
      },
      (i) =>
        new Promise(async (r, s) => {
          await i.restyle({ setHideOnLeave: !1 });
          const a = An(t, "network-request-failed"),
            l = wn().setTimeout(() => {
              s(a);
            }, fN.get());
          function u() {
            wn().clearTimeout(l), r(i);
          }
          i.ping(u).then(u, () => {
            s(a);
          });
        })
    )
  );
}
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ const vN = {
    location: "yes",
    resizable: "yes",
    statusbar: "yes",
    toolbar: "no",
  },
  EN = 500,
  TN = 600,
  AN = "_blank",
  wN = "http://localhost";
class fv {
  constructor(e) {
    (this.window = e), (this.associatedEvent = null);
  }
  close() {
    if (this.window)
      try {
        this.window.close();
      } catch {}
  }
}
function SN(t, e, n, i = EN, r = TN) {
  const s = Math.max((window.screen.availHeight - r) / 2, 0).toString(),
    a = Math.max((window.screen.availWidth - i) / 2, 0).toString();
  let l = "";
  const u = Object.assign(Object.assign({}, vN), {
      width: i.toString(),
      height: r.toString(),
      top: s,
      left: a,
    }),
    c = gt().toLowerCase();
  n && (l = zA(c) ? AN : n), LA(c) && ((e = e || wN), (u.scrollbars = "yes"));
  const f = Object.entries(u).reduce((m, [_, b]) => `${m}${_}=${b},`, "");
  if (HD(c) && l !== "_self") return RN(e || "", l), new fv(null);
  const p = window.open(e || "", l, f);
  K(p, t, "popup-blocked");
  try {
    p.focus();
  } catch {}
  return new fv(p);
}
function RN(t, e) {
  const n = document.createElement("a");
  (n.href = t), (n.target = e);
  const i = document.createEvent("MouseEvent");
  i.initMouseEvent(
    "click",
    !0,
    !0,
    window,
    1,
    0,
    0,
    0,
    0,
    !1,
    !1,
    !1,
    !1,
    1,
    null
  ),
    n.dispatchEvent(i);
}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ const bN = "__/auth/handler",
  IN = "emulator/auth/handler",
  CN = encodeURIComponent("fac");
async function dv(t, e, n, i, r, s) {
  K(t.config.authDomain, t, "auth-domain-config-required"),
    K(t.config.apiKey, t, "invalid-api-key");
  const a = {
    apiKey: t.config.apiKey,
    appName: t.name,
    authType: n,
    redirectUrl: i,
    v: Kr,
    eventId: r,
  };
  if (e instanceof XA) {
    e.setDefaultLanguage(t.languageCode),
      (a.providerId = e.providerId || ""),
      dC(e.getCustomParameters()) ||
        (a.customParameters = JSON.stringify(e.getCustomParameters()));
    for (const [f, p] of Object.entries(s || {})) a[f] = p;
  }
  if (e instanceof ml) {
    const f = e.getScopes().filter((p) => p !== "");
    f.length > 0 && (a.scopes = f.join(","));
  }
  t.tenantId && (a.tid = t.tenantId);
  const l = a;
  for (const f of Object.keys(l)) l[f] === void 0 && delete l[f];
  const u = await t._getAppCheckToken(),
    c = u ? `#${CN}=${encodeURIComponent(u)}` : "";
  return `${DN(t)}?${hl(l).slice(1)}${c}`;
}
function DN({ config: t }) {
  return t.emulator ? Ep(t, IN) : `https://${t.authDomain}/${bN}`;
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ const Bf = "webStorageSupport";
class ON {
  constructor() {
    (this.eventManagers = {}),
      (this.iframes = {}),
      (this.originValidationPromises = {}),
      (this._redirectPersistence = iw),
      (this._completeRedirectFn = eN),
      (this._overrideRedirectResult = WO);
  }
  async _openPopup(e, n, i, r) {
    var s;
    li(
      (s = this.eventManagers[e._key()]) === null || s === void 0
        ? void 0
        : s.manager,
      "_initialize() not called before _openPopup()"
    );
    const a = await dv(e, n, i, $d(), r);
    return SN(e, a, Rp());
  }
  async _openRedirect(e, n, i, r) {
    await this._originValidation(e);
    const s = await dv(e, n, i, $d(), r);
    return kO(s), new Promise(() => {});
  }
  _initialize(e) {
    const n = e._key();
    if (this.eventManagers[n]) {
      const { manager: r, promise: s } = this.eventManagers[n];
      return r
        ? Promise.resolve(r)
        : (li(s, "If manager is not set, promise should be"), s);
    }
    const i = this.initAndGetManager(e);
    return (
      (this.eventManagers[n] = { promise: i }),
      i.catch(() => {
        delete this.eventManagers[n];
      }),
      i
    );
  }
  async initAndGetManager(e) {
    const n = await yN(e),
      i = new nN(e);
    return (
      n.register(
        "authEvent",
        (r) => (
          K(r == null ? void 0 : r.authEvent, e, "invalid-auth-event"),
          { status: i.onEvent(r.authEvent) ? "ACK" : "ERROR" }
        ),
        gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER
      ),
      (this.eventManagers[e._key()] = { manager: i }),
      (this.iframes[e._key()] = n),
      i
    );
  }
  _isIframeWebStorageSupported(e, n) {
    this.iframes[e._key()].send(
      Bf,
      { type: Bf },
      (r) => {
        var s;
        const a =
          (s = r == null ? void 0 : r[0]) === null || s === void 0
            ? void 0
            : s[Bf];
        a !== void 0 && n(!!a), ln(e, "internal-error");
      },
      gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER
    );
  }
  _originValidation(e) {
    const n = e._key();
    return (
      this.originValidationPromises[n] ||
        (this.originValidationPromises[n] = oN(e)),
      this.originValidationPromises[n]
    );
  }
  get _shouldInitProactively() {
    return GA() || BA() || Ap();
  }
}
const NN = ON;
var mv = "@firebase/auth",
  pv = "1.8.1";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class MN {
  constructor(e) {
    (this.auth = e), (this.internalListeners = new Map());
  }
  getUid() {
    var e;
    return (
      this.assertAuthConfigured(),
      ((e = this.auth.currentUser) === null || e === void 0 ? void 0 : e.uid) ||
        null
    );
  }
  async getToken(e) {
    return (
      this.assertAuthConfigured(),
      await this.auth._initializationPromise,
      this.auth.currentUser
        ? { accessToken: await this.auth.currentUser.getIdToken(e) }
        : null
    );
  }
  addAuthTokenListener(e) {
    if ((this.assertAuthConfigured(), this.internalListeners.has(e))) return;
    const n = this.auth.onIdTokenChanged((i) => {
      e((i == null ? void 0 : i.stsTokenManager.accessToken) || null);
    });
    this.internalListeners.set(e, n), this.updateProactiveRefresh();
  }
  removeAuthTokenListener(e) {
    this.assertAuthConfigured();
    const n = this.internalListeners.get(e);
    n && (this.internalListeners.delete(e), n(), this.updateProactiveRefresh());
  }
  assertAuthConfigured() {
    K(
      this.auth._initializationPromise,
      "dependent-sdk-initialized-before-auth"
    );
  }
  updateProactiveRefresh() {
    this.internalListeners.size > 0
      ? this.auth._startProactiveRefresh()
      : this.auth._stopProactiveRefresh();
  }
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ function kN(t) {
  switch (t) {
    case "Node":
      return "node";
    case "ReactNative":
      return "rn";
    case "Worker":
      return "webworker";
    case "Cordova":
      return "cordova";
    case "WebExtension":
      return "web-extension";
    default:
      return;
  }
}
function xN(t) {
  xr(
    new Yi(
      "auth",
      (e, { options: n }) => {
        const i = e.getProvider("app").getImmediate(),
          r = e.getProvider("heartbeat"),
          s = e.getProvider("app-check-internal"),
          { apiKey: a, authDomain: l } = i.options;
        K(a && !a.includes(":"), "invalid-api-key", { appName: i.name });
        const u = {
            apiKey: a,
            authDomain: l,
            clientPlatform: t,
            apiHost: "identitytoolkit.googleapis.com",
            tokenApiHost: "securetoken.googleapis.com",
            apiScheme: "https",
            sdkClientVersion: KA(t),
          },
          c = new YD(i, r, s, u);
        return sO(c, n), c;
      },
      "PUBLIC"
    )
      .setInstantiationMode("EXPLICIT")
      .setInstanceCreatedCallback((e, n, i) => {
        e.getProvider("auth-internal").initialize();
      })
  ),
    xr(
      new Yi(
        "auth-internal",
        (e) => {
          const n = Qr(e.getProvider("auth").getImmediate());
          return ((i) => new MN(i))(n);
        },
        "PRIVATE"
      ).setInstantiationMode("EXPLICIT")
    ),
    Tn(mv, pv, kN(t)),
    Tn(mv, pv, "esm2017");
}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ const VN = 5 * 60,
  PN = AA("authIdTokenMaxAge") || VN;
let gv = null;
const UN = (t) => async (e) => {
  const n = e && (await e.getIdTokenResult()),
    i = n && (new Date().getTime() - Date.parse(n.issuedAtTime)) / 1e3;
  if (i && i > PN) return;
  const r = n == null ? void 0 : n.token;
  gv !== r &&
    ((gv = r),
    await fetch(t, {
      method: r ? "POST" : "DELETE",
      headers: r ? { Authorization: `Bearer ${r}` } : {},
    }));
};
function LN(t = _p()) {
  const e = Wc(t, "auth");
  if (e.isInitialized()) return e.getImmediate();
  const n = rO(t, { popupRedirectResolver: NN, persistence: [qO, OO, iw] }),
    i = AA("authTokenSyncURL");
  if (i && typeof isSecureContext == "boolean" && isSecureContext) {
    const s = new URL(i, location.origin);
    if (location.origin === s.origin) {
      const a = UN(s.toString());
      RO(n, a, () => a(n.currentUser)), SO(n, (l) => a(l));
    }
  }
  const r = vA("auth");
  return r && aO(n, `http://${r}`), n;
}
function BN() {
  var t, e;
  return (e =
    (t = document.getElementsByTagName("head")) === null || t === void 0
      ? void 0
      : t[0]) !== null && e !== void 0
    ? e
    : document;
}
XD({
  loadJS(t) {
    return new Promise((e, n) => {
      const i = document.createElement("script");
      i.setAttribute("src", t),
        (i.onload = e),
        (i.onerror = (r) => {
          const s = An("internal-error");
          (s.customData = r), n(s);
        }),
        (i.type = "text/javascript"),
        (i.charset = "UTF-8"),
        BN().appendChild(i);
    });
  },
  gapiScript: "https://apis.google.com/js/api.js",
  recaptchaV2Script: "https://www.google.com/recaptcha/api.js",
  recaptchaEnterpriseScript:
    "https://www.google.com/recaptcha/enterprise.js?render=",
});
xN("Browser");
var zN = "firebase",
  jN = "11.1.0";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ Tn(zN, jN, "app");
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ const cw = "firebasestorage.googleapis.com",
  hw = "storageBucket",
  qN = 2 * 60 * 1e3,
  HN = 10 * 60 * 1e3,
  FN = 1e3;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class Oe extends Nn {
  constructor(e, n, i = 0) {
    super(zf(e), `Firebase Storage: ${n} (${zf(e)})`),
      (this.status_ = i),
      (this.customData = { serverResponse: null }),
      (this._baseMessage = this.message),
      Object.setPrototypeOf(this, Oe.prototype);
  }
  get status() {
    return this.status_;
  }
  set status(e) {
    this.status_ = e;
  }
  _codeEquals(e) {
    return zf(e) === this.code;
  }
  get serverResponse() {
    return this.customData.serverResponse;
  }
  set serverResponse(e) {
    (this.customData.serverResponse = e),
      this.customData.serverResponse
        ? (this.message = `${this._baseMessage}
${this.customData.serverResponse}`)
        : (this.message = this._baseMessage);
  }
}
var Ae;
(function (t) {
  (t.UNKNOWN = "unknown"),
    (t.OBJECT_NOT_FOUND = "object-not-found"),
    (t.BUCKET_NOT_FOUND = "bucket-not-found"),
    (t.PROJECT_NOT_FOUND = "project-not-found"),
    (t.QUOTA_EXCEEDED = "quota-exceeded"),
    (t.UNAUTHENTICATED = "unauthenticated"),
    (t.UNAUTHORIZED = "unauthorized"),
    (t.UNAUTHORIZED_APP = "unauthorized-app"),
    (t.RETRY_LIMIT_EXCEEDED = "retry-limit-exceeded"),
    (t.INVALID_CHECKSUM = "invalid-checksum"),
    (t.CANCELED = "canceled"),
    (t.INVALID_EVENT_NAME = "invalid-event-name"),
    (t.INVALID_URL = "invalid-url"),
    (t.INVALID_DEFAULT_BUCKET = "invalid-default-bucket"),
    (t.NO_DEFAULT_BUCKET = "no-default-bucket"),
    (t.CANNOT_SLICE_BLOB = "cannot-slice-blob"),
    (t.SERVER_FILE_WRONG_SIZE = "server-file-wrong-size"),
    (t.NO_DOWNLOAD_URL = "no-download-url"),
    (t.INVALID_ARGUMENT = "invalid-argument"),
    (t.INVALID_ARGUMENT_COUNT = "invalid-argument-count"),
    (t.APP_DELETED = "app-deleted"),
    (t.INVALID_ROOT_OPERATION = "invalid-root-operation"),
    (t.INVALID_FORMAT = "invalid-format"),
    (t.INTERNAL_ERROR = "internal-error"),
    (t.UNSUPPORTED_ENVIRONMENT = "unsupported-environment");
})(Ae || (Ae = {}));
function zf(t) {
  return "storage/" + t;
}
function Ip() {
  const t =
    "An unknown error occurred, please check the error payload for server response.";
  return new Oe(Ae.UNKNOWN, t);
}
function GN(t) {
  return new Oe(Ae.OBJECT_NOT_FOUND, "Object '" + t + "' does not exist.");
}
function KN(t) {
  return new Oe(
    Ae.QUOTA_EXCEEDED,
    "Quota for bucket '" +
      t +
      "' exceeded, please view quota on https://firebase.google.com/pricing/."
  );
}
function QN() {
  const t =
    "User is not authenticated, please authenticate using Firebase Authentication and try again.";
  return new Oe(Ae.UNAUTHENTICATED, t);
}
function $N() {
  return new Oe(
    Ae.UNAUTHORIZED_APP,
    "This app does not have permission to access Firebase Storage on this project."
  );
}
function YN(t) {
  return new Oe(
    Ae.UNAUTHORIZED,
    "User does not have permission to access '" + t + "'."
  );
}
function fw() {
  return new Oe(
    Ae.RETRY_LIMIT_EXCEEDED,
    "Max retry time for operation exceeded, please try again."
  );
}
function dw() {
  return new Oe(Ae.CANCELED, "User canceled the upload/download.");
}
function XN(t) {
  return new Oe(Ae.INVALID_URL, "Invalid URL '" + t + "'.");
}
function WN(t) {
  return new Oe(
    Ae.INVALID_DEFAULT_BUCKET,
    "Invalid default bucket '" + t + "'."
  );
}
function ZN() {
  return new Oe(
    Ae.NO_DEFAULT_BUCKET,
    "No default bucket found. Did you set the '" +
      hw +
      "' property when initializing the app?"
  );
}
function mw() {
  return new Oe(
    Ae.CANNOT_SLICE_BLOB,
    "Cannot slice blob for upload. Please retry the upload."
  );
}
function JN() {
  return new Oe(
    Ae.SERVER_FILE_WRONG_SIZE,
    "Server recorded incorrect upload file size, please retry the upload."
  );
}
function e2() {
  return new Oe(
    Ae.NO_DOWNLOAD_URL,
    "The given file does not have any download URLs."
  );
}
function t2(t) {
  return new Oe(
    Ae.UNSUPPORTED_ENVIRONMENT,
    `${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`
  );
}
function Zd(t) {
  return new Oe(Ae.INVALID_ARGUMENT, t);
}
function pw() {
  return new Oe(Ae.APP_DELETED, "The Firebase app was deleted.");
}
function n2(t) {
  return new Oe(
    Ae.INVALID_ROOT_OPERATION,
    "The operation '" +
      t +
      "' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png')."
  );
}
function To(t, e) {
  return new Oe(
    Ae.INVALID_FORMAT,
    "String does not match format '" + t + "': " + e
  );
}
function Ha(t) {
  throw new Oe(Ae.INTERNAL_ERROR, "Internal error: " + t);
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class Pt {
  constructor(e, n) {
    (this.bucket = e), (this.path_ = n);
  }
  get path() {
    return this.path_;
  }
  get isRoot() {
    return this.path.length === 0;
  }
  fullServerUrl() {
    const e = encodeURIComponent;
    return "/b/" + e(this.bucket) + "/o/" + e(this.path);
  }
  bucketOnlyServerUrl() {
    return "/b/" + encodeURIComponent(this.bucket) + "/o";
  }
  static makeFromBucketSpec(e, n) {
    let i;
    try {
      i = Pt.makeFromUrl(e, n);
    } catch {
      return new Pt(e, "");
    }
    if (i.path === "") return i;
    throw WN(e);
  }
  static makeFromUrl(e, n) {
    let i = null;
    const r = "([A-Za-z0-9.\\-_]+)";
    function s(O) {
      O.path.charAt(O.path.length - 1) === "/" &&
        (O.path_ = O.path_.slice(0, -1));
    }
    const a = "(/(.*))?$",
      l = new RegExp("^gs://" + r + a, "i"),
      u = { bucket: 1, path: 3 };
    function c(O) {
      O.path_ = decodeURIComponent(O.path);
    }
    const f = "v[A-Za-z0-9_]+",
      p = n.replace(/[.]/g, "\\."),
      m = "(/([^?#]*).*)?$",
      _ = new RegExp(`^https?://${p}/${f}/b/${r}/o${m}`, "i"),
      b = { bucket: 1, path: 3 },
      C = n === cw ? "(?:storage.googleapis.com|storage.cloud.google.com)" : n,
      D = "([^?#]*)",
      E = new RegExp(`^https?://${C}/${r}/${D}`, "i"),
      w = [
        { regex: l, indices: u, postModify: s },
        { regex: _, indices: b, postModify: c },
        { regex: E, indices: { bucket: 1, path: 2 }, postModify: c },
      ];
    for (let O = 0; O < w.length; O++) {
      const B = w[O],
        j = B.regex.exec(e);
      if (j) {
        const A = j[B.indices.bucket];
        let y = j[B.indices.path];
        y || (y = ""), (i = new Pt(A, y)), B.postModify(i);
        break;
      }
    }
    if (i == null) throw XN(e);
    return i;
  }
}
class i2 {
  constructor(e) {
    this.promise_ = Promise.reject(e);
  }
  getPromise() {
    return this.promise_;
  }
  cancel(e = !1) {}
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ function r2(t, e, n) {
  let i = 1,
    r = null,
    s = null,
    a = !1,
    l = 0;
  function u() {
    return l === 2;
  }
  let c = !1;
  function f(...D) {
    c || ((c = !0), e.apply(null, D));
  }
  function p(D) {
    r = setTimeout(() => {
      (r = null), t(_, u());
    }, D);
  }
  function m() {
    s && clearTimeout(s);
  }
  function _(D, ...E) {
    if (c) {
      m();
      return;
    }
    if (D) {
      m(), f.call(null, D, ...E);
      return;
    }
    if (u() || a) {
      m(), f.call(null, D, ...E);
      return;
    }
    i < 64 && (i *= 2);
    let w;
    l === 1 ? ((l = 2), (w = 0)) : (w = (i + Math.random()) * 1e3), p(w);
  }
  let b = !1;
  function C(D) {
    b ||
      ((b = !0),
      m(),
      !c &&
        (r !== null ? (D || (l = 2), clearTimeout(r), p(0)) : D || (l = 1)));
  }
  return (
    p(0),
    (s = setTimeout(() => {
      (a = !0), C(!0);
    }, n)),
    C
  );
}
function s2(t) {
  t(!1);
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ function a2(t) {
  return t !== void 0;
}
function o2(t) {
  return typeof t == "function";
}
function l2(t) {
  return typeof t == "object" && !Array.isArray(t);
}
function th(t) {
  return typeof t == "string" || t instanceof String;
}
function _v(t) {
  return Cp() && t instanceof Blob;
}
function Cp() {
  return typeof Blob < "u";
}
function yv(t, e, n, i) {
  if (i < e) throw Zd(`Invalid value for '${t}'. Expected ${e} or greater.`);
  if (i > n) throw Zd(`Invalid value for '${t}'. Expected ${n} or less.`);
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ function gl(t, e, n) {
  let i = e;
  return n == null && (i = `https://${e}`), `${n}://${i}/v0${t}`;
}
function gw(t) {
  const e = encodeURIComponent;
  let n = "?";
  for (const i in t)
    if (t.hasOwnProperty(i)) {
      const r = e(i) + "=" + e(t[i]);
      n = n + r + "&";
    }
  return (n = n.slice(0, -1)), n;
}
var Ir;
(function (t) {
  (t[(t.NO_ERROR = 0)] = "NO_ERROR"),
    (t[(t.NETWORK_ERROR = 1)] = "NETWORK_ERROR"),
    (t[(t.ABORT = 2)] = "ABORT");
})(Ir || (Ir = {}));
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ function _w(t, e) {
  const n = t >= 500 && t < 600,
    r = [408, 429].indexOf(t) !== -1,
    s = e.indexOf(t) !== -1;
  return n || r || s;
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class u2 {
  constructor(e, n, i, r, s, a, l, u, c, f, p, m = !0) {
    (this.url_ = e),
      (this.method_ = n),
      (this.headers_ = i),
      (this.body_ = r),
      (this.successCodes_ = s),
      (this.additionalRetryCodes_ = a),
      (this.callback_ = l),
      (this.errorCallback_ = u),
      (this.timeout_ = c),
      (this.progressCallback_ = f),
      (this.connectionFactory_ = p),
      (this.retry = m),
      (this.pendingConnection_ = null),
      (this.backoffId_ = null),
      (this.canceled_ = !1),
      (this.appDelete_ = !1),
      (this.promise_ = new Promise((_, b) => {
        (this.resolve_ = _), (this.reject_ = b), this.start_();
      }));
  }
  start_() {
    const e = (i, r) => {
        if (r) {
          i(!1, new ou(!1, null, !0));
          return;
        }
        const s = this.connectionFactory_();
        this.pendingConnection_ = s;
        const a = (l) => {
          const u = l.loaded,
            c = l.lengthComputable ? l.total : -1;
          this.progressCallback_ !== null && this.progressCallback_(u, c);
        };
        this.progressCallback_ !== null && s.addUploadProgressListener(a),
          s
            .send(this.url_, this.method_, this.body_, this.headers_)
            .then(() => {
              this.progressCallback_ !== null &&
                s.removeUploadProgressListener(a),
                (this.pendingConnection_ = null);
              const l = s.getErrorCode() === Ir.NO_ERROR,
                u = s.getStatus();
              if (!l || (_w(u, this.additionalRetryCodes_) && this.retry)) {
                const f = s.getErrorCode() === Ir.ABORT;
                i(!1, new ou(!1, null, f));
                return;
              }
              const c = this.successCodes_.indexOf(u) !== -1;
              i(!0, new ou(c, s));
            });
      },
      n = (i, r) => {
        const s = this.resolve_,
          a = this.reject_,
          l = r.connection;
        if (r.wasSuccessCode)
          try {
            const u = this.callback_(l, l.getResponse());
            a2(u) ? s(u) : s();
          } catch (u) {
            a(u);
          }
        else if (l !== null) {
          const u = Ip();
          (u.serverResponse = l.getErrorText()),
            this.errorCallback_ ? a(this.errorCallback_(l, u)) : a(u);
        } else if (r.canceled) {
          const u = this.appDelete_ ? pw() : dw();
          a(u);
        } else {
          const u = fw();
          a(u);
        }
      };
    this.canceled_
      ? n(!1, new ou(!1, null, !0))
      : (this.backoffId_ = r2(e, n, this.timeout_));
  }
  getPromise() {
    return this.promise_;
  }
  cancel(e) {
    (this.canceled_ = !0),
      (this.appDelete_ = e || !1),
      this.backoffId_ !== null && s2(this.backoffId_),
      this.pendingConnection_ !== null && this.pendingConnection_.abort();
  }
}
class ou {
  constructor(e, n, i) {
    (this.wasSuccessCode = e), (this.connection = n), (this.canceled = !!i);
  }
}
function c2(t, e) {
  e !== null && e.length > 0 && (t.Authorization = "Firebase " + e);
}
function h2(t, e) {
  t["X-Firebase-Storage-Version"] = "webjs/" + (e ?? "AppManager");
}
function f2(t, e) {
  e && (t["X-Firebase-GMPID"] = e);
}
function d2(t, e) {
  e !== null && (t["X-Firebase-AppCheck"] = e);
}
function m2(t, e, n, i, r, s, a = !0) {
  const l = gw(t.urlParams),
    u = t.url + l,
    c = Object.assign({}, t.headers);
  return (
    f2(c, e),
    c2(c, n),
    h2(c, s),
    d2(c, i),
    new u2(
      u,
      t.method,
      c,
      t.body,
      t.successCodes,
      t.additionalRetryCodes,
      t.handler,
      t.errorHandler,
      t.timeout,
      t.progressCallback,
      r,
      a
    )
  );
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ function p2() {
  return typeof BlobBuilder < "u"
    ? BlobBuilder
    : typeof WebKitBlobBuilder < "u"
    ? WebKitBlobBuilder
    : void 0;
}
function g2(...t) {
  const e = p2();
  if (e !== void 0) {
    const n = new e();
    for (let i = 0; i < t.length; i++) n.append(t[i]);
    return n.getBlob();
  } else {
    if (Cp()) return new Blob(t);
    throw new Oe(
      Ae.UNSUPPORTED_ENVIRONMENT,
      "This browser doesn't seem to support creating Blobs"
    );
  }
}
function _2(t, e, n) {
  return t.webkitSlice
    ? t.webkitSlice(e, n)
    : t.mozSlice
    ? t.mozSlice(e, n)
    : t.slice
    ? t.slice(e, n)
    : null;
}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ function y2(t) {
  if (typeof atob > "u") throw t2("base-64");
  return atob(t);
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ const _n = {
  RAW: "raw",
  BASE64: "base64",
  BASE64URL: "base64url",
  DATA_URL: "data_url",
};
class jf {
  constructor(e, n) {
    (this.data = e), (this.contentType = n || null);
  }
}
function v2(t, e) {
  switch (t) {
    case _n.RAW:
      return new jf(yw(e));
    case _n.BASE64:
    case _n.BASE64URL:
      return new jf(vw(t, e));
    case _n.DATA_URL:
      return new jf(T2(e), A2(e));
  }
  throw Ip();
}
function yw(t) {
  const e = [];
  for (let n = 0; n < t.length; n++) {
    let i = t.charCodeAt(n);
    if (i <= 127) e.push(i);
    else if (i <= 2047) e.push(192 | (i >> 6), 128 | (i & 63));
    else if ((i & 64512) === 55296)
      if (!(n < t.length - 1 && (t.charCodeAt(n + 1) & 64512) === 56320))
        e.push(239, 191, 189);
      else {
        const s = i,
          a = t.charCodeAt(++n);
        (i = 65536 | ((s & 1023) << 10) | (a & 1023)),
          e.push(
            240 | (i >> 18),
            128 | ((i >> 12) & 63),
            128 | ((i >> 6) & 63),
            128 | (i & 63)
          );
      }
    else
      (i & 64512) === 56320
        ? e.push(239, 191, 189)
        : e.push(224 | (i >> 12), 128 | ((i >> 6) & 63), 128 | (i & 63));
  }
  return new Uint8Array(e);
}
function E2(t) {
  let e;
  try {
    e = decodeURIComponent(t);
  } catch {
    throw To(_n.DATA_URL, "Malformed data URL.");
  }
  return yw(e);
}
function vw(t, e) {
  switch (t) {
    case _n.BASE64: {
      const r = e.indexOf("-") !== -1,
        s = e.indexOf("_") !== -1;
      if (r || s)
        throw To(
          t,
          "Invalid character '" +
            (r ? "-" : "_") +
            "' found: is it base64url encoded?"
        );
      break;
    }
    case _n.BASE64URL: {
      const r = e.indexOf("+") !== -1,
        s = e.indexOf("/") !== -1;
      if (r || s)
        throw To(
          t,
          "Invalid character '" +
            (r ? "+" : "/") +
            "' found: is it base64 encoded?"
        );
      e = e.replace(/-/g, "+").replace(/_/g, "/");
      break;
    }
  }
  let n;
  try {
    n = y2(e);
  } catch (r) {
    throw r.message.includes("polyfill") ? r : To(t, "Invalid character found");
  }
  const i = new Uint8Array(n.length);
  for (let r = 0; r < n.length; r++) i[r] = n.charCodeAt(r);
  return i;
}
class Ew {
  constructor(e) {
    (this.base64 = !1), (this.contentType = null);
    const n = e.match(/^data:([^,]+)?,/);
    if (n === null)
      throw To(
        _n.DATA_URL,
        "Must be formatted 'data:[<mediatype>][;base64],<data>"
      );
    const i = n[1] || null;
    i != null &&
      ((this.base64 = w2(i, ";base64")),
      (this.contentType = this.base64 ? i.substring(0, i.length - 7) : i)),
      (this.rest = e.substring(e.indexOf(",") + 1));
  }
}
function T2(t) {
  const e = new Ew(t);
  return e.base64 ? vw(_n.BASE64, e.rest) : E2(e.rest);
}
function A2(t) {
  return new Ew(t).contentType;
}
function w2(t, e) {
  return t.length >= e.length ? t.substring(t.length - e.length) === e : !1;
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class Oi {
  constructor(e, n) {
    let i = 0,
      r = "";
    _v(e)
      ? ((this.data_ = e), (i = e.size), (r = e.type))
      : e instanceof ArrayBuffer
      ? (n
          ? (this.data_ = new Uint8Array(e))
          : ((this.data_ = new Uint8Array(e.byteLength)),
            this.data_.set(new Uint8Array(e))),
        (i = this.data_.length))
      : e instanceof Uint8Array &&
        (n
          ? (this.data_ = e)
          : ((this.data_ = new Uint8Array(e.length)), this.data_.set(e)),
        (i = e.length)),
      (this.size_ = i),
      (this.type_ = r);
  }
  size() {
    return this.size_;
  }
  type() {
    return this.type_;
  }
  slice(e, n) {
    if (_v(this.data_)) {
      const i = this.data_,
        r = _2(i, e, n);
      return r === null ? null : new Oi(r);
    } else {
      const i = new Uint8Array(this.data_.buffer, e, n - e);
      return new Oi(i, !0);
    }
  }
  static getBlob(...e) {
    if (Cp()) {
      const n = e.map((i) => (i instanceof Oi ? i.data_ : i));
      return new Oi(g2.apply(null, n));
    } else {
      const n = e.map((a) => (th(a) ? v2(_n.RAW, a).data : a.data_));
      let i = 0;
      n.forEach((a) => {
        i += a.byteLength;
      });
      const r = new Uint8Array(i);
      let s = 0;
      return (
        n.forEach((a) => {
          for (let l = 0; l < a.length; l++) r[s++] = a[l];
        }),
        new Oi(r, !0)
      );
    }
  }
  uploadData() {
    return this.data_;
  }
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ function Tw(t) {
  let e;
  try {
    e = JSON.parse(t);
  } catch {
    return null;
  }
  return l2(e) ? e : null;
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ function S2(t) {
  if (t.length === 0) return null;
  const e = t.lastIndexOf("/");
  return e === -1 ? "" : t.slice(0, e);
}
function R2(t, e) {
  const n = e
    .split("/")
    .filter((i) => i.length > 0)
    .join("/");
  return t.length === 0 ? n : t + "/" + n;
}
function Aw(t) {
  const e = t.lastIndexOf("/", t.length - 2);
  return e === -1 ? t : t.slice(e + 1);
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ function b2(t, e) {
  return e;
}
class vt {
  constructor(e, n, i, r) {
    (this.server = e),
      (this.local = n || e),
      (this.writable = !!i),
      (this.xform = r || b2);
  }
}
let lu = null;
function I2(t) {
  return !th(t) || t.length < 2 ? t : Aw(t);
}
function ww() {
  if (lu) return lu;
  const t = [];
  t.push(new vt("bucket")),
    t.push(new vt("generation")),
    t.push(new vt("metageneration")),
    t.push(new vt("name", "fullPath", !0));
  function e(s, a) {
    return I2(a);
  }
  const n = new vt("name");
  (n.xform = e), t.push(n);
  function i(s, a) {
    return a !== void 0 ? Number(a) : a;
  }
  const r = new vt("size");
  return (
    (r.xform = i),
    t.push(r),
    t.push(new vt("timeCreated")),
    t.push(new vt("updated")),
    t.push(new vt("md5Hash", null, !0)),
    t.push(new vt("cacheControl", null, !0)),
    t.push(new vt("contentDisposition", null, !0)),
    t.push(new vt("contentEncoding", null, !0)),
    t.push(new vt("contentLanguage", null, !0)),
    t.push(new vt("contentType", null, !0)),
    t.push(new vt("metadata", "customMetadata", !0)),
    (lu = t),
    lu
  );
}
function C2(t, e) {
  function n() {
    const i = t.bucket,
      r = t.fullPath,
      s = new Pt(i, r);
    return e._makeStorageReference(s);
  }
  Object.defineProperty(t, "ref", { get: n });
}
function D2(t, e, n) {
  const i = {};
  i.type = "file";
  const r = n.length;
  for (let s = 0; s < r; s++) {
    const a = n[s];
    i[a.local] = a.xform(i, e[a.server]);
  }
  return C2(i, t), i;
}
function Sw(t, e, n) {
  const i = Tw(e);
  return i === null ? null : D2(t, i, n);
}
function O2(t, e, n, i) {
  const r = Tw(e);
  if (r === null || !th(r.downloadTokens)) return null;
  const s = r.downloadTokens;
  if (s.length === 0) return null;
  const a = encodeURIComponent;
  return s.split(",").map((c) => {
    const f = t.bucket,
      p = t.fullPath,
      m = "/b/" + a(f) + "/o/" + a(p),
      _ = gl(m, n, i),
      b = gw({ alt: "media", token: c });
    return _ + b;
  })[0];
}
function Rw(t, e) {
  const n = {},
    i = e.length;
  for (let r = 0; r < i; r++) {
    const s = e[r];
    s.writable && (n[s.server] = t[s.local]);
  }
  return JSON.stringify(n);
}
class ca {
  constructor(e, n, i, r) {
    (this.url = e),
      (this.method = n),
      (this.handler = i),
      (this.timeout = r),
      (this.urlParams = {}),
      (this.headers = {}),
      (this.body = null),
      (this.errorHandler = null),
      (this.progressCallback = null),
      (this.successCodes = [200]),
      (this.additionalRetryCodes = []);
  }
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ function ei(t) {
  if (!t) throw Ip();
}
function Dp(t, e) {
  function n(i, r) {
    const s = Sw(t, r, e);
    return ei(s !== null), s;
  }
  return n;
}
function N2(t, e) {
  function n(i, r) {
    const s = Sw(t, r, e);
    return ei(s !== null), O2(s, r, t.host, t._protocol);
  }
  return n;
}
function _l(t) {
  function e(n, i) {
    let r;
    return (
      n.getStatus() === 401
        ? n.getErrorText().includes("Firebase App Check token is invalid")
          ? (r = $N())
          : (r = QN())
        : n.getStatus() === 402
        ? (r = KN(t.bucket))
        : n.getStatus() === 403
        ? (r = YN(t.path))
        : (r = i),
      (r.status = n.getStatus()),
      (r.serverResponse = i.serverResponse),
      r
    );
  }
  return e;
}
function bw(t) {
  const e = _l(t);
  function n(i, r) {
    let s = e(i, r);
    return (
      i.getStatus() === 404 && (s = GN(t.path)),
      (s.serverResponse = r.serverResponse),
      s
    );
  }
  return n;
}
function M2(t, e, n) {
  const i = e.fullServerUrl(),
    r = gl(i, t.host, t._protocol),
    s = "GET",
    a = t.maxOperationRetryTime,
    l = new ca(r, s, Dp(t, n), a);
  return (l.errorHandler = bw(e)), l;
}
function k2(t, e, n) {
  const i = e.fullServerUrl(),
    r = gl(i, t.host, t._protocol),
    s = "GET",
    a = t.maxOperationRetryTime,
    l = new ca(r, s, N2(t, n), a);
  return (l.errorHandler = bw(e)), l;
}
function x2(t, e) {
  return (t && t.contentType) || (e && e.type()) || "application/octet-stream";
}
function Iw(t, e, n) {
  const i = Object.assign({}, n);
  return (
    (i.fullPath = t.path),
    (i.size = e.size()),
    i.contentType || (i.contentType = x2(null, e)),
    i
  );
}
function V2(t, e, n, i, r) {
  const s = e.bucketOnlyServerUrl(),
    a = { "X-Goog-Upload-Protocol": "multipart" };
  function l() {
    let w = "";
    for (let O = 0; O < 2; O++) w = w + Math.random().toString().slice(2);
    return w;
  }
  const u = l();
  a["Content-Type"] = "multipart/related; boundary=" + u;
  const c = Iw(e, i, r),
    f = Rw(c, n),
    p =
      "--" +
      u +
      `\r
Content-Type: application/json; charset=utf-8\r
\r
` +
      f +
      `\r
--` +
      u +
      `\r
Content-Type: ` +
      c.contentType +
      `\r
\r
`,
    m =
      `\r
--` +
      u +
      "--",
    _ = Oi.getBlob(p, i, m);
  if (_ === null) throw mw();
  const b = { name: c.fullPath },
    C = gl(s, t.host, t._protocol),
    D = "POST",
    E = t.maxUploadRetryTime,
    v = new ca(C, D, Dp(t, n), E);
  return (
    (v.urlParams = b),
    (v.headers = a),
    (v.body = _.uploadData()),
    (v.errorHandler = _l(e)),
    v
  );
}
class Ec {
  constructor(e, n, i, r) {
    (this.current = e),
      (this.total = n),
      (this.finalized = !!i),
      (this.metadata = r || null);
  }
}
function Op(t, e) {
  let n = null;
  try {
    n = t.getResponseHeader("X-Goog-Upload-Status");
  } catch {
    ei(!1);
  }
  return ei(!!n && (e || ["active"]).indexOf(n) !== -1), n;
}
function P2(t, e, n, i, r) {
  const s = e.bucketOnlyServerUrl(),
    a = Iw(e, i, r),
    l = { name: a.fullPath },
    u = gl(s, t.host, t._protocol),
    c = "POST",
    f = {
      "X-Goog-Upload-Protocol": "resumable",
      "X-Goog-Upload-Command": "start",
      "X-Goog-Upload-Header-Content-Length": `${i.size()}`,
      "X-Goog-Upload-Header-Content-Type": a.contentType,
      "Content-Type": "application/json; charset=utf-8",
    },
    p = Rw(a, n),
    m = t.maxUploadRetryTime;
  function _(C) {
    Op(C);
    let D;
    try {
      D = C.getResponseHeader("X-Goog-Upload-URL");
    } catch {
      ei(!1);
    }
    return ei(th(D)), D;
  }
  const b = new ca(u, c, _, m);
  return (
    (b.urlParams = l),
    (b.headers = f),
    (b.body = p),
    (b.errorHandler = _l(e)),
    b
  );
}
function U2(t, e, n, i) {
  const r = { "X-Goog-Upload-Command": "query" };
  function s(c) {
    const f = Op(c, ["active", "final"]);
    let p = null;
    try {
      p = c.getResponseHeader("X-Goog-Upload-Size-Received");
    } catch {
      ei(!1);
    }
    p || ei(!1);
    const m = Number(p);
    return ei(!isNaN(m)), new Ec(m, i.size(), f === "final");
  }
  const a = "POST",
    l = t.maxUploadRetryTime,
    u = new ca(n, a, s, l);
  return (u.headers = r), (u.errorHandler = _l(e)), u;
}
const vv = 256 * 1024;
function L2(t, e, n, i, r, s, a, l) {
  const u = new Ec(0, 0);
  if (
    (a
      ? ((u.current = a.current), (u.total = a.total))
      : ((u.current = 0), (u.total = i.size())),
    i.size() !== u.total)
  )
    throw JN();
  const c = u.total - u.current;
  let f = c;
  r > 0 && (f = Math.min(f, r));
  const p = u.current,
    m = p + f;
  let _ = "";
  f === 0
    ? (_ = "finalize")
    : c === f
    ? (_ = "upload, finalize")
    : (_ = "upload");
  const b = {
      "X-Goog-Upload-Command": _,
      "X-Goog-Upload-Offset": `${u.current}`,
    },
    C = i.slice(p, m);
  if (C === null) throw mw();
  function D(O, B) {
    const j = Op(O, ["active", "final"]),
      A = u.current + f,
      y = i.size();
    let T;
    return (
      j === "final" ? (T = Dp(e, s)(O, B)) : (T = null),
      new Ec(A, y, j === "final", T)
    );
  }
  const E = "POST",
    v = e.maxUploadRetryTime,
    w = new ca(n, E, D, v);
  return (
    (w.headers = b),
    (w.body = C.uploadData()),
    (w.progressCallback = l || null),
    (w.errorHandler = _l(t)),
    w
  );
}
const Rt = {
  RUNNING: "running",
  PAUSED: "paused",
  SUCCESS: "success",
  CANCELED: "canceled",
  ERROR: "error",
};
function qf(t) {
  switch (t) {
    case "running":
    case "pausing":
    case "canceling":
      return Rt.RUNNING;
    case "paused":
      return Rt.PAUSED;
    case "success":
      return Rt.SUCCESS;
    case "canceled":
      return Rt.CANCELED;
    case "error":
      return Rt.ERROR;
    default:
      return Rt.ERROR;
  }
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class B2 {
  constructor(e, n, i) {
    if (o2(e) || n != null || i != null)
      (this.next = e),
        (this.error = n ?? void 0),
        (this.complete = i ?? void 0);
    else {
      const s = e;
      (this.next = s.next),
        (this.error = s.error),
        (this.complete = s.complete);
    }
  }
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ function rs(t) {
  return (...e) => {
    Promise.resolve().then(() => t(...e));
  };
}
class z2 {
  constructor() {
    (this.sent_ = !1),
      (this.xhr_ = new XMLHttpRequest()),
      this.initXhr(),
      (this.errorCode_ = Ir.NO_ERROR),
      (this.sendPromise_ = new Promise((e) => {
        this.xhr_.addEventListener("abort", () => {
          (this.errorCode_ = Ir.ABORT), e();
        }),
          this.xhr_.addEventListener("error", () => {
            (this.errorCode_ = Ir.NETWORK_ERROR), e();
          }),
          this.xhr_.addEventListener("load", () => {
            e();
          });
      }));
  }
  send(e, n, i, r) {
    if (this.sent_) throw Ha("cannot .send() more than once");
    if (((this.sent_ = !0), this.xhr_.open(n, e, !0), r !== void 0))
      for (const s in r)
        r.hasOwnProperty(s) && this.xhr_.setRequestHeader(s, r[s].toString());
    return (
      i !== void 0 ? this.xhr_.send(i) : this.xhr_.send(), this.sendPromise_
    );
  }
  getErrorCode() {
    if (!this.sent_) throw Ha("cannot .getErrorCode() before sending");
    return this.errorCode_;
  }
  getStatus() {
    if (!this.sent_) throw Ha("cannot .getStatus() before sending");
    try {
      return this.xhr_.status;
    } catch {
      return -1;
    }
  }
  getResponse() {
    if (!this.sent_) throw Ha("cannot .getResponse() before sending");
    return this.xhr_.response;
  }
  getErrorText() {
    if (!this.sent_) throw Ha("cannot .getErrorText() before sending");
    return this.xhr_.statusText;
  }
  abort() {
    this.xhr_.abort();
  }
  getResponseHeader(e) {
    return this.xhr_.getResponseHeader(e);
  }
  addUploadProgressListener(e) {
    this.xhr_.upload != null &&
      this.xhr_.upload.addEventListener("progress", e);
  }
  removeUploadProgressListener(e) {
    this.xhr_.upload != null &&
      this.xhr_.upload.removeEventListener("progress", e);
  }
}
class j2 extends z2 {
  initXhr() {
    this.xhr_.responseType = "text";
  }
}
function us() {
  return new j2();
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class q2 {
  isExponentialBackoffExpired() {
    return this.sleepTime > this.maxSleepTime;
  }
  constructor(e, n, i = null) {
    (this._transferred = 0),
      (this._needToFetchStatus = !1),
      (this._needToFetchMetadata = !1),
      (this._observers = []),
      (this._error = void 0),
      (this._uploadUrl = void 0),
      (this._request = void 0),
      (this._chunkMultiplier = 1),
      (this._resolve = void 0),
      (this._reject = void 0),
      (this._ref = e),
      (this._blob = n),
      (this._metadata = i),
      (this._mappings = ww()),
      (this._resumable = this._shouldDoResumable(this._blob)),
      (this._state = "running"),
      (this._errorHandler = (r) => {
        if (
          ((this._request = void 0),
          (this._chunkMultiplier = 1),
          r._codeEquals(Ae.CANCELED))
        )
          (this._needToFetchStatus = !0), this.completeTransitions_();
        else {
          const s = this.isExponentialBackoffExpired();
          if (_w(r.status, []))
            if (s) r = fw();
            else {
              (this.sleepTime = Math.max(this.sleepTime * 2, FN)),
                (this._needToFetchStatus = !0),
                this.completeTransitions_();
              return;
            }
          (this._error = r), this._transition("error");
        }
      }),
      (this._metadataErrorHandler = (r) => {
        (this._request = void 0),
          r._codeEquals(Ae.CANCELED)
            ? this.completeTransitions_()
            : ((this._error = r), this._transition("error"));
      }),
      (this.sleepTime = 0),
      (this.maxSleepTime = this._ref.storage.maxUploadRetryTime),
      (this._promise = new Promise((r, s) => {
        (this._resolve = r), (this._reject = s), this._start();
      })),
      this._promise.then(null, () => {});
  }
  _makeProgressCallback() {
    const e = this._transferred;
    return (n) => this._updateProgress(e + n);
  }
  _shouldDoResumable(e) {
    return e.size() > 256 * 1024;
  }
  _start() {
    this._state === "running" &&
      this._request === void 0 &&
      (this._resumable
        ? this._uploadUrl === void 0
          ? this._createResumable()
          : this._needToFetchStatus
          ? this._fetchStatus()
          : this._needToFetchMetadata
          ? this._fetchMetadata()
          : (this.pendingTimeout = setTimeout(() => {
              (this.pendingTimeout = void 0), this._continueUpload();
            }, this.sleepTime))
        : this._oneShotUpload());
  }
  _resolveToken(e) {
    Promise.all([
      this._ref.storage._getAuthToken(),
      this._ref.storage._getAppCheckToken(),
    ]).then(([n, i]) => {
      switch (this._state) {
        case "running":
          e(n, i);
          break;
        case "canceling":
          this._transition("canceled");
          break;
        case "pausing":
          this._transition("paused");
          break;
      }
    });
  }
  _createResumable() {
    this._resolveToken((e, n) => {
      const i = P2(
          this._ref.storage,
          this._ref._location,
          this._mappings,
          this._blob,
          this._metadata
        ),
        r = this._ref.storage._makeRequest(i, us, e, n);
      (this._request = r),
        r.getPromise().then((s) => {
          (this._request = void 0),
            (this._uploadUrl = s),
            (this._needToFetchStatus = !1),
            this.completeTransitions_();
        }, this._errorHandler);
    });
  }
  _fetchStatus() {
    const e = this._uploadUrl;
    this._resolveToken((n, i) => {
      const r = U2(this._ref.storage, this._ref._location, e, this._blob),
        s = this._ref.storage._makeRequest(r, us, n, i);
      (this._request = s),
        s.getPromise().then((a) => {
          (a = a),
            (this._request = void 0),
            this._updateProgress(a.current),
            (this._needToFetchStatus = !1),
            a.finalized && (this._needToFetchMetadata = !0),
            this.completeTransitions_();
        }, this._errorHandler);
    });
  }
  _continueUpload() {
    const e = vv * this._chunkMultiplier,
      n = new Ec(this._transferred, this._blob.size()),
      i = this._uploadUrl;
    this._resolveToken((r, s) => {
      let a;
      try {
        a = L2(
          this._ref._location,
          this._ref.storage,
          i,
          this._blob,
          e,
          this._mappings,
          n,
          this._makeProgressCallback()
        );
      } catch (u) {
        (this._error = u), this._transition("error");
        return;
      }
      const l = this._ref.storage._makeRequest(a, us, r, s, !1);
      (this._request = l),
        l.getPromise().then((u) => {
          this._increaseMultiplier(),
            (this._request = void 0),
            this._updateProgress(u.current),
            u.finalized
              ? ((this._metadata = u.metadata), this._transition("success"))
              : this.completeTransitions_();
        }, this._errorHandler);
    });
  }
  _increaseMultiplier() {
    vv * this._chunkMultiplier * 2 < 32 * 1024 * 1024 &&
      (this._chunkMultiplier *= 2);
  }
  _fetchMetadata() {
    this._resolveToken((e, n) => {
      const i = M2(this._ref.storage, this._ref._location, this._mappings),
        r = this._ref.storage._makeRequest(i, us, e, n);
      (this._request = r),
        r.getPromise().then((s) => {
          (this._request = void 0),
            (this._metadata = s),
            this._transition("success");
        }, this._metadataErrorHandler);
    });
  }
  _oneShotUpload() {
    this._resolveToken((e, n) => {
      const i = V2(
          this._ref.storage,
          this._ref._location,
          this._mappings,
          this._blob,
          this._metadata
        ),
        r = this._ref.storage._makeRequest(i, us, e, n);
      (this._request = r),
        r.getPromise().then((s) => {
          (this._request = void 0),
            (this._metadata = s),
            this._updateProgress(this._blob.size()),
            this._transition("success");
        }, this._errorHandler);
    });
  }
  _updateProgress(e) {
    const n = this._transferred;
    (this._transferred = e), this._transferred !== n && this._notifyObservers();
  }
  _transition(e) {
    if (this._state !== e)
      switch (e) {
        case "canceling":
        case "pausing":
          (this._state = e),
            this._request !== void 0
              ? this._request.cancel()
              : this.pendingTimeout &&
                (clearTimeout(this.pendingTimeout),
                (this.pendingTimeout = void 0),
                this.completeTransitions_());
          break;
        case "running":
          const n = this._state === "paused";
          (this._state = e), n && (this._notifyObservers(), this._start());
          break;
        case "paused":
          (this._state = e), this._notifyObservers();
          break;
        case "canceled":
          (this._error = dw()), (this._state = e), this._notifyObservers();
          break;
        case "error":
          (this._state = e), this._notifyObservers();
          break;
        case "success":
          (this._state = e), this._notifyObservers();
          break;
      }
  }
  completeTransitions_() {
    switch (this._state) {
      case "pausing":
        this._transition("paused");
        break;
      case "canceling":
        this._transition("canceled");
        break;
      case "running":
        this._start();
        break;
    }
  }
  get snapshot() {
    const e = qf(this._state);
    return {
      bytesTransferred: this._transferred,
      totalBytes: this._blob.size(),
      state: e,
      metadata: this._metadata,
      task: this,
      ref: this._ref,
    };
  }
  on(e, n, i, r) {
    const s = new B2(n || void 0, i || void 0, r || void 0);
    return (
      this._addObserver(s),
      () => {
        this._removeObserver(s);
      }
    );
  }
  then(e, n) {
    return this._promise.then(e, n);
  }
  catch(e) {
    return this.then(null, e);
  }
  _addObserver(e) {
    this._observers.push(e), this._notifyObserver(e);
  }
  _removeObserver(e) {
    const n = this._observers.indexOf(e);
    n !== -1 && this._observers.splice(n, 1);
  }
  _notifyObservers() {
    this._finishPromise(),
      this._observers.slice().forEach((n) => {
        this._notifyObserver(n);
      });
  }
  _finishPromise() {
    if (this._resolve !== void 0) {
      let e = !0;
      switch (qf(this._state)) {
        case Rt.SUCCESS:
          rs(this._resolve.bind(null, this.snapshot))();
          break;
        case Rt.CANCELED:
        case Rt.ERROR:
          const n = this._reject;
          rs(n.bind(null, this._error))();
          break;
        default:
          e = !1;
          break;
      }
      e && ((this._resolve = void 0), (this._reject = void 0));
    }
  }
  _notifyObserver(e) {
    switch (qf(this._state)) {
      case Rt.RUNNING:
      case Rt.PAUSED:
        e.next && rs(e.next.bind(e, this.snapshot))();
        break;
      case Rt.SUCCESS:
        e.complete && rs(e.complete.bind(e))();
        break;
      case Rt.CANCELED:
      case Rt.ERROR:
        e.error && rs(e.error.bind(e, this._error))();
        break;
      default:
        e.error && rs(e.error.bind(e, this._error))();
    }
  }
  resume() {
    const e = this._state === "paused" || this._state === "pausing";
    return e && this._transition("running"), e;
  }
  pause() {
    const e = this._state === "running";
    return e && this._transition("pausing"), e;
  }
  cancel() {
    const e = this._state === "running" || this._state === "pausing";
    return e && this._transition("canceling"), e;
  }
}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class Ur {
  constructor(e, n) {
    (this._service = e),
      n instanceof Pt
        ? (this._location = n)
        : (this._location = Pt.makeFromUrl(n, e.host));
  }
  toString() {
    return "gs://" + this._location.bucket + "/" + this._location.path;
  }
  _newRef(e, n) {
    return new Ur(e, n);
  }
  get root() {
    const e = new Pt(this._location.bucket, "");
    return this._newRef(this._service, e);
  }
  get bucket() {
    return this._location.bucket;
  }
  get fullPath() {
    return this._location.path;
  }
  get name() {
    return Aw(this._location.path);
  }
  get storage() {
    return this._service;
  }
  get parent() {
    const e = S2(this._location.path);
    if (e === null) return null;
    const n = new Pt(this._location.bucket, e);
    return new Ur(this._service, n);
  }
  _throwIfRoot(e) {
    if (this._location.path === "") throw n2(e);
  }
}
function H2(t, e, n) {
  return t._throwIfRoot("uploadBytesResumable"), new q2(t, new Oi(e), n);
}
function F2(t) {
  t._throwIfRoot("getDownloadURL");
  const e = k2(t.storage, t._location, ww());
  return t.storage.makeRequestWithTokens(e, us).then((n) => {
    if (n === null) throw e2();
    return n;
  });
}
function G2(t, e) {
  const n = R2(t._location.path, e),
    i = new Pt(t._location.bucket, n);
  return new Ur(t.storage, i);
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ function K2(t) {
  return /^[A-Za-z]+:\/\//.test(t);
}
function Q2(t, e) {
  return new Ur(t, e);
}
function Cw(t, e) {
  if (t instanceof Np) {
    const n = t;
    if (n._bucket == null) throw ZN();
    const i = new Ur(n, n._bucket);
    return e != null ? Cw(i, e) : i;
  } else return e !== void 0 ? G2(t, e) : t;
}
function $2(t, e) {
  if (e && K2(e)) {
    if (t instanceof Np) return Q2(t, e);
    throw Zd(
      "To use ref(service, url), the first argument must be a Storage instance."
    );
  } else return Cw(t, e);
}
function Ev(t, e) {
  const n = e == null ? void 0 : e[hw];
  return n == null ? null : Pt.makeFromBucketSpec(n, t);
}
function Y2(t, e, n, i = {}) {
  (t.host = `${e}:${n}`), (t._protocol = "http");
  const { mockUserToken: r } = i;
  r &&
    (t._overrideAuthToken =
      typeof r == "string" ? r : wA(r, t.app.options.projectId));
}
class Np {
  constructor(e, n, i, r, s) {
    (this.app = e),
      (this._authProvider = n),
      (this._appCheckProvider = i),
      (this._url = r),
      (this._firebaseVersion = s),
      (this._bucket = null),
      (this._host = cw),
      (this._protocol = "https"),
      (this._appId = null),
      (this._deleted = !1),
      (this._maxOperationRetryTime = qN),
      (this._maxUploadRetryTime = HN),
      (this._requests = new Set()),
      r != null
        ? (this._bucket = Pt.makeFromBucketSpec(r, this._host))
        : (this._bucket = Ev(this._host, this.app.options));
  }
  get host() {
    return this._host;
  }
  set host(e) {
    (this._host = e),
      this._url != null
        ? (this._bucket = Pt.makeFromBucketSpec(this._url, e))
        : (this._bucket = Ev(e, this.app.options));
  }
  get maxUploadRetryTime() {
    return this._maxUploadRetryTime;
  }
  set maxUploadRetryTime(e) {
    yv("time", 0, Number.POSITIVE_INFINITY, e), (this._maxUploadRetryTime = e);
  }
  get maxOperationRetryTime() {
    return this._maxOperationRetryTime;
  }
  set maxOperationRetryTime(e) {
    yv("time", 0, Number.POSITIVE_INFINITY, e),
      (this._maxOperationRetryTime = e);
  }
  async _getAuthToken() {
    if (this._overrideAuthToken) return this._overrideAuthToken;
    const e = this._authProvider.getImmediate({ optional: !0 });
    if (e) {
      const n = await e.getToken();
      if (n !== null) return n.accessToken;
    }
    return null;
  }
  async _getAppCheckToken() {
    const e = this._appCheckProvider.getImmediate({ optional: !0 });
    return e ? (await e.getToken()).token : null;
  }
  _delete() {
    return (
      this._deleted ||
        ((this._deleted = !0),
        this._requests.forEach((e) => e.cancel()),
        this._requests.clear()),
      Promise.resolve()
    );
  }
  _makeStorageReference(e) {
    return new Ur(this, e);
  }
  _makeRequest(e, n, i, r, s = !0) {
    if (this._deleted) return new i2(pw());
    {
      const a = m2(e, this._appId, i, r, n, this._firebaseVersion, s);
      return (
        this._requests.add(a),
        a.getPromise().then(
          () => this._requests.delete(a),
          () => this._requests.delete(a)
        ),
        a
      );
    }
  }
  async makeRequestWithTokens(e, n) {
    const [i, r] = await Promise.all([
      this._getAuthToken(),
      this._getAppCheckToken(),
    ]);
    return this._makeRequest(e, n, i, r).getPromise();
  }
}
const Tv = "@firebase/storage",
  Av = "0.13.4";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ const Dw = "storage";
function Ow(t, e, n) {
  return (t = Re(t)), H2(t, e, n);
}
function Nw(t) {
  return (t = Re(t)), F2(t);
}
function Mw(t, e) {
  return (t = Re(t)), $2(t, e);
}
function X2(t = _p(), e) {
  t = Re(t);
  const i = Wc(t, Dw).getImmediate({ identifier: e }),
    r = EA("storage");
  return r && W2(i, ...r), i;
}
function W2(t, e, n, i = {}) {
  Y2(t, e, n, i);
}
function Z2(t, { instanceIdentifier: e }) {
  const n = t.getProvider("app").getImmediate(),
    i = t.getProvider("auth-internal"),
    r = t.getProvider("app-check-internal");
  return new Np(n, i, r, e, Kr);
}
function J2() {
  xr(new Yi(Dw, Z2, "PUBLIC").setMultipleInstances(!0)),
    Tn(Tv, Av, ""),
    Tn(Tv, Av, "esm2017");
}
J2();
var wv =
  typeof globalThis < "u"
    ? globalThis
    : typeof window < "u"
    ? window
    : typeof global < "u"
    ? global
    : typeof self < "u"
    ? self
    : {};
/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/ var Cr, kw;
(function () {
  var t;
  /** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/ function e(A, y) {
    function T() {}
    (T.prototype = y.prototype),
      (A.D = y.prototype),
      (A.prototype = new T()),
      (A.prototype.constructor = A),
      (A.C = function (S, I, M) {
        for (
          var R = Array(arguments.length - 2), Ot = 2;
          Ot < arguments.length;
          Ot++
        )
          R[Ot - 2] = arguments[Ot];
        return y.prototype[I].apply(S, R);
      });
  }
  function n() {
    this.blockSize = -1;
  }
  function i() {
    (this.blockSize = -1),
      (this.blockSize = 64),
      (this.g = Array(4)),
      (this.B = Array(this.blockSize)),
      (this.o = this.h = 0),
      this.s();
  }
  e(i, n),
    (i.prototype.s = function () {
      (this.g[0] = 1732584193),
        (this.g[1] = 4023233417),
        (this.g[2] = 2562383102),
        (this.g[3] = 271733878),
        (this.o = this.h = 0);
    });
  function r(A, y, T) {
    T || (T = 0);
    var S = Array(16);
    if (typeof y == "string")
      for (var I = 0; 16 > I; ++I)
        S[I] =
          y.charCodeAt(T++) |
          (y.charCodeAt(T++) << 8) |
          (y.charCodeAt(T++) << 16) |
          (y.charCodeAt(T++) << 24);
    else
      for (I = 0; 16 > I; ++I)
        S[I] = y[T++] | (y[T++] << 8) | (y[T++] << 16) | (y[T++] << 24);
    (y = A.g[0]), (T = A.g[1]), (I = A.g[2]);
    var M = A.g[3],
      R = (y + (M ^ (T & (I ^ M))) + S[0] + 3614090360) & 4294967295;
    (y = T + (((R << 7) & 4294967295) | (R >>> 25))),
      (R = (M + (I ^ (y & (T ^ I))) + S[1] + 3905402710) & 4294967295),
      (M = y + (((R << 12) & 4294967295) | (R >>> 20))),
      (R = (I + (T ^ (M & (y ^ T))) + S[2] + 606105819) & 4294967295),
      (I = M + (((R << 17) & 4294967295) | (R >>> 15))),
      (R = (T + (y ^ (I & (M ^ y))) + S[3] + 3250441966) & 4294967295),
      (T = I + (((R << 22) & 4294967295) | (R >>> 10))),
      (R = (y + (M ^ (T & (I ^ M))) + S[4] + 4118548399) & 4294967295),
      (y = T + (((R << 7) & 4294967295) | (R >>> 25))),
      (R = (M + (I ^ (y & (T ^ I))) + S[5] + 1200080426) & 4294967295),
      (M = y + (((R << 12) & 4294967295) | (R >>> 20))),
      (R = (I + (T ^ (M & (y ^ T))) + S[6] + 2821735955) & 4294967295),
      (I = M + (((R << 17) & 4294967295) | (R >>> 15))),
      (R = (T + (y ^ (I & (M ^ y))) + S[7] + 4249261313) & 4294967295),
      (T = I + (((R << 22) & 4294967295) | (R >>> 10))),
      (R = (y + (M ^ (T & (I ^ M))) + S[8] + 1770035416) & 4294967295),
      (y = T + (((R << 7) & 4294967295) | (R >>> 25))),
      (R = (M + (I ^ (y & (T ^ I))) + S[9] + 2336552879) & 4294967295),
      (M = y + (((R << 12) & 4294967295) | (R >>> 20))),
      (R = (I + (T ^ (M & (y ^ T))) + S[10] + 4294925233) & 4294967295),
      (I = M + (((R << 17) & 4294967295) | (R >>> 15))),
      (R = (T + (y ^ (I & (M ^ y))) + S[11] + 2304563134) & 4294967295),
      (T = I + (((R << 22) & 4294967295) | (R >>> 10))),
      (R = (y + (M ^ (T & (I ^ M))) + S[12] + 1804603682) & 4294967295),
      (y = T + (((R << 7) & 4294967295) | (R >>> 25))),
      (R = (M + (I ^ (y & (T ^ I))) + S[13] + 4254626195) & 4294967295),
      (M = y + (((R << 12) & 4294967295) | (R >>> 20))),
      (R = (I + (T ^ (M & (y ^ T))) + S[14] + 2792965006) & 4294967295),
      (I = M + (((R << 17) & 4294967295) | (R >>> 15))),
      (R = (T + (y ^ (I & (M ^ y))) + S[15] + 1236535329) & 4294967295),
      (T = I + (((R << 22) & 4294967295) | (R >>> 10))),
      (R = (y + (I ^ (M & (T ^ I))) + S[1] + 4129170786) & 4294967295),
      (y = T + (((R << 5) & 4294967295) | (R >>> 27))),
      (R = (M + (T ^ (I & (y ^ T))) + S[6] + 3225465664) & 4294967295),
      (M = y + (((R << 9) & 4294967295) | (R >>> 23))),
      (R = (I + (y ^ (T & (M ^ y))) + S[11] + 643717713) & 4294967295),
      (I = M + (((R << 14) & 4294967295) | (R >>> 18))),
      (R = (T + (M ^ (y & (I ^ M))) + S[0] + 3921069994) & 4294967295),
      (T = I + (((R << 20) & 4294967295) | (R >>> 12))),
      (R = (y + (I ^ (M & (T ^ I))) + S[5] + 3593408605) & 4294967295),
      (y = T + (((R << 5) & 4294967295) | (R >>> 27))),
      (R = (M + (T ^ (I & (y ^ T))) + S[10] + 38016083) & 4294967295),
      (M = y + (((R << 9) & 4294967295) | (R >>> 23))),
      (R = (I + (y ^ (T & (M ^ y))) + S[15] + 3634488961) & 4294967295),
      (I = M + (((R << 14) & 4294967295) | (R >>> 18))),
      (R = (T + (M ^ (y & (I ^ M))) + S[4] + 3889429448) & 4294967295),
      (T = I + (((R << 20) & 4294967295) | (R >>> 12))),
      (R = (y + (I ^ (M & (T ^ I))) + S[9] + 568446438) & 4294967295),
      (y = T + (((R << 5) & 4294967295) | (R >>> 27))),
      (R = (M + (T ^ (I & (y ^ T))) + S[14] + 3275163606) & 4294967295),
      (M = y + (((R << 9) & 4294967295) | (R >>> 23))),
      (R = (I + (y ^ (T & (M ^ y))) + S[3] + 4107603335) & 4294967295),
      (I = M + (((R << 14) & 4294967295) | (R >>> 18))),
      (R = (T + (M ^ (y & (I ^ M))) + S[8] + 1163531501) & 4294967295),
      (T = I + (((R << 20) & 4294967295) | (R >>> 12))),
      (R = (y + (I ^ (M & (T ^ I))) + S[13] + 2850285829) & 4294967295),
      (y = T + (((R << 5) & 4294967295) | (R >>> 27))),
      (R = (M + (T ^ (I & (y ^ T))) + S[2] + 4243563512) & 4294967295),
      (M = y + (((R << 9) & 4294967295) | (R >>> 23))),
      (R = (I + (y ^ (T & (M ^ y))) + S[7] + 1735328473) & 4294967295),
      (I = M + (((R << 14) & 4294967295) | (R >>> 18))),
      (R = (T + (M ^ (y & (I ^ M))) + S[12] + 2368359562) & 4294967295),
      (T = I + (((R << 20) & 4294967295) | (R >>> 12))),
      (R = (y + (T ^ I ^ M) + S[5] + 4294588738) & 4294967295),
      (y = T + (((R << 4) & 4294967295) | (R >>> 28))),
      (R = (M + (y ^ T ^ I) + S[8] + 2272392833) & 4294967295),
      (M = y + (((R << 11) & 4294967295) | (R >>> 21))),
      (R = (I + (M ^ y ^ T) + S[11] + 1839030562) & 4294967295),
      (I = M + (((R << 16) & 4294967295) | (R >>> 16))),
      (R = (T + (I ^ M ^ y) + S[14] + 4259657740) & 4294967295),
      (T = I + (((R << 23) & 4294967295) | (R >>> 9))),
      (R = (y + (T ^ I ^ M) + S[1] + 2763975236) & 4294967295),
      (y = T + (((R << 4) & 4294967295) | (R >>> 28))),
      (R = (M + (y ^ T ^ I) + S[4] + 1272893353) & 4294967295),
      (M = y + (((R << 11) & 4294967295) | (R >>> 21))),
      (R = (I + (M ^ y ^ T) + S[7] + 4139469664) & 4294967295),
      (I = M + (((R << 16) & 4294967295) | (R >>> 16))),
      (R = (T + (I ^ M ^ y) + S[10] + 3200236656) & 4294967295),
      (T = I + (((R << 23) & 4294967295) | (R >>> 9))),
      (R = (y + (T ^ I ^ M) + S[13] + 681279174) & 4294967295),
      (y = T + (((R << 4) & 4294967295) | (R >>> 28))),
      (R = (M + (y ^ T ^ I) + S[0] + 3936430074) & 4294967295),
      (M = y + (((R << 11) & 4294967295) | (R >>> 21))),
      (R = (I + (M ^ y ^ T) + S[3] + 3572445317) & 4294967295),
      (I = M + (((R << 16) & 4294967295) | (R >>> 16))),
      (R = (T + (I ^ M ^ y) + S[6] + 76029189) & 4294967295),
      (T = I + (((R << 23) & 4294967295) | (R >>> 9))),
      (R = (y + (T ^ I ^ M) + S[9] + 3654602809) & 4294967295),
      (y = T + (((R << 4) & 4294967295) | (R >>> 28))),
      (R = (M + (y ^ T ^ I) + S[12] + 3873151461) & 4294967295),
      (M = y + (((R << 11) & 4294967295) | (R >>> 21))),
      (R = (I + (M ^ y ^ T) + S[15] + 530742520) & 4294967295),
      (I = M + (((R << 16) & 4294967295) | (R >>> 16))),
      (R = (T + (I ^ M ^ y) + S[2] + 3299628645) & 4294967295),
      (T = I + (((R << 23) & 4294967295) | (R >>> 9))),
      (R = (y + (I ^ (T | ~M)) + S[0] + 4096336452) & 4294967295),
      (y = T + (((R << 6) & 4294967295) | (R >>> 26))),
      (R = (M + (T ^ (y | ~I)) + S[7] + 1126891415) & 4294967295),
      (M = y + (((R << 10) & 4294967295) | (R >>> 22))),
      (R = (I + (y ^ (M | ~T)) + S[14] + 2878612391) & 4294967295),
      (I = M + (((R << 15) & 4294967295) | (R >>> 17))),
      (R = (T + (M ^ (I | ~y)) + S[5] + 4237533241) & 4294967295),
      (T = I + (((R << 21) & 4294967295) | (R >>> 11))),
      (R = (y + (I ^ (T | ~M)) + S[12] + 1700485571) & 4294967295),
      (y = T + (((R << 6) & 4294967295) | (R >>> 26))),
      (R = (M + (T ^ (y | ~I)) + S[3] + 2399980690) & 4294967295),
      (M = y + (((R << 10) & 4294967295) | (R >>> 22))),
      (R = (I + (y ^ (M | ~T)) + S[10] + 4293915773) & 4294967295),
      (I = M + (((R << 15) & 4294967295) | (R >>> 17))),
      (R = (T + (M ^ (I | ~y)) + S[1] + 2240044497) & 4294967295),
      (T = I + (((R << 21) & 4294967295) | (R >>> 11))),
      (R = (y + (I ^ (T | ~M)) + S[8] + 1873313359) & 4294967295),
      (y = T + (((R << 6) & 4294967295) | (R >>> 26))),
      (R = (M + (T ^ (y | ~I)) + S[15] + 4264355552) & 4294967295),
      (M = y + (((R << 10) & 4294967295) | (R >>> 22))),
      (R = (I + (y ^ (M | ~T)) + S[6] + 2734768916) & 4294967295),
      (I = M + (((R << 15) & 4294967295) | (R >>> 17))),
      (R = (T + (M ^ (I | ~y)) + S[13] + 1309151649) & 4294967295),
      (T = I + (((R << 21) & 4294967295) | (R >>> 11))),
      (R = (y + (I ^ (T | ~M)) + S[4] + 4149444226) & 4294967295),
      (y = T + (((R << 6) & 4294967295) | (R >>> 26))),
      (R = (M + (T ^ (y | ~I)) + S[11] + 3174756917) & 4294967295),
      (M = y + (((R << 10) & 4294967295) | (R >>> 22))),
      (R = (I + (y ^ (M | ~T)) + S[2] + 718787259) & 4294967295),
      (I = M + (((R << 15) & 4294967295) | (R >>> 17))),
      (R = (T + (M ^ (I | ~y)) + S[9] + 3951481745) & 4294967295),
      (A.g[0] = (A.g[0] + y) & 4294967295),
      (A.g[1] =
        (A.g[1] + (I + (((R << 21) & 4294967295) | (R >>> 11)))) & 4294967295),
      (A.g[2] = (A.g[2] + I) & 4294967295),
      (A.g[3] = (A.g[3] + M) & 4294967295);
  }
  (i.prototype.u = function (A, y) {
    y === void 0 && (y = A.length);
    for (var T = y - this.blockSize, S = this.B, I = this.h, M = 0; M < y; ) {
      if (I == 0) for (; M <= T; ) r(this, A, M), (M += this.blockSize);
      if (typeof A == "string") {
        for (; M < y; )
          if (((S[I++] = A.charCodeAt(M++)), I == this.blockSize)) {
            r(this, S), (I = 0);
            break;
          }
      } else
        for (; M < y; )
          if (((S[I++] = A[M++]), I == this.blockSize)) {
            r(this, S), (I = 0);
            break;
          }
    }
    (this.h = I), (this.o += y);
  }),
    (i.prototype.v = function () {
      var A = Array(
        (56 > this.h ? this.blockSize : 2 * this.blockSize) - this.h
      );
      A[0] = 128;
      for (var y = 1; y < A.length - 8; ++y) A[y] = 0;
      var T = 8 * this.o;
      for (y = A.length - 8; y < A.length; ++y) (A[y] = T & 255), (T /= 256);
      for (this.u(A), A = Array(16), y = T = 0; 4 > y; ++y)
        for (var S = 0; 32 > S; S += 8) A[T++] = (this.g[y] >>> S) & 255;
      return A;
    });
  function s(A, y) {
    var T = l;
    return Object.prototype.hasOwnProperty.call(T, A) ? T[A] : (T[A] = y(A));
  }
  function a(A, y) {
    this.h = y;
    for (var T = [], S = !0, I = A.length - 1; 0 <= I; I--) {
      var M = A[I] | 0;
      (S && M == y) || ((T[I] = M), (S = !1));
    }
    this.g = T;
  }
  var l = {};
  function u(A) {
    return -128 <= A && 128 > A
      ? s(A, function (y) {
          return new a([y | 0], 0 > y ? -1 : 0);
        })
      : new a([A | 0], 0 > A ? -1 : 0);
  }
  function c(A) {
    if (isNaN(A) || !isFinite(A)) return p;
    if (0 > A) return D(c(-A));
    for (var y = [], T = 1, S = 0; A >= T; S++)
      (y[S] = (A / T) | 0), (T *= 4294967296);
    return new a(y, 0);
  }
  function f(A, y) {
    if (A.length == 0) throw Error("number format error: empty string");
    if (((y = y || 10), 2 > y || 36 < y))
      throw Error("radix out of range: " + y);
    if (A.charAt(0) == "-") return D(f(A.substring(1), y));
    if (0 <= A.indexOf("-"))
      throw Error('number format error: interior "-" character');
    for (var T = c(Math.pow(y, 8)), S = p, I = 0; I < A.length; I += 8) {
      var M = Math.min(8, A.length - I),
        R = parseInt(A.substring(I, I + M), y);
      8 > M
        ? ((M = c(Math.pow(y, M))), (S = S.j(M).add(c(R))))
        : ((S = S.j(T)), (S = S.add(c(R))));
    }
    return S;
  }
  var p = u(0),
    m = u(1),
    _ = u(16777216);
  (t = a.prototype),
    (t.m = function () {
      if (C(this)) return -D(this).m();
      for (var A = 0, y = 1, T = 0; T < this.g.length; T++) {
        var S = this.i(T);
        (A += (0 <= S ? S : 4294967296 + S) * y), (y *= 4294967296);
      }
      return A;
    }),
    (t.toString = function (A) {
      if (((A = A || 10), 2 > A || 36 < A))
        throw Error("radix out of range: " + A);
      if (b(this)) return "0";
      if (C(this)) return "-" + D(this).toString(A);
      for (var y = c(Math.pow(A, 6)), T = this, S = ""; ; ) {
        var I = O(T, y).g;
        T = E(T, I.j(y));
        var M = ((0 < T.g.length ? T.g[0] : T.h) >>> 0).toString(A);
        if (((T = I), b(T))) return M + S;
        for (; 6 > M.length; ) M = "0" + M;
        S = M + S;
      }
    }),
    (t.i = function (A) {
      return 0 > A ? 0 : A < this.g.length ? this.g[A] : this.h;
    });
  function b(A) {
    if (A.h != 0) return !1;
    for (var y = 0; y < A.g.length; y++) if (A.g[y] != 0) return !1;
    return !0;
  }
  function C(A) {
    return A.h == -1;
  }
  t.l = function (A) {
    return (A = E(this, A)), C(A) ? -1 : b(A) ? 0 : 1;
  };
  function D(A) {
    for (var y = A.g.length, T = [], S = 0; S < y; S++) T[S] = ~A.g[S];
    return new a(T, ~A.h).add(m);
  }
  (t.abs = function () {
    return C(this) ? D(this) : this;
  }),
    (t.add = function (A) {
      for (
        var y = Math.max(this.g.length, A.g.length), T = [], S = 0, I = 0;
        I <= y;
        I++
      ) {
        var M = S + (this.i(I) & 65535) + (A.i(I) & 65535),
          R = (M >>> 16) + (this.i(I) >>> 16) + (A.i(I) >>> 16);
        (S = R >>> 16), (M &= 65535), (R &= 65535), (T[I] = (R << 16) | M);
      }
      return new a(T, T[T.length - 1] & -2147483648 ? -1 : 0);
    });
  function E(A, y) {
    return A.add(D(y));
  }
  t.j = function (A) {
    if (b(this) || b(A)) return p;
    if (C(this)) return C(A) ? D(this).j(D(A)) : D(D(this).j(A));
    if (C(A)) return D(this.j(D(A)));
    if (0 > this.l(_) && 0 > A.l(_)) return c(this.m() * A.m());
    for (var y = this.g.length + A.g.length, T = [], S = 0; S < 2 * y; S++)
      T[S] = 0;
    for (S = 0; S < this.g.length; S++)
      for (var I = 0; I < A.g.length; I++) {
        var M = this.i(S) >>> 16,
          R = this.i(S) & 65535,
          Ot = A.i(I) >>> 16,
          kn = A.i(I) & 65535;
        (T[2 * S + 2 * I] += R * kn),
          v(T, 2 * S + 2 * I),
          (T[2 * S + 2 * I + 1] += M * kn),
          v(T, 2 * S + 2 * I + 1),
          (T[2 * S + 2 * I + 1] += R * Ot),
          v(T, 2 * S + 2 * I + 1),
          (T[2 * S + 2 * I + 2] += M * Ot),
          v(T, 2 * S + 2 * I + 2);
      }
    for (S = 0; S < y; S++) T[S] = (T[2 * S + 1] << 16) | T[2 * S];
    for (S = y; S < 2 * y; S++) T[S] = 0;
    return new a(T, 0);
  };
  function v(A, y) {
    for (; (A[y] & 65535) != A[y]; )
      (A[y + 1] += A[y] >>> 16), (A[y] &= 65535), y++;
  }
  function w(A, y) {
    (this.g = A), (this.h = y);
  }
  function O(A, y) {
    if (b(y)) throw Error("division by zero");
    if (b(A)) return new w(p, p);
    if (C(A)) return (y = O(D(A), y)), new w(D(y.g), D(y.h));
    if (C(y)) return (y = O(A, D(y))), new w(D(y.g), y.h);
    if (30 < A.g.length) {
      if (C(A) || C(y))
        throw Error("slowDivide_ only works with positive integers.");
      for (var T = m, S = y; 0 >= S.l(A); ) (T = B(T)), (S = B(S));
      var I = j(T, 1),
        M = j(S, 1);
      for (S = j(S, 2), T = j(T, 2); !b(S); ) {
        var R = M.add(S);
        0 >= R.l(A) && ((I = I.add(T)), (M = R)), (S = j(S, 1)), (T = j(T, 1));
      }
      return (y = E(A, I.j(y))), new w(I, y);
    }
    for (I = p; 0 <= A.l(y); ) {
      for (
        T = Math.max(1, Math.floor(A.m() / y.m())),
          S = Math.ceil(Math.log(T) / Math.LN2),
          S = 48 >= S ? 1 : Math.pow(2, S - 48),
          M = c(T),
          R = M.j(y);
        C(R) || 0 < R.l(A);

      )
        (T -= S), (M = c(T)), (R = M.j(y));
      b(M) && (M = m), (I = I.add(M)), (A = E(A, R));
    }
    return new w(I, A);
  }
  (t.A = function (A) {
    return O(this, A).h;
  }),
    (t.and = function (A) {
      for (
        var y = Math.max(this.g.length, A.g.length), T = [], S = 0;
        S < y;
        S++
      )
        T[S] = this.i(S) & A.i(S);
      return new a(T, this.h & A.h);
    }),
    (t.or = function (A) {
      for (
        var y = Math.max(this.g.length, A.g.length), T = [], S = 0;
        S < y;
        S++
      )
        T[S] = this.i(S) | A.i(S);
      return new a(T, this.h | A.h);
    }),
    (t.xor = function (A) {
      for (
        var y = Math.max(this.g.length, A.g.length), T = [], S = 0;
        S < y;
        S++
      )
        T[S] = this.i(S) ^ A.i(S);
      return new a(T, this.h ^ A.h);
    });
  function B(A) {
    for (var y = A.g.length + 1, T = [], S = 0; S < y; S++)
      T[S] = (A.i(S) << 1) | (A.i(S - 1) >>> 31);
    return new a(T, A.h);
  }
  function j(A, y) {
    var T = y >> 5;
    y %= 32;
    for (var S = A.g.length - T, I = [], M = 0; M < S; M++)
      I[M] =
        0 < y ? (A.i(M + T) >>> y) | (A.i(M + T + 1) << (32 - y)) : A.i(M + T);
    return new a(I, A.h);
  }
  (i.prototype.digest = i.prototype.v),
    (i.prototype.reset = i.prototype.s),
    (i.prototype.update = i.prototype.u),
    (kw = i),
    (a.prototype.add = a.prototype.add),
    (a.prototype.multiply = a.prototype.j),
    (a.prototype.modulo = a.prototype.A),
    (a.prototype.compare = a.prototype.l),
    (a.prototype.toNumber = a.prototype.m),
    (a.prototype.toString = a.prototype.toString),
    (a.prototype.getBits = a.prototype.i),
    (a.fromNumber = c),
    (a.fromString = f),
    (Cr = a);
}).apply(
  typeof wv < "u"
    ? wv
    : typeof self < "u"
    ? self
    : typeof window < "u"
    ? window
    : {}
);
var uu =
  typeof globalThis < "u"
    ? globalThis
    : typeof window < "u"
    ? window
    : typeof global < "u"
    ? global
    : typeof self < "u"
    ? self
    : {};
/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/ var xw, Za, Vw, Nu, Jd, Pw, Uw, Lw;
(function () {
  var t,
    e =
      typeof Object.defineProperties == "function"
        ? Object.defineProperty
        : function (o, h, d) {
            return (
              o == Array.prototype || o == Object.prototype || (o[h] = d.value),
              o
            );
          };
  function n(o) {
    o = [
      typeof globalThis == "object" && globalThis,
      o,
      typeof window == "object" && window,
      typeof self == "object" && self,
      typeof uu == "object" && uu,
    ];
    for (var h = 0; h < o.length; ++h) {
      var d = o[h];
      if (d && d.Math == Math) return d;
    }
    throw Error("Cannot find global object");
  }
  var i = n(this);
  function r(o, h) {
    if (h)
      e: {
        var d = i;
        o = o.split(".");
        for (var g = 0; g < o.length - 1; g++) {
          var N = o[g];
          if (!(N in d)) break e;
          d = d[N];
        }
        (o = o[o.length - 1]),
          (g = d[o]),
          (h = h(g)),
          h != g &&
            h != null &&
            e(d, o, { configurable: !0, writable: !0, value: h });
      }
  }
  function s(o, h) {
    o instanceof String && (o += "");
    var d = 0,
      g = !1,
      N = {
        next: function () {
          if (!g && d < o.length) {
            var x = d++;
            return { value: h(x, o[x]), done: !1 };
          }
          return (g = !0), { done: !0, value: void 0 };
        },
      };
    return (
      (N[Symbol.iterator] = function () {
        return N;
      }),
      N
    );
  }
  r("Array.prototype.values", function (o) {
    return (
      o ||
      function () {
        return s(this, function (h, d) {
          return d;
        });
      }
    );
  });
  /** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/ var a = a || {},
    l = this || self;
  function u(o) {
    var h = typeof o;
    return (
      (h = h != "object" ? h : o ? (Array.isArray(o) ? "array" : h) : "null"),
      h == "array" || (h == "object" && typeof o.length == "number")
    );
  }
  function c(o) {
    var h = typeof o;
    return (h == "object" && o != null) || h == "function";
  }
  function f(o, h, d) {
    return o.call.apply(o.bind, arguments);
  }
  function p(o, h, d) {
    if (!o) throw Error();
    if (2 < arguments.length) {
      var g = Array.prototype.slice.call(arguments, 2);
      return function () {
        var N = Array.prototype.slice.call(arguments);
        return Array.prototype.unshift.apply(N, g), o.apply(h, N);
      };
    }
    return function () {
      return o.apply(h, arguments);
    };
  }
  function m(o, h, d) {
    return (
      (m =
        Function.prototype.bind &&
        Function.prototype.bind.toString().indexOf("native code") != -1
          ? f
          : p),
      m.apply(null, arguments)
    );
  }
  function _(o, h) {
    var d = Array.prototype.slice.call(arguments, 1);
    return function () {
      var g = d.slice();
      return g.push.apply(g, arguments), o.apply(this, g);
    };
  }
  function b(o, h) {
    function d() {}
    (d.prototype = h.prototype),
      (o.aa = h.prototype),
      (o.prototype = new d()),
      (o.prototype.constructor = o),
      (o.Qb = function (g, N, x) {
        for (
          var z = Array(arguments.length - 2), de = 2;
          de < arguments.length;
          de++
        )
          z[de - 2] = arguments[de];
        return h.prototype[N].apply(g, z);
      });
  }
  function C(o) {
    const h = o.length;
    if (0 < h) {
      const d = Array(h);
      for (let g = 0; g < h; g++) d[g] = o[g];
      return d;
    }
    return [];
  }
  function D(o, h) {
    for (let d = 1; d < arguments.length; d++) {
      const g = arguments[d];
      if (u(g)) {
        const N = o.length || 0,
          x = g.length || 0;
        o.length = N + x;
        for (let z = 0; z < x; z++) o[N + z] = g[z];
      } else o.push(g);
    }
  }
  class E {
    constructor(h, d) {
      (this.i = h), (this.j = d), (this.h = 0), (this.g = null);
    }
    get() {
      let h;
      return (
        0 < this.h
          ? (this.h--, (h = this.g), (this.g = h.next), (h.next = null))
          : (h = this.i()),
        h
      );
    }
  }
  function v(o) {
    return /^[\s\xa0]*$/.test(o);
  }
  function w() {
    var o = l.navigator;
    return o && (o = o.userAgent) ? o : "";
  }
  function O(o) {
    return O[" "](o), o;
  }
  O[" "] = function () {};
  var B =
    w().indexOf("Gecko") != -1 &&
    !(w().toLowerCase().indexOf("webkit") != -1 && w().indexOf("Edge") == -1) &&
    !(w().indexOf("Trident") != -1 || w().indexOf("MSIE") != -1) &&
    w().indexOf("Edge") == -1;
  function j(o, h, d) {
    for (const g in o) h.call(d, o[g], g, o);
  }
  function A(o, h) {
    for (const d in o) h.call(void 0, o[d], d, o);
  }
  function y(o) {
    const h = {};
    for (const d in o) h[d] = o[d];
    return h;
  }
  const T =
    "constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(
      " "
    );
  function S(o, h) {
    let d, g;
    for (let N = 1; N < arguments.length; N++) {
      g = arguments[N];
      for (d in g) o[d] = g[d];
      for (let x = 0; x < T.length; x++)
        (d = T[x]), Object.prototype.hasOwnProperty.call(g, d) && (o[d] = g[d]);
    }
  }
  function I(o) {
    var h = 1;
    o = o.split(":");
    const d = [];
    for (; 0 < h && o.length; ) d.push(o.shift()), h--;
    return o.length && d.push(o.join(":")), d;
  }
  function M(o) {
    l.setTimeout(() => {
      throw o;
    }, 0);
  }
  function R() {
    var o = _e;
    let h = null;
    return (
      o.g &&
        ((h = o.g), (o.g = o.g.next), o.g || (o.h = null), (h.next = null)),
      h
    );
  }
  class Ot {
    constructor() {
      this.h = this.g = null;
    }
    add(h, d) {
      const g = kn.get();
      g.set(h, d), this.h ? (this.h.next = g) : (this.g = g), (this.h = g);
    }
  }
  var kn = new E(
    () => new q(),
    (o) => o.reset()
  );
  class q {
    constructor() {
      this.next = this.g = this.h = null;
    }
    set(h, d) {
      (this.h = h), (this.g = d), (this.next = null);
    }
    reset() {
      this.next = this.g = this.h = null;
    }
  }
  let W,
    Y = !1,
    _e = new Ot(),
    xe = () => {
      const o = l.Promise.resolve(void 0);
      W = () => {
        o.then(Wr);
      };
    };
  var Wr = () => {
    for (var o; (o = R()); ) {
      try {
        o.h.call(o.g);
      } catch (d) {
        M(d);
      }
      var h = kn;
      h.j(o), 100 > h.h && (h.h++, (o.next = h.g), (h.g = o));
    }
    Y = !1;
  };
  function Nt() {
    (this.s = this.s), (this.C = this.C);
  }
  (Nt.prototype.s = !1),
    (Nt.prototype.ma = function () {
      this.s || ((this.s = !0), this.N());
    }),
    (Nt.prototype.N = function () {
      if (this.C) for (; this.C.length; ) this.C.shift()();
    });
  function Ue(o, h) {
    (this.type = o), (this.g = this.target = h), (this.defaultPrevented = !1);
  }
  Ue.prototype.h = function () {
    this.defaultPrevented = !0;
  };
  var xn = (function () {
    if (!l.addEventListener || !Object.defineProperty) return !1;
    var o = !1,
      h = Object.defineProperty({}, "passive", {
        get: function () {
          o = !0;
        },
      });
    try {
      const d = () => {};
      l.addEventListener("test", d, h), l.removeEventListener("test", d, h);
    } catch {}
    return o;
  })();
  function dn(o, h) {
    if (
      (Ue.call(this, o ? o.type : ""),
      (this.relatedTarget = this.g = this.target = null),
      (this.button =
        this.screenY =
        this.screenX =
        this.clientY =
        this.clientX =
          0),
      (this.key = ""),
      (this.metaKey = this.shiftKey = this.altKey = this.ctrlKey = !1),
      (this.state = null),
      (this.pointerId = 0),
      (this.pointerType = ""),
      (this.i = null),
      o)
    ) {
      var d = (this.type = o.type),
        g =
          o.changedTouches && o.changedTouches.length
            ? o.changedTouches[0]
            : null;
      if (
        ((this.target = o.target || o.srcElement),
        (this.g = h),
        (h = o.relatedTarget))
      ) {
        if (B) {
          e: {
            try {
              O(h.nodeName);
              var N = !0;
              break e;
            } catch {}
            N = !1;
          }
          N || (h = null);
        }
      } else
        d == "mouseover"
          ? (h = o.fromElement)
          : d == "mouseout" && (h = o.toElement);
      (this.relatedTarget = h),
        g
          ? ((this.clientX = g.clientX !== void 0 ? g.clientX : g.pageX),
            (this.clientY = g.clientY !== void 0 ? g.clientY : g.pageY),
            (this.screenX = g.screenX || 0),
            (this.screenY = g.screenY || 0))
          : ((this.clientX = o.clientX !== void 0 ? o.clientX : o.pageX),
            (this.clientY = o.clientY !== void 0 ? o.clientY : o.pageY),
            (this.screenX = o.screenX || 0),
            (this.screenY = o.screenY || 0)),
        (this.button = o.button),
        (this.key = o.key || ""),
        (this.ctrlKey = o.ctrlKey),
        (this.altKey = o.altKey),
        (this.shiftKey = o.shiftKey),
        (this.metaKey = o.metaKey),
        (this.pointerId = o.pointerId || 0),
        (this.pointerType =
          typeof o.pointerType == "string"
            ? o.pointerType
            : _R[o.pointerType] || ""),
        (this.state = o.state),
        (this.i = o),
        o.defaultPrevented && dn.aa.h.call(this);
    }
  }
  b(dn, Ue);
  var _R = { 2: "touch", 3: "pen", 4: "mouse" };
  dn.prototype.h = function () {
    dn.aa.h.call(this);
    var o = this.i;
    o.preventDefault ? o.preventDefault() : (o.returnValue = !1);
  };
  var Ea = "closure_listenable_" + ((1e6 * Math.random()) | 0),
    yR = 0;
  function vR(o, h, d, g, N) {
    (this.listener = o),
      (this.proxy = null),
      (this.src = h),
      (this.type = d),
      (this.capture = !!g),
      (this.ha = N),
      (this.key = ++yR),
      (this.da = this.fa = !1);
  }
  function bl(o) {
    (o.da = !0),
      (o.listener = null),
      (o.proxy = null),
      (o.src = null),
      (o.ha = null);
  }
  function Il(o) {
    (this.src = o), (this.g = {}), (this.h = 0);
  }
  Il.prototype.add = function (o, h, d, g, N) {
    var x = o.toString();
    (o = this.g[x]), o || ((o = this.g[x] = []), this.h++);
    var z = Ch(o, h, g, N);
    return (
      -1 < z
        ? ((h = o[z]), d || (h.fa = !1))
        : ((h = new vR(h, this.src, x, !!g, N)), (h.fa = d), o.push(h)),
      h
    );
  };
  function Ih(o, h) {
    var d = h.type;
    if (d in o.g) {
      var g = o.g[d],
        N = Array.prototype.indexOf.call(g, h, void 0),
        x;
      (x = 0 <= N) && Array.prototype.splice.call(g, N, 1),
        x && (bl(h), o.g[d].length == 0 && (delete o.g[d], o.h--));
    }
  }
  function Ch(o, h, d, g) {
    for (var N = 0; N < o.length; ++N) {
      var x = o[N];
      if (!x.da && x.listener == h && x.capture == !!d && x.ha == g) return N;
    }
    return -1;
  }
  var Dh = "closure_lm_" + ((1e6 * Math.random()) | 0),
    Oh = {};
  function Ag(o, h, d, g, N) {
    if (g && g.once) return Sg(o, h, d, g, N);
    if (Array.isArray(h)) {
      for (var x = 0; x < h.length; x++) Ag(o, h[x], d, g, N);
      return null;
    }
    return (
      (d = xh(d)),
      o && o[Ea]
        ? o.K(h, d, c(g) ? !!g.capture : !!g, N)
        : wg(o, h, d, !1, g, N)
    );
  }
  function wg(o, h, d, g, N, x) {
    if (!h) throw Error("Invalid event type");
    var z = c(N) ? !!N.capture : !!N,
      de = Mh(o);
    if ((de || (o[Dh] = de = new Il(o)), (d = de.add(h, d, g, z, x)), d.proxy))
      return d;
    if (
      ((g = ER()),
      (d.proxy = g),
      (g.src = o),
      (g.listener = d),
      o.addEventListener)
    )
      xn || (N = z),
        N === void 0 && (N = !1),
        o.addEventListener(h.toString(), g, N);
    else if (o.attachEvent) o.attachEvent(bg(h.toString()), g);
    else if (o.addListener && o.removeListener) o.addListener(g);
    else throw Error("addEventListener and attachEvent are unavailable.");
    return d;
  }
  function ER() {
    function o(d) {
      return h.call(o.src, o.listener, d);
    }
    const h = TR;
    return o;
  }
  function Sg(o, h, d, g, N) {
    if (Array.isArray(h)) {
      for (var x = 0; x < h.length; x++) Sg(o, h[x], d, g, N);
      return null;
    }
    return (
      (d = xh(d)),
      o && o[Ea]
        ? o.L(h, d, c(g) ? !!g.capture : !!g, N)
        : wg(o, h, d, !0, g, N)
    );
  }
  function Rg(o, h, d, g, N) {
    if (Array.isArray(h))
      for (var x = 0; x < h.length; x++) Rg(o, h[x], d, g, N);
    else
      (g = c(g) ? !!g.capture : !!g),
        (d = xh(d)),
        o && o[Ea]
          ? ((o = o.i),
            (h = String(h).toString()),
            h in o.g &&
              ((x = o.g[h]),
              (d = Ch(x, d, g, N)),
              -1 < d &&
                (bl(x[d]),
                Array.prototype.splice.call(x, d, 1),
                x.length == 0 && (delete o.g[h], o.h--))))
          : o &&
            (o = Mh(o)) &&
            ((h = o.g[h.toString()]),
            (o = -1),
            h && (o = Ch(h, d, g, N)),
            (d = -1 < o ? h[o] : null) && Nh(d));
  }
  function Nh(o) {
    if (typeof o != "number" && o && !o.da) {
      var h = o.src;
      if (h && h[Ea]) Ih(h.i, o);
      else {
        var d = o.type,
          g = o.proxy;
        h.removeEventListener
          ? h.removeEventListener(d, g, o.capture)
          : h.detachEvent
          ? h.detachEvent(bg(d), g)
          : h.addListener && h.removeListener && h.removeListener(g),
          (d = Mh(h))
            ? (Ih(d, o), d.h == 0 && ((d.src = null), (h[Dh] = null)))
            : bl(o);
      }
    }
  }
  function bg(o) {
    return o in Oh ? Oh[o] : (Oh[o] = "on" + o);
  }
  function TR(o, h) {
    if (o.da) o = !0;
    else {
      h = new dn(h, this);
      var d = o.listener,
        g = o.ha || o.src;
      o.fa && Nh(o), (o = d.call(g, h));
    }
    return o;
  }
  function Mh(o) {
    return (o = o[Dh]), o instanceof Il ? o : null;
  }
  var kh = "__closure_events_fn_" + ((1e9 * Math.random()) >>> 0);
  function xh(o) {
    return typeof o == "function"
      ? o
      : (o[kh] ||
          (o[kh] = function (h) {
            return o.handleEvent(h);
          }),
        o[kh]);
  }
  function ot() {
    Nt.call(this), (this.i = new Il(this)), (this.M = this), (this.F = null);
  }
  b(ot, Nt),
    (ot.prototype[Ea] = !0),
    (ot.prototype.removeEventListener = function (o, h, d, g) {
      Rg(this, o, h, d, g);
    });
  function _t(o, h) {
    var d,
      g = o.F;
    if (g) for (d = []; g; g = g.F) d.push(g);
    if (((o = o.M), (g = h.type || h), typeof h == "string")) h = new Ue(h, o);
    else if (h instanceof Ue) h.target = h.target || o;
    else {
      var N = h;
      (h = new Ue(g, o)), S(h, N);
    }
    if (((N = !0), d))
      for (var x = d.length - 1; 0 <= x; x--) {
        var z = (h.g = d[x]);
        N = Cl(z, g, !0, h) && N;
      }
    if (
      ((z = h.g = o), (N = Cl(z, g, !0, h) && N), (N = Cl(z, g, !1, h) && N), d)
    )
      for (x = 0; x < d.length; x++)
        (z = h.g = d[x]), (N = Cl(z, g, !1, h) && N);
  }
  (ot.prototype.N = function () {
    if ((ot.aa.N.call(this), this.i)) {
      var o = this.i,
        h;
      for (h in o.g) {
        for (var d = o.g[h], g = 0; g < d.length; g++) bl(d[g]);
        delete o.g[h], o.h--;
      }
    }
    this.F = null;
  }),
    (ot.prototype.K = function (o, h, d, g) {
      return this.i.add(String(o), h, !1, d, g);
    }),
    (ot.prototype.L = function (o, h, d, g) {
      return this.i.add(String(o), h, !0, d, g);
    });
  function Cl(o, h, d, g) {
    if (((h = o.i.g[String(h)]), !h)) return !0;
    h = h.concat();
    for (var N = !0, x = 0; x < h.length; ++x) {
      var z = h[x];
      if (z && !z.da && z.capture == d) {
        var de = z.listener,
          Je = z.ha || z.src;
        z.fa && Ih(o.i, z), (N = de.call(Je, g) !== !1 && N);
      }
    }
    return N && !g.defaultPrevented;
  }
  function Ig(o, h, d) {
    if (typeof o == "function") d && (o = m(o, d));
    else if (o && typeof o.handleEvent == "function") o = m(o.handleEvent, o);
    else throw Error("Invalid listener argument");
    return 2147483647 < Number(h) ? -1 : l.setTimeout(o, h || 0);
  }
  function Cg(o) {
    o.g = Ig(() => {
      (o.g = null), o.i && ((o.i = !1), Cg(o));
    }, o.l);
    const h = o.h;
    (o.h = null), o.m.apply(null, h);
  }
  class AR extends Nt {
    constructor(h, d) {
      super(),
        (this.m = h),
        (this.l = d),
        (this.h = null),
        (this.i = !1),
        (this.g = null);
    }
    j(h) {
      (this.h = arguments), this.g ? (this.i = !0) : Cg(this);
    }
    N() {
      super.N(),
        this.g &&
          (l.clearTimeout(this.g),
          (this.g = null),
          (this.i = !1),
          (this.h = null));
    }
  }
  function Ta(o) {
    Nt.call(this), (this.h = o), (this.g = {});
  }
  b(Ta, Nt);
  var Dg = [];
  function Og(o) {
    j(
      o.g,
      function (h, d) {
        this.g.hasOwnProperty(d) && Nh(h);
      },
      o
    ),
      (o.g = {});
  }
  (Ta.prototype.N = function () {
    Ta.aa.N.call(this), Og(this);
  }),
    (Ta.prototype.handleEvent = function () {
      throw Error("EventHandler.handleEvent not implemented");
    });
  var Vh = l.JSON.stringify,
    wR = l.JSON.parse,
    SR = class {
      stringify(o) {
        return l.JSON.stringify(o, void 0);
      }
      parse(o) {
        return l.JSON.parse(o, void 0);
      }
    };
  function Ph() {}
  Ph.prototype.h = null;
  function Ng(o) {
    return o.h || (o.h = o.i());
  }
  function Mg() {}
  var Aa = { OPEN: "a", kb: "b", Ja: "c", wb: "d" };
  function Uh() {
    Ue.call(this, "d");
  }
  b(Uh, Ue);
  function Lh() {
    Ue.call(this, "c");
  }
  b(Lh, Ue);
  var ur = {},
    kg = null;
  function Dl() {
    return (kg = kg || new ot());
  }
  ur.La = "serverreachability";
  function xg(o) {
    Ue.call(this, ur.La, o);
  }
  b(xg, Ue);
  function wa(o) {
    const h = Dl();
    _t(h, new xg(h));
  }
  ur.STAT_EVENT = "statevent";
  function Vg(o, h) {
    Ue.call(this, ur.STAT_EVENT, o), (this.stat = h);
  }
  b(Vg, Ue);
  function yt(o) {
    const h = Dl();
    _t(h, new Vg(h, o));
  }
  ur.Ma = "timingevent";
  function Pg(o, h) {
    Ue.call(this, ur.Ma, o), (this.size = h);
  }
  b(Pg, Ue);
  function Sa(o, h) {
    if (typeof o != "function")
      throw Error("Fn must not be null and must be a function");
    return l.setTimeout(function () {
      o();
    }, h);
  }
  function Ra() {
    this.g = !0;
  }
  Ra.prototype.xa = function () {
    this.g = !1;
  };
  function RR(o, h, d, g, N, x) {
    o.info(function () {
      if (o.g)
        if (x)
          for (var z = "", de = x.split("&"), Je = 0; Je < de.length; Je++) {
            var le = de[Je].split("=");
            if (1 < le.length) {
              var lt = le[0];
              le = le[1];
              var ut = lt.split("_");
              z =
                2 <= ut.length && ut[1] == "type"
                  ? z + (lt + "=" + le + "&")
                  : z + (lt + "=redacted&");
            }
          }
        else z = null;
      else z = x;
      return (
        "XMLHTTP REQ (" +
        g +
        ") [attempt " +
        N +
        "]: " +
        h +
        `
` +
        d +
        `
` +
        z
      );
    });
  }
  function bR(o, h, d, g, N, x, z) {
    o.info(function () {
      return (
        "XMLHTTP RESP (" +
        g +
        ") [ attempt " +
        N +
        "]: " +
        h +
        `
` +
        d +
        `
` +
        x +
        " " +
        z
      );
    });
  }
  function Zr(o, h, d, g) {
    o.info(function () {
      return "XMLHTTP TEXT (" + h + "): " + CR(o, d) + (g ? " " + g : "");
    });
  }
  function IR(o, h) {
    o.info(function () {
      return "TIMEOUT: " + h;
    });
  }
  Ra.prototype.info = function () {};
  function CR(o, h) {
    if (!o.g) return h;
    if (!h) return null;
    try {
      var d = JSON.parse(h);
      if (d) {
        for (o = 0; o < d.length; o++)
          if (Array.isArray(d[o])) {
            var g = d[o];
            if (!(2 > g.length)) {
              var N = g[1];
              if (Array.isArray(N) && !(1 > N.length)) {
                var x = N[0];
                if (x != "noop" && x != "stop" && x != "close")
                  for (var z = 1; z < N.length; z++) N[z] = "";
              }
            }
          }
      }
      return Vh(d);
    } catch {
      return h;
    }
  }
  var Ol = {
      NO_ERROR: 0,
      gb: 1,
      tb: 2,
      sb: 3,
      nb: 4,
      rb: 5,
      ub: 6,
      Ia: 7,
      TIMEOUT: 8,
      xb: 9,
    },
    Ug = {
      lb: "complete",
      Hb: "success",
      Ja: "error",
      Ia: "abort",
      zb: "ready",
      Ab: "readystatechange",
      TIMEOUT: "timeout",
      vb: "incrementaldata",
      yb: "progress",
      ob: "downloadprogress",
      Pb: "uploadprogress",
    },
    Bh;
  function Nl() {}
  b(Nl, Ph),
    (Nl.prototype.g = function () {
      return new XMLHttpRequest();
    }),
    (Nl.prototype.i = function () {
      return {};
    }),
    (Bh = new Nl());
  function di(o, h, d, g) {
    (this.j = o),
      (this.i = h),
      (this.l = d),
      (this.R = g || 1),
      (this.U = new Ta(this)),
      (this.I = 45e3),
      (this.H = null),
      (this.o = !1),
      (this.m = this.A = this.v = this.L = this.F = this.S = this.B = null),
      (this.D = []),
      (this.g = null),
      (this.C = 0),
      (this.s = this.u = null),
      (this.X = -1),
      (this.J = !1),
      (this.O = 0),
      (this.M = null),
      (this.W = this.K = this.T = this.P = !1),
      (this.h = new Lg());
  }
  function Lg() {
    (this.i = null), (this.g = ""), (this.h = !1);
  }
  var Bg = {},
    zh = {};
  function jh(o, h, d) {
    (o.L = 1), (o.v = Vl(Vn(h))), (o.m = d), (o.P = !0), zg(o, null);
  }
  function zg(o, h) {
    (o.F = Date.now()), Ml(o), (o.A = Vn(o.v));
    var d = o.A,
      g = o.R;
    Array.isArray(g) || (g = [String(g)]),
      e_(d.i, "t", g),
      (o.C = 0),
      (d = o.j.J),
      (o.h = new Lg()),
      (o.g = y_(o.j, d ? h : null, !o.m)),
      0 < o.O && (o.M = new AR(m(o.Y, o, o.g), o.O)),
      (h = o.U),
      (d = o.g),
      (g = o.ca);
    var N = "readystatechange";
    Array.isArray(N) || (N && (Dg[0] = N.toString()), (N = Dg));
    for (var x = 0; x < N.length; x++) {
      var z = Ag(d, N[x], g || h.handleEvent, !1, h.h || h);
      if (!z) break;
      h.g[z.key] = z;
    }
    (h = o.H ? y(o.H) : {}),
      o.m
        ? (o.u || (o.u = "POST"),
          (h["Content-Type"] = "application/x-www-form-urlencoded"),
          o.g.ea(o.A, o.u, o.m, h))
        : ((o.u = "GET"), o.g.ea(o.A, o.u, null, h)),
      wa(),
      RR(o.i, o.u, o.A, o.l, o.R, o.m);
  }
  (di.prototype.ca = function (o) {
    o = o.target;
    const h = this.M;
    h && Pn(o) == 3 ? h.j() : this.Y(o);
  }),
    (di.prototype.Y = function (o) {
      try {
        if (o == this.g)
          e: {
            const ut = Pn(this.g);
            var h = this.g.Ba();
            const ts = this.g.Z();
            if (
              !(3 > ut) &&
              (ut != 3 || (this.g && (this.h.h || this.g.oa() || o_(this.g))))
            ) {
              this.J ||
                ut != 4 ||
                h == 7 ||
                (h == 8 || 0 >= ts ? wa(3) : wa(2)),
                qh(this);
              var d = this.g.Z();
              this.X = d;
              t: if (jg(this)) {
                var g = o_(this.g);
                o = "";
                var N = g.length,
                  x = Pn(this.g) == 4;
                if (!this.h.i) {
                  if (typeof TextDecoder > "u") {
                    cr(this), ba(this);
                    var z = "";
                    break t;
                  }
                  this.h.i = new l.TextDecoder();
                }
                for (h = 0; h < N; h++)
                  (this.h.h = !0),
                    (o += this.h.i.decode(g[h], {
                      stream: !(x && h == N - 1),
                    }));
                (g.length = 0), (this.h.g += o), (this.C = 0), (z = this.h.g);
              } else z = this.g.oa();
              if (
                ((this.o = d == 200),
                bR(this.i, this.u, this.A, this.l, this.R, ut, d),
                this.o)
              ) {
                if (this.T && !this.K) {
                  t: {
                    if (this.g) {
                      var de,
                        Je = this.g;
                      if (
                        (de = Je.g
                          ? Je.g.getResponseHeader("X-HTTP-Initial-Response")
                          : null) &&
                        !v(de)
                      ) {
                        var le = de;
                        break t;
                      }
                    }
                    le = null;
                  }
                  if ((d = le))
                    Zr(
                      this.i,
                      this.l,
                      d,
                      "Initial handshake response via X-HTTP-Initial-Response"
                    ),
                      (this.K = !0),
                      Hh(this, d);
                  else {
                    (this.o = !1), (this.s = 3), yt(12), cr(this), ba(this);
                    break e;
                  }
                }
                if (this.P) {
                  d = !0;
                  let nn;
                  for (; !this.J && this.C < z.length; )
                    if (((nn = DR(this, z)), nn == zh)) {
                      ut == 4 && ((this.s = 4), yt(14), (d = !1)),
                        Zr(this.i, this.l, null, "[Incomplete Response]");
                      break;
                    } else if (nn == Bg) {
                      (this.s = 4),
                        yt(15),
                        Zr(this.i, this.l, z, "[Invalid Chunk]"),
                        (d = !1);
                      break;
                    } else Zr(this.i, this.l, nn, null), Hh(this, nn);
                  if (
                    (jg(this) &&
                      this.C != 0 &&
                      ((this.h.g = this.h.g.slice(this.C)), (this.C = 0)),
                    ut != 4 ||
                      z.length != 0 ||
                      this.h.h ||
                      ((this.s = 1), yt(16), (d = !1)),
                    (this.o = this.o && d),
                    !d)
                  )
                    Zr(this.i, this.l, z, "[Invalid Chunked Response]"),
                      cr(this),
                      ba(this);
                  else if (0 < z.length && !this.W) {
                    this.W = !0;
                    var lt = this.j;
                    lt.g == this &&
                      lt.ba &&
                      !lt.M &&
                      (lt.j.info(
                        "Great, no buffering proxy detected. Bytes received: " +
                          z.length
                      ),
                      Yh(lt),
                      (lt.M = !0),
                      yt(11));
                  }
                } else Zr(this.i, this.l, z, null), Hh(this, z);
                ut == 4 && cr(this),
                  this.o &&
                    !this.J &&
                    (ut == 4 ? m_(this.j, this) : ((this.o = !1), Ml(this)));
              } else
                KR(this.g),
                  d == 400 && 0 < z.indexOf("Unknown SID")
                    ? ((this.s = 3), yt(12))
                    : ((this.s = 0), yt(13)),
                  cr(this),
                  ba(this);
            }
          }
      } catch {
      } finally {
      }
    });
  function jg(o) {
    return o.g ? o.u == "GET" && o.L != 2 && o.j.Ca : !1;
  }
  function DR(o, h) {
    var d = o.C,
      g = h.indexOf(
        `
`,
        d
      );
    return g == -1
      ? zh
      : ((d = Number(h.substring(d, g))),
        isNaN(d)
          ? Bg
          : ((g += 1),
            g + d > h.length
              ? zh
              : ((h = h.slice(g, g + d)), (o.C = g + d), h)));
  }
  di.prototype.cancel = function () {
    (this.J = !0), cr(this);
  };
  function Ml(o) {
    (o.S = Date.now() + o.I), qg(o, o.I);
  }
  function qg(o, h) {
    if (o.B != null) throw Error("WatchDog timer not null");
    o.B = Sa(m(o.ba, o), h);
  }
  function qh(o) {
    o.B && (l.clearTimeout(o.B), (o.B = null));
  }
  di.prototype.ba = function () {
    this.B = null;
    const o = Date.now();
    0 <= o - this.S
      ? (IR(this.i, this.A),
        this.L != 2 && (wa(), yt(17)),
        cr(this),
        (this.s = 2),
        ba(this))
      : qg(this, this.S - o);
  };
  function ba(o) {
    o.j.G == 0 || o.J || m_(o.j, o);
  }
  function cr(o) {
    qh(o);
    var h = o.M;
    h && typeof h.ma == "function" && h.ma(),
      (o.M = null),
      Og(o.U),
      o.g && ((h = o.g), (o.g = null), h.abort(), h.ma());
  }
  function Hh(o, h) {
    try {
      var d = o.j;
      if (d.G != 0 && (d.g == o || Fh(d.h, o))) {
        if (!o.K && Fh(d.h, o) && d.G == 3) {
          try {
            var g = d.Da.g.parse(h);
          } catch {
            g = null;
          }
          if (Array.isArray(g) && g.length == 3) {
            var N = g;
            if (N[0] == 0) {
              e: if (!d.u) {
                if (d.g)
                  if (d.g.F + 3e3 < o.F) jl(d), Bl(d);
                  else break e;
                $h(d), yt(18);
              }
            } else
              (d.za = N[1]),
                0 < d.za - d.T &&
                  37500 > N[2] &&
                  d.F &&
                  d.v == 0 &&
                  !d.C &&
                  (d.C = Sa(m(d.Za, d), 6e3));
            if (1 >= Gg(d.h) && d.ca) {
              try {
                d.ca();
              } catch {}
              d.ca = void 0;
            }
          } else fr(d, 11);
        } else if (((o.K || d.g == o) && jl(d), !v(h)))
          for (N = d.Da.g.parse(h), h = 0; h < N.length; h++) {
            let le = N[h];
            if (((d.T = le[0]), (le = le[1]), d.G == 2))
              if (le[0] == "c") {
                (d.K = le[1]), (d.ia = le[2]);
                const lt = le[3];
                lt != null && ((d.la = lt), d.j.info("VER=" + d.la));
                const ut = le[4];
                ut != null && ((d.Aa = ut), d.j.info("SVER=" + d.Aa));
                const ts = le[5];
                ts != null &&
                  typeof ts == "number" &&
                  0 < ts &&
                  ((g = 1.5 * ts),
                  (d.L = g),
                  d.j.info("backChannelRequestTimeoutMs_=" + g)),
                  (g = d);
                const nn = o.g;
                if (nn) {
                  const Hl = nn.g
                    ? nn.g.getResponseHeader("X-Client-Wire-Protocol")
                    : null;
                  if (Hl) {
                    var x = g.h;
                    x.g ||
                      (Hl.indexOf("spdy") == -1 &&
                        Hl.indexOf("quic") == -1 &&
                        Hl.indexOf("h2") == -1) ||
                      ((x.j = x.l),
                      (x.g = new Set()),
                      x.h && (Gh(x, x.h), (x.h = null)));
                  }
                  if (g.D) {
                    const Xh = nn.g
                      ? nn.g.getResponseHeader("X-HTTP-Session-Id")
                      : null;
                    Xh && ((g.ya = Xh), ye(g.I, g.D, Xh));
                  }
                }
                (d.G = 3),
                  d.l && d.l.ua(),
                  d.ba &&
                    ((d.R = Date.now() - o.F),
                    d.j.info("Handshake RTT: " + d.R + "ms")),
                  (g = d);
                var z = o;
                if (((g.qa = __(g, g.J ? g.ia : null, g.W)), z.K)) {
                  Kg(g.h, z);
                  var de = z,
                    Je = g.L;
                  Je && (de.I = Je), de.B && (qh(de), Ml(de)), (g.g = z);
                } else f_(g);
                0 < d.i.length && zl(d);
              } else (le[0] != "stop" && le[0] != "close") || fr(d, 7);
            else
              d.G == 3 &&
                (le[0] == "stop" || le[0] == "close"
                  ? le[0] == "stop"
                    ? fr(d, 7)
                    : Qh(d)
                  : le[0] != "noop" && d.l && d.l.ta(le),
                (d.v = 0));
          }
      }
      wa(4);
    } catch {}
  }
  var OR = class {
    constructor(o, h) {
      (this.g = o), (this.map = h);
    }
  };
  function Hg(o) {
    (this.l = o || 10),
      l.PerformanceNavigationTiming
        ? ((o = l.performance.getEntriesByType("navigation")),
          (o =
            0 < o.length &&
            (o[0].nextHopProtocol == "hq" || o[0].nextHopProtocol == "h2")))
        : (o = !!(
            l.chrome &&
            l.chrome.loadTimes &&
            l.chrome.loadTimes() &&
            l.chrome.loadTimes().wasFetchedViaSpdy
          )),
      (this.j = o ? this.l : 1),
      (this.g = null),
      1 < this.j && (this.g = new Set()),
      (this.h = null),
      (this.i = []);
  }
  function Fg(o) {
    return o.h ? !0 : o.g ? o.g.size >= o.j : !1;
  }
  function Gg(o) {
    return o.h ? 1 : o.g ? o.g.size : 0;
  }
  function Fh(o, h) {
    return o.h ? o.h == h : o.g ? o.g.has(h) : !1;
  }
  function Gh(o, h) {
    o.g ? o.g.add(h) : (o.h = h);
  }
  function Kg(o, h) {
    o.h && o.h == h ? (o.h = null) : o.g && o.g.has(h) && o.g.delete(h);
  }
  Hg.prototype.cancel = function () {
    if (((this.i = Qg(this)), this.h)) this.h.cancel(), (this.h = null);
    else if (this.g && this.g.size !== 0) {
      for (const o of this.g.values()) o.cancel();
      this.g.clear();
    }
  };
  function Qg(o) {
    if (o.h != null) return o.i.concat(o.h.D);
    if (o.g != null && o.g.size !== 0) {
      let h = o.i;
      for (const d of o.g.values()) h = h.concat(d.D);
      return h;
    }
    return C(o.i);
  }
  function NR(o) {
    if (o.V && typeof o.V == "function") return o.V();
    if (
      (typeof Map < "u" && o instanceof Map) ||
      (typeof Set < "u" && o instanceof Set)
    )
      return Array.from(o.values());
    if (typeof o == "string") return o.split("");
    if (u(o)) {
      for (var h = [], d = o.length, g = 0; g < d; g++) h.push(o[g]);
      return h;
    }
    (h = []), (d = 0);
    for (g in o) h[d++] = o[g];
    return h;
  }
  function MR(o) {
    if (o.na && typeof o.na == "function") return o.na();
    if (!o.V || typeof o.V != "function") {
      if (typeof Map < "u" && o instanceof Map) return Array.from(o.keys());
      if (!(typeof Set < "u" && o instanceof Set)) {
        if (u(o) || typeof o == "string") {
          var h = [];
          o = o.length;
          for (var d = 0; d < o; d++) h.push(d);
          return h;
        }
        (h = []), (d = 0);
        for (const g in o) h[d++] = g;
        return h;
      }
    }
  }
  function $g(o, h) {
    if (o.forEach && typeof o.forEach == "function") o.forEach(h, void 0);
    else if (u(o) || typeof o == "string")
      Array.prototype.forEach.call(o, h, void 0);
    else
      for (var d = MR(o), g = NR(o), N = g.length, x = 0; x < N; x++)
        h.call(void 0, g[x], d && d[x], o);
  }
  var Yg = RegExp(
    "^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$"
  );
  function kR(o, h) {
    if (o) {
      o = o.split("&");
      for (var d = 0; d < o.length; d++) {
        var g = o[d].indexOf("="),
          N = null;
        if (0 <= g) {
          var x = o[d].substring(0, g);
          N = o[d].substring(g + 1);
        } else x = o[d];
        h(x, N ? decodeURIComponent(N.replace(/\+/g, " ")) : "");
      }
    }
  }
  function hr(o) {
    if (
      ((this.g = this.o = this.j = ""),
      (this.s = null),
      (this.m = this.l = ""),
      (this.h = !1),
      o instanceof hr)
    ) {
      (this.h = o.h),
        kl(this, o.j),
        (this.o = o.o),
        (this.g = o.g),
        xl(this, o.s),
        (this.l = o.l);
      var h = o.i,
        d = new Da();
      (d.i = h.i),
        h.g && ((d.g = new Map(h.g)), (d.h = h.h)),
        Xg(this, d),
        (this.m = o.m);
    } else
      o && (h = String(o).match(Yg))
        ? ((this.h = !1),
          kl(this, h[1] || "", !0),
          (this.o = Ia(h[2] || "")),
          (this.g = Ia(h[3] || "", !0)),
          xl(this, h[4]),
          (this.l = Ia(h[5] || "", !0)),
          Xg(this, h[6] || "", !0),
          (this.m = Ia(h[7] || "")))
        : ((this.h = !1), (this.i = new Da(null, this.h)));
  }
  hr.prototype.toString = function () {
    var o = [],
      h = this.j;
    h && o.push(Ca(h, Wg, !0), ":");
    var d = this.g;
    return (
      (d || h == "file") &&
        (o.push("//"),
        (h = this.o) && o.push(Ca(h, Wg, !0), "@"),
        o.push(
          encodeURIComponent(String(d)).replace(/%25([0-9a-fA-F]{2})/g, "%$1")
        ),
        (d = this.s),
        d != null && o.push(":", String(d))),
      (d = this.l) &&
        (this.g && d.charAt(0) != "/" && o.push("/"),
        o.push(Ca(d, d.charAt(0) == "/" ? PR : VR, !0))),
      (d = this.i.toString()) && o.push("?", d),
      (d = this.m) && o.push("#", Ca(d, LR)),
      o.join("")
    );
  };
  function Vn(o) {
    return new hr(o);
  }
  function kl(o, h, d) {
    (o.j = d ? Ia(h, !0) : h), o.j && (o.j = o.j.replace(/:$/, ""));
  }
  function xl(o, h) {
    if (h) {
      if (((h = Number(h)), isNaN(h) || 0 > h))
        throw Error("Bad port number " + h);
      o.s = h;
    } else o.s = null;
  }
  function Xg(o, h, d) {
    h instanceof Da
      ? ((o.i = h), BR(o.i, o.h))
      : (d || (h = Ca(h, UR)), (o.i = new Da(h, o.h)));
  }
  function ye(o, h, d) {
    o.i.set(h, d);
  }
  function Vl(o) {
    return (
      ye(
        o,
        "zx",
        Math.floor(2147483648 * Math.random()).toString(36) +
          Math.abs(
            Math.floor(2147483648 * Math.random()) ^ Date.now()
          ).toString(36)
      ),
      o
    );
  }
  function Ia(o, h) {
    return o
      ? h
        ? decodeURI(o.replace(/%25/g, "%2525"))
        : decodeURIComponent(o)
      : "";
  }
  function Ca(o, h, d) {
    return typeof o == "string"
      ? ((o = encodeURI(o).replace(h, xR)),
        d && (o = o.replace(/%25([0-9a-fA-F]{2})/g, "%$1")),
        o)
      : null;
  }
  function xR(o) {
    return (
      (o = o.charCodeAt(0)),
      "%" + ((o >> 4) & 15).toString(16) + (o & 15).toString(16)
    );
  }
  var Wg = /[#\/\?@]/g,
    VR = /[#\?:]/g,
    PR = /[#\?]/g,
    UR = /[#\?@]/g,
    LR = /#/g;
  function Da(o, h) {
    (this.h = this.g = null), (this.i = o || null), (this.j = !!h);
  }
  function mi(o) {
    o.g ||
      ((o.g = new Map()),
      (o.h = 0),
      o.i &&
        kR(o.i, function (h, d) {
          o.add(decodeURIComponent(h.replace(/\+/g, " ")), d);
        }));
  }
  (t = Da.prototype),
    (t.add = function (o, h) {
      mi(this), (this.i = null), (o = Jr(this, o));
      var d = this.g.get(o);
      return d || this.g.set(o, (d = [])), d.push(h), (this.h += 1), this;
    });
  function Zg(o, h) {
    mi(o),
      (h = Jr(o, h)),
      o.g.has(h) && ((o.i = null), (o.h -= o.g.get(h).length), o.g.delete(h));
  }
  function Jg(o, h) {
    return mi(o), (h = Jr(o, h)), o.g.has(h);
  }
  (t.forEach = function (o, h) {
    mi(this),
      this.g.forEach(function (d, g) {
        d.forEach(function (N) {
          o.call(h, N, g, this);
        }, this);
      }, this);
  }),
    (t.na = function () {
      mi(this);
      const o = Array.from(this.g.values()),
        h = Array.from(this.g.keys()),
        d = [];
      for (let g = 0; g < h.length; g++) {
        const N = o[g];
        for (let x = 0; x < N.length; x++) d.push(h[g]);
      }
      return d;
    }),
    (t.V = function (o) {
      mi(this);
      let h = [];
      if (typeof o == "string")
        Jg(this, o) && (h = h.concat(this.g.get(Jr(this, o))));
      else {
        o = Array.from(this.g.values());
        for (let d = 0; d < o.length; d++) h = h.concat(o[d]);
      }
      return h;
    }),
    (t.set = function (o, h) {
      return (
        mi(this),
        (this.i = null),
        (o = Jr(this, o)),
        Jg(this, o) && (this.h -= this.g.get(o).length),
        this.g.set(o, [h]),
        (this.h += 1),
        this
      );
    }),
    (t.get = function (o, h) {
      return o ? ((o = this.V(o)), 0 < o.length ? String(o[0]) : h) : h;
    });
  function e_(o, h, d) {
    Zg(o, h),
      0 < d.length &&
        ((o.i = null), o.g.set(Jr(o, h), C(d)), (o.h += d.length));
  }
  t.toString = function () {
    if (this.i) return this.i;
    if (!this.g) return "";
    const o = [],
      h = Array.from(this.g.keys());
    for (var d = 0; d < h.length; d++) {
      var g = h[d];
      const x = encodeURIComponent(String(g)),
        z = this.V(g);
      for (g = 0; g < z.length; g++) {
        var N = x;
        z[g] !== "" && (N += "=" + encodeURIComponent(String(z[g]))), o.push(N);
      }
    }
    return (this.i = o.join("&"));
  };
  function Jr(o, h) {
    return (h = String(h)), o.j && (h = h.toLowerCase()), h;
  }
  function BR(o, h) {
    h &&
      !o.j &&
      (mi(o),
      (o.i = null),
      o.g.forEach(function (d, g) {
        var N = g.toLowerCase();
        g != N && (Zg(this, g), e_(this, N, d));
      }, o)),
      (o.j = h);
  }
  function zR(o, h) {
    const d = new Ra();
    if (l.Image) {
      const g = new Image();
      (g.onload = _(pi, d, "TestLoadImage: loaded", !0, h, g)),
        (g.onerror = _(pi, d, "TestLoadImage: error", !1, h, g)),
        (g.onabort = _(pi, d, "TestLoadImage: abort", !1, h, g)),
        (g.ontimeout = _(pi, d, "TestLoadImage: timeout", !1, h, g)),
        l.setTimeout(function () {
          g.ontimeout && g.ontimeout();
        }, 1e4),
        (g.src = o);
    } else h(!1);
  }
  function jR(o, h) {
    const d = new Ra(),
      g = new AbortController(),
      N = setTimeout(() => {
        g.abort(), pi(d, "TestPingServer: timeout", !1, h);
      }, 1e4);
    fetch(o, { signal: g.signal })
      .then((x) => {
        clearTimeout(N),
          x.ok
            ? pi(d, "TestPingServer: ok", !0, h)
            : pi(d, "TestPingServer: server error", !1, h);
      })
      .catch(() => {
        clearTimeout(N), pi(d, "TestPingServer: error", !1, h);
      });
  }
  function pi(o, h, d, g, N) {
    try {
      N &&
        ((N.onload = null),
        (N.onerror = null),
        (N.onabort = null),
        (N.ontimeout = null)),
        g(d);
    } catch {}
  }
  function qR() {
    this.g = new SR();
  }
  function HR(o, h, d) {
    const g = d || "";
    try {
      $g(o, function (N, x) {
        let z = N;
        c(N) && (z = Vh(N)), h.push(g + x + "=" + encodeURIComponent(z));
      });
    } catch (N) {
      throw (h.push(g + "type=" + encodeURIComponent("_badmap")), N);
    }
  }
  function Pl(o) {
    (this.l = o.Ub || null), (this.j = o.eb || !1);
  }
  b(Pl, Ph),
    (Pl.prototype.g = function () {
      return new Ul(this.l, this.j);
    }),
    (Pl.prototype.i = (function (o) {
      return function () {
        return o;
      };
    })({}));
  function Ul(o, h) {
    ot.call(this),
      (this.D = o),
      (this.o = h),
      (this.m = void 0),
      (this.status = this.readyState = 0),
      (this.responseType =
        this.responseText =
        this.response =
        this.statusText =
          ""),
      (this.onreadystatechange = null),
      (this.u = new Headers()),
      (this.h = null),
      (this.B = "GET"),
      (this.A = ""),
      (this.g = !1),
      (this.v = this.j = this.l = null);
  }
  b(Ul, ot),
    (t = Ul.prototype),
    (t.open = function (o, h) {
      if (this.readyState != 0)
        throw (this.abort(), Error("Error reopening a connection"));
      (this.B = o), (this.A = h), (this.readyState = 1), Na(this);
    }),
    (t.send = function (o) {
      if (this.readyState != 1)
        throw (this.abort(), Error("need to call open() first. "));
      this.g = !0;
      const h = {
        headers: this.u,
        method: this.B,
        credentials: this.m,
        cache: void 0,
      };
      o && (h.body = o),
        (this.D || l)
          .fetch(new Request(this.A, h))
          .then(this.Sa.bind(this), this.ga.bind(this));
    }),
    (t.abort = function () {
      (this.response = this.responseText = ""),
        (this.u = new Headers()),
        (this.status = 0),
        this.j && this.j.cancel("Request was aborted.").catch(() => {}),
        1 <= this.readyState &&
          this.g &&
          this.readyState != 4 &&
          ((this.g = !1), Oa(this)),
        (this.readyState = 0);
    }),
    (t.Sa = function (o) {
      if (
        this.g &&
        ((this.l = o),
        this.h ||
          ((this.status = this.l.status),
          (this.statusText = this.l.statusText),
          (this.h = o.headers),
          (this.readyState = 2),
          Na(this)),
        this.g && ((this.readyState = 3), Na(this), this.g))
      )
        if (this.responseType === "arraybuffer")
          o.arrayBuffer().then(this.Qa.bind(this), this.ga.bind(this));
        else if (typeof l.ReadableStream < "u" && "body" in o) {
          if (((this.j = o.body.getReader()), this.o)) {
            if (this.responseType)
              throw Error(
                'responseType must be empty for "streamBinaryChunks" mode responses.'
              );
            this.response = [];
          } else
            (this.response = this.responseText = ""),
              (this.v = new TextDecoder());
          t_(this);
        } else o.text().then(this.Ra.bind(this), this.ga.bind(this));
    });
  function t_(o) {
    o.j.read().then(o.Pa.bind(o)).catch(o.ga.bind(o));
  }
  (t.Pa = function (o) {
    if (this.g) {
      if (this.o && o.value) this.response.push(o.value);
      else if (!this.o) {
        var h = o.value ? o.value : new Uint8Array(0);
        (h = this.v.decode(h, { stream: !o.done })) &&
          (this.response = this.responseText += h);
      }
      o.done ? Oa(this) : Na(this), this.readyState == 3 && t_(this);
    }
  }),
    (t.Ra = function (o) {
      this.g && ((this.response = this.responseText = o), Oa(this));
    }),
    (t.Qa = function (o) {
      this.g && ((this.response = o), Oa(this));
    }),
    (t.ga = function () {
      this.g && Oa(this);
    });
  function Oa(o) {
    (o.readyState = 4), (o.l = null), (o.j = null), (o.v = null), Na(o);
  }
  (t.setRequestHeader = function (o, h) {
    this.u.append(o, h);
  }),
    (t.getResponseHeader = function (o) {
      return (this.h && this.h.get(o.toLowerCase())) || "";
    }),
    (t.getAllResponseHeaders = function () {
      if (!this.h) return "";
      const o = [],
        h = this.h.entries();
      for (var d = h.next(); !d.done; )
        (d = d.value), o.push(d[0] + ": " + d[1]), (d = h.next());
      return o.join(`\r
`);
    });
  function Na(o) {
    o.onreadystatechange && o.onreadystatechange.call(o);
  }
  Object.defineProperty(Ul.prototype, "withCredentials", {
    get: function () {
      return this.m === "include";
    },
    set: function (o) {
      this.m = o ? "include" : "same-origin";
    },
  });
  function n_(o) {
    let h = "";
    return (
      j(o, function (d, g) {
        (h += g),
          (h += ":"),
          (h += d),
          (h += `\r
`);
      }),
      h
    );
  }
  function Kh(o, h, d) {
    e: {
      for (g in d) {
        var g = !1;
        break e;
      }
      g = !0;
    }
    g ||
      ((d = n_(d)),
      typeof o == "string"
        ? d != null && encodeURIComponent(String(d))
        : ye(o, h, d));
  }
  function Ne(o) {
    ot.call(this),
      (this.headers = new Map()),
      (this.o = o || null),
      (this.h = !1),
      (this.v = this.g = null),
      (this.D = ""),
      (this.m = 0),
      (this.l = ""),
      (this.j = this.B = this.u = this.A = !1),
      (this.I = null),
      (this.H = ""),
      (this.J = !1);
  }
  b(Ne, ot);
  var FR = /^https?$/i,
    GR = ["POST", "PUT"];
  (t = Ne.prototype),
    (t.Ha = function (o) {
      this.J = o;
    }),
    (t.ea = function (o, h, d, g) {
      if (this.g)
        throw Error(
          "[goog.net.XhrIo] Object is active with another request=" +
            this.D +
            "; newUri=" +
            o
        );
      (h = h ? h.toUpperCase() : "GET"),
        (this.D = o),
        (this.l = ""),
        (this.m = 0),
        (this.A = !1),
        (this.h = !0),
        (this.g = this.o ? this.o.g() : Bh.g()),
        (this.v = this.o ? Ng(this.o) : Ng(Bh)),
        (this.g.onreadystatechange = m(this.Ea, this));
      try {
        (this.B = !0), this.g.open(h, String(o), !0), (this.B = !1);
      } catch (x) {
        i_(this, x);
        return;
      }
      if (((o = d || ""), (d = new Map(this.headers)), g))
        if (Object.getPrototypeOf(g) === Object.prototype)
          for (var N in g) d.set(N, g[N]);
        else if (typeof g.keys == "function" && typeof g.get == "function")
          for (const x of g.keys()) d.set(x, g.get(x));
        else throw Error("Unknown input type for opt_headers: " + String(g));
      (g = Array.from(d.keys()).find((x) => x.toLowerCase() == "content-type")),
        (N = l.FormData && o instanceof l.FormData),
        !(0 <= Array.prototype.indexOf.call(GR, h, void 0)) ||
          g ||
          N ||
          d.set(
            "Content-Type",
            "application/x-www-form-urlencoded;charset=utf-8"
          );
      for (const [x, z] of d) this.g.setRequestHeader(x, z);
      this.H && (this.g.responseType = this.H),
        "withCredentials" in this.g &&
          this.g.withCredentials !== this.J &&
          (this.g.withCredentials = this.J);
      try {
        a_(this), (this.u = !0), this.g.send(o), (this.u = !1);
      } catch (x) {
        i_(this, x);
      }
    });
  function i_(o, h) {
    (o.h = !1),
      o.g && ((o.j = !0), o.g.abort(), (o.j = !1)),
      (o.l = h),
      (o.m = 5),
      r_(o),
      Ll(o);
  }
  function r_(o) {
    o.A || ((o.A = !0), _t(o, "complete"), _t(o, "error"));
  }
  (t.abort = function (o) {
    this.g &&
      this.h &&
      ((this.h = !1),
      (this.j = !0),
      this.g.abort(),
      (this.j = !1),
      (this.m = o || 7),
      _t(this, "complete"),
      _t(this, "abort"),
      Ll(this));
  }),
    (t.N = function () {
      this.g &&
        (this.h &&
          ((this.h = !1), (this.j = !0), this.g.abort(), (this.j = !1)),
        Ll(this, !0)),
        Ne.aa.N.call(this);
    }),
    (t.Ea = function () {
      this.s || (this.B || this.u || this.j ? s_(this) : this.bb());
    }),
    (t.bb = function () {
      s_(this);
    });
  function s_(o) {
    if (o.h && typeof a < "u" && (!o.v[1] || Pn(o) != 4 || o.Z() != 2)) {
      if (o.u && Pn(o) == 4) Ig(o.Ea, 0, o);
      else if ((_t(o, "readystatechange"), Pn(o) == 4)) {
        o.h = !1;
        try {
          const z = o.Z();
          e: switch (z) {
            case 200:
            case 201:
            case 202:
            case 204:
            case 206:
            case 304:
            case 1223:
              var h = !0;
              break e;
            default:
              h = !1;
          }
          var d;
          if (!(d = h)) {
            var g;
            if ((g = z === 0)) {
              var N = String(o.D).match(Yg)[1] || null;
              !N &&
                l.self &&
                l.self.location &&
                (N = l.self.location.protocol.slice(0, -1)),
                (g = !FR.test(N ? N.toLowerCase() : ""));
            }
            d = g;
          }
          if (d) _t(o, "complete"), _t(o, "success");
          else {
            o.m = 6;
            try {
              var x = 2 < Pn(o) ? o.g.statusText : "";
            } catch {
              x = "";
            }
            (o.l = x + " [" + o.Z() + "]"), r_(o);
          }
        } finally {
          Ll(o);
        }
      }
    }
  }
  function Ll(o, h) {
    if (o.g) {
      a_(o);
      const d = o.g,
        g = o.v[0] ? () => {} : null;
      (o.g = null), (o.v = null), h || _t(o, "ready");
      try {
        d.onreadystatechange = g;
      } catch {}
    }
  }
  function a_(o) {
    o.I && (l.clearTimeout(o.I), (o.I = null));
  }
  t.isActive = function () {
    return !!this.g;
  };
  function Pn(o) {
    return o.g ? o.g.readyState : 0;
  }
  (t.Z = function () {
    try {
      return 2 < Pn(this) ? this.g.status : -1;
    } catch {
      return -1;
    }
  }),
    (t.oa = function () {
      try {
        return this.g ? this.g.responseText : "";
      } catch {
        return "";
      }
    }),
    (t.Oa = function (o) {
      if (this.g) {
        var h = this.g.responseText;
        return o && h.indexOf(o) == 0 && (h = h.substring(o.length)), wR(h);
      }
    });
  function o_(o) {
    try {
      if (!o.g) return null;
      if ("response" in o.g) return o.g.response;
      switch (o.H) {
        case "":
        case "text":
          return o.g.responseText;
        case "arraybuffer":
          if ("mozResponseArrayBuffer" in o.g)
            return o.g.mozResponseArrayBuffer;
      }
      return null;
    } catch {
      return null;
    }
  }
  function KR(o) {
    const h = {};
    o = ((o.g && 2 <= Pn(o) && o.g.getAllResponseHeaders()) || "").split(`\r
`);
    for (let g = 0; g < o.length; g++) {
      if (v(o[g])) continue;
      var d = I(o[g]);
      const N = d[0];
      if (((d = d[1]), typeof d != "string")) continue;
      d = d.trim();
      const x = h[N] || [];
      (h[N] = x), x.push(d);
    }
    A(h, function (g) {
      return g.join(", ");
    });
  }
  (t.Ba = function () {
    return this.m;
  }),
    (t.Ka = function () {
      return typeof this.l == "string" ? this.l : String(this.l);
    });
  function Ma(o, h, d) {
    return (d && d.internalChannelParams && d.internalChannelParams[o]) || h;
  }
  function l_(o) {
    (this.Aa = 0),
      (this.i = []),
      (this.j = new Ra()),
      (this.ia =
        this.qa =
        this.I =
        this.W =
        this.g =
        this.ya =
        this.D =
        this.H =
        this.m =
        this.S =
        this.o =
          null),
      (this.Ya = this.U = 0),
      (this.Va = Ma("failFast", !1, o)),
      (this.F = this.C = this.u = this.s = this.l = null),
      (this.X = !0),
      (this.za = this.T = -1),
      (this.Y = this.v = this.B = 0),
      (this.Ta = Ma("baseRetryDelayMs", 5e3, o)),
      (this.cb = Ma("retryDelaySeedMs", 1e4, o)),
      (this.Wa = Ma("forwardChannelMaxRetries", 2, o)),
      (this.wa = Ma("forwardChannelRequestTimeoutMs", 2e4, o)),
      (this.pa = (o && o.xmlHttpFactory) || void 0),
      (this.Xa = (o && o.Tb) || void 0),
      (this.Ca = (o && o.useFetchStreams) || !1),
      (this.L = void 0),
      (this.J = (o && o.supportsCrossDomainXhr) || !1),
      (this.K = ""),
      (this.h = new Hg(o && o.concurrentRequestLimit)),
      (this.Da = new qR()),
      (this.P = (o && o.fastHandshake) || !1),
      (this.O = (o && o.encodeInitMessageHeaders) || !1),
      this.P && this.O && (this.O = !1),
      (this.Ua = (o && o.Rb) || !1),
      o && o.xa && this.j.xa(),
      o && o.forceLongPolling && (this.X = !1),
      (this.ba = (!this.P && this.X && o && o.detectBufferingProxy) || !1),
      (this.ja = void 0),
      o &&
        o.longPollingTimeout &&
        0 < o.longPollingTimeout &&
        (this.ja = o.longPollingTimeout),
      (this.ca = void 0),
      (this.R = 0),
      (this.M = !1),
      (this.ka = this.A = null);
  }
  (t = l_.prototype),
    (t.la = 8),
    (t.G = 1),
    (t.connect = function (o, h, d, g) {
      yt(0),
        (this.W = o),
        (this.H = h || {}),
        d && g !== void 0 && ((this.H.OSID = d), (this.H.OAID = g)),
        (this.F = this.X),
        (this.I = __(this, null, this.W)),
        zl(this);
    });
  function Qh(o) {
    if ((u_(o), o.G == 3)) {
      var h = o.U++,
        d = Vn(o.I);
      if (
        (ye(d, "SID", o.K),
        ye(d, "RID", h),
        ye(d, "TYPE", "terminate"),
        ka(o, d),
        (h = new di(o, o.j, h)),
        (h.L = 2),
        (h.v = Vl(Vn(d))),
        (d = !1),
        l.navigator && l.navigator.sendBeacon)
      )
        try {
          d = l.navigator.sendBeacon(h.v.toString(), "");
        } catch {}
      !d && l.Image && ((new Image().src = h.v), (d = !0)),
        d || ((h.g = y_(h.j, null)), h.g.ea(h.v)),
        (h.F = Date.now()),
        Ml(h);
    }
    g_(o);
  }
  function Bl(o) {
    o.g && (Yh(o), o.g.cancel(), (o.g = null));
  }
  function u_(o) {
    Bl(o),
      o.u && (l.clearTimeout(o.u), (o.u = null)),
      jl(o),
      o.h.cancel(),
      o.s && (typeof o.s == "number" && l.clearTimeout(o.s), (o.s = null));
  }
  function zl(o) {
    if (!Fg(o.h) && !o.s) {
      o.s = !0;
      var h = o.Ga;
      W || xe(), Y || (W(), (Y = !0)), _e.add(h, o), (o.B = 0);
    }
  }
  function QR(o, h) {
    return Gg(o.h) >= o.h.j - (o.s ? 1 : 0)
      ? !1
      : o.s
      ? ((o.i = h.D.concat(o.i)), !0)
      : o.G == 1 || o.G == 2 || o.B >= (o.Va ? 0 : o.Wa)
      ? !1
      : ((o.s = Sa(m(o.Ga, o, h), p_(o, o.B))), o.B++, !0);
  }
  t.Ga = function (o) {
    if (this.s)
      if (((this.s = null), this.G == 1)) {
        if (!o) {
          (this.U = Math.floor(1e5 * Math.random())), (o = this.U++);
          const N = new di(this, this.j, o);
          let x = this.o;
          if (
            (this.S && (x ? ((x = y(x)), S(x, this.S)) : (x = this.S)),
            this.m !== null || this.O || ((N.H = x), (x = null)),
            this.P)
          )
            e: {
              for (var h = 0, d = 0; d < this.i.length; d++) {
                t: {
                  var g = this.i[d];
                  if (
                    "__data__" in g.map &&
                    ((g = g.map.__data__), typeof g == "string")
                  ) {
                    g = g.length;
                    break t;
                  }
                  g = void 0;
                }
                if (g === void 0) break;
                if (((h += g), 4096 < h)) {
                  h = d;
                  break e;
                }
                if (h === 4096 || d === this.i.length - 1) {
                  h = d + 1;
                  break e;
                }
              }
              h = 1e3;
            }
          else h = 1e3;
          (h = h_(this, N, h)),
            (d = Vn(this.I)),
            ye(d, "RID", o),
            ye(d, "CVER", 22),
            this.D && ye(d, "X-HTTP-Session-Id", this.D),
            ka(this, d),
            x &&
              (this.O
                ? (h = "headers=" + encodeURIComponent(String(n_(x))) + "&" + h)
                : this.m && Kh(d, this.m, x)),
            Gh(this.h, N),
            this.Ua && ye(d, "TYPE", "init"),
            this.P
              ? (ye(d, "$req", h),
                ye(d, "SID", "null"),
                (N.T = !0),
                jh(N, d, null))
              : jh(N, d, h),
            (this.G = 2);
        }
      } else
        this.G == 3 &&
          (o ? c_(this, o) : this.i.length == 0 || Fg(this.h) || c_(this));
  };
  function c_(o, h) {
    var d;
    h ? (d = h.l) : (d = o.U++);
    const g = Vn(o.I);
    ye(g, "SID", o.K),
      ye(g, "RID", d),
      ye(g, "AID", o.T),
      ka(o, g),
      o.m && o.o && Kh(g, o.m, o.o),
      (d = new di(o, o.j, d, o.B + 1)),
      o.m === null && (d.H = o.o),
      h && (o.i = h.D.concat(o.i)),
      (h = h_(o, d, 1e3)),
      (d.I = Math.round(0.5 * o.wa) + Math.round(0.5 * o.wa * Math.random())),
      Gh(o.h, d),
      jh(d, g, h);
  }
  function ka(o, h) {
    o.H &&
      j(o.H, function (d, g) {
        ye(h, g, d);
      }),
      o.l &&
        $g({}, function (d, g) {
          ye(h, g, d);
        });
  }
  function h_(o, h, d) {
    d = Math.min(o.i.length, d);
    var g = o.l ? m(o.l.Na, o.l, o) : null;
    e: {
      var N = o.i;
      let x = -1;
      for (;;) {
        const z = ["count=" + d];
        x == -1
          ? 0 < d
            ? ((x = N[0].g), z.push("ofs=" + x))
            : (x = 0)
          : z.push("ofs=" + x);
        let de = !0;
        for (let Je = 0; Je < d; Je++) {
          let le = N[Je].g;
          const lt = N[Je].map;
          if (((le -= x), 0 > le)) (x = Math.max(0, N[Je].g - 100)), (de = !1);
          else
            try {
              HR(lt, z, "req" + le + "_");
            } catch {
              g && g(lt);
            }
        }
        if (de) {
          g = z.join("&");
          break e;
        }
      }
    }
    return (o = o.i.splice(0, d)), (h.D = o), g;
  }
  function f_(o) {
    if (!o.g && !o.u) {
      o.Y = 1;
      var h = o.Fa;
      W || xe(), Y || (W(), (Y = !0)), _e.add(h, o), (o.v = 0);
    }
  }
  function $h(o) {
    return o.g || o.u || 3 <= o.v
      ? !1
      : (o.Y++, (o.u = Sa(m(o.Fa, o), p_(o, o.v))), o.v++, !0);
  }
  (t.Fa = function () {
    if (
      ((this.u = null),
      d_(this),
      this.ba && !(this.M || this.g == null || 0 >= this.R))
    ) {
      var o = 2 * this.R;
      this.j.info("BP detection timer enabled: " + o),
        (this.A = Sa(m(this.ab, this), o));
    }
  }),
    (t.ab = function () {
      this.A &&
        ((this.A = null),
        this.j.info("BP detection timeout reached."),
        this.j.info("Buffering proxy detected and switch to long-polling!"),
        (this.F = !1),
        (this.M = !0),
        yt(10),
        Bl(this),
        d_(this));
    });
  function Yh(o) {
    o.A != null && (l.clearTimeout(o.A), (o.A = null));
  }
  function d_(o) {
    (o.g = new di(o, o.j, "rpc", o.Y)),
      o.m === null && (o.g.H = o.o),
      (o.g.O = 0);
    var h = Vn(o.qa);
    ye(h, "RID", "rpc"),
      ye(h, "SID", o.K),
      ye(h, "AID", o.T),
      ye(h, "CI", o.F ? "0" : "1"),
      !o.F && o.ja && ye(h, "TO", o.ja),
      ye(h, "TYPE", "xmlhttp"),
      ka(o, h),
      o.m && o.o && Kh(h, o.m, o.o),
      o.L && (o.g.I = o.L);
    var d = o.g;
    (o = o.ia),
      (d.L = 1),
      (d.v = Vl(Vn(h))),
      (d.m = null),
      (d.P = !0),
      zg(d, o);
  }
  t.Za = function () {
    this.C != null && ((this.C = null), Bl(this), $h(this), yt(19));
  };
  function jl(o) {
    o.C != null && (l.clearTimeout(o.C), (o.C = null));
  }
  function m_(o, h) {
    var d = null;
    if (o.g == h) {
      jl(o), Yh(o), (o.g = null);
      var g = 2;
    } else if (Fh(o.h, h)) (d = h.D), Kg(o.h, h), (g = 1);
    else return;
    if (o.G != 0) {
      if (h.o)
        if (g == 1) {
          (d = h.m ? h.m.length : 0), (h = Date.now() - h.F);
          var N = o.B;
          (g = Dl()), _t(g, new Pg(g, d)), zl(o);
        } else f_(o);
      else if (
        ((N = h.s),
        N == 3 ||
          (N == 0 && 0 < h.X) ||
          !((g == 1 && QR(o, h)) || (g == 2 && $h(o))))
      )
        switch ((d && 0 < d.length && ((h = o.h), (h.i = h.i.concat(d))), N)) {
          case 1:
            fr(o, 5);
            break;
          case 4:
            fr(o, 10);
            break;
          case 3:
            fr(o, 6);
            break;
          default:
            fr(o, 2);
        }
    }
  }
  function p_(o, h) {
    let d = o.Ta + Math.floor(Math.random() * o.cb);
    return o.isActive() || (d *= 2), d * h;
  }
  function fr(o, h) {
    if ((o.j.info("Error code " + h), h == 2)) {
      var d = m(o.fb, o),
        g = o.Xa;
      const N = !g;
      (g = new hr(g || "//www.google.com/images/cleardot.gif")),
        (l.location && l.location.protocol == "http") || kl(g, "https"),
        Vl(g),
        N ? zR(g.toString(), d) : jR(g.toString(), d);
    } else yt(2);
    (o.G = 0), o.l && o.l.sa(h), g_(o), u_(o);
  }
  t.fb = function (o) {
    o
      ? (this.j.info("Successfully pinged google.com"), yt(2))
      : (this.j.info("Failed to ping google.com"), yt(1));
  };
  function g_(o) {
    if (((o.G = 0), (o.ka = []), o.l)) {
      const h = Qg(o.h);
      (h.length != 0 || o.i.length != 0) &&
        (D(o.ka, h),
        D(o.ka, o.i),
        (o.h.i.length = 0),
        C(o.i),
        (o.i.length = 0)),
        o.l.ra();
    }
  }
  function __(o, h, d) {
    var g = d instanceof hr ? Vn(d) : new hr(d);
    if (g.g != "") h && (g.g = h + "." + g.g), xl(g, g.s);
    else {
      var N = l.location;
      (g = N.protocol),
        (h = h ? h + "." + N.hostname : N.hostname),
        (N = +N.port);
      var x = new hr(null);
      g && kl(x, g), h && (x.g = h), N && xl(x, N), d && (x.l = d), (g = x);
    }
    return (
      (d = o.D),
      (h = o.ya),
      d && h && ye(g, d, h),
      ye(g, "VER", o.la),
      ka(o, g),
      g
    );
  }
  function y_(o, h, d) {
    if (h && !o.J)
      throw Error("Can't create secondary domain capable XhrIo object.");
    return (
      (h = o.Ca && !o.pa ? new Ne(new Pl({ eb: d })) : new Ne(o.pa)),
      h.Ha(o.J),
      h
    );
  }
  t.isActive = function () {
    return !!this.l && this.l.isActive(this);
  };
  function v_() {}
  (t = v_.prototype),
    (t.ua = function () {}),
    (t.ta = function () {}),
    (t.sa = function () {}),
    (t.ra = function () {}),
    (t.isActive = function () {
      return !0;
    }),
    (t.Na = function () {});
  function ql() {}
  ql.prototype.g = function (o, h) {
    return new Mt(o, h);
  };
  function Mt(o, h) {
    ot.call(this),
      (this.g = new l_(h)),
      (this.l = o),
      (this.h = (h && h.messageUrlParams) || null),
      (o = (h && h.messageHeaders) || null),
      h &&
        h.clientProtocolHeaderRequired &&
        (o
          ? (o["X-Client-Protocol"] = "webchannel")
          : (o = { "X-Client-Protocol": "webchannel" })),
      (this.g.o = o),
      (o = (h && h.initMessageHeaders) || null),
      h &&
        h.messageContentType &&
        (o
          ? (o["X-WebChannel-Content-Type"] = h.messageContentType)
          : (o = { "X-WebChannel-Content-Type": h.messageContentType })),
      h &&
        h.va &&
        (o
          ? (o["X-WebChannel-Client-Profile"] = h.va)
          : (o = { "X-WebChannel-Client-Profile": h.va })),
      (this.g.S = o),
      (o = h && h.Sb) && !v(o) && (this.g.m = o),
      (this.v = (h && h.supportsCrossDomainXhr) || !1),
      (this.u = (h && h.sendRawJson) || !1),
      (h = h && h.httpSessionIdParam) &&
        !v(h) &&
        ((this.g.D = h),
        (o = this.h),
        o !== null && h in o && ((o = this.h), h in o && delete o[h])),
      (this.j = new es(this));
  }
  b(Mt, ot),
    (Mt.prototype.m = function () {
      (this.g.l = this.j),
        this.v && (this.g.J = !0),
        this.g.connect(this.l, this.h || void 0);
    }),
    (Mt.prototype.close = function () {
      Qh(this.g);
    }),
    (Mt.prototype.o = function (o) {
      var h = this.g;
      if (typeof o == "string") {
        var d = {};
        (d.__data__ = o), (o = d);
      } else this.u && ((d = {}), (d.__data__ = Vh(o)), (o = d));
      h.i.push(new OR(h.Ya++, o)), h.G == 3 && zl(h);
    }),
    (Mt.prototype.N = function () {
      (this.g.l = null),
        delete this.j,
        Qh(this.g),
        delete this.g,
        Mt.aa.N.call(this);
    });
  function E_(o) {
    Uh.call(this),
      o.__headers__ &&
        ((this.headers = o.__headers__),
        (this.statusCode = o.__status__),
        delete o.__headers__,
        delete o.__status__);
    var h = o.__sm__;
    if (h) {
      e: {
        for (const d in h) {
          o = d;
          break e;
        }
        o = void 0;
      }
      (this.i = o) &&
        ((o = this.i), (h = h !== null && o in h ? h[o] : void 0)),
        (this.data = h);
    } else this.data = o;
  }
  b(E_, Uh);
  function T_() {
    Lh.call(this), (this.status = 1);
  }
  b(T_, Lh);
  function es(o) {
    this.g = o;
  }
  b(es, v_),
    (es.prototype.ua = function () {
      _t(this.g, "a");
    }),
    (es.prototype.ta = function (o) {
      _t(this.g, new E_(o));
    }),
    (es.prototype.sa = function (o) {
      _t(this.g, new T_());
    }),
    (es.prototype.ra = function () {
      _t(this.g, "b");
    }),
    (ql.prototype.createWebChannel = ql.prototype.g),
    (Mt.prototype.send = Mt.prototype.o),
    (Mt.prototype.open = Mt.prototype.m),
    (Mt.prototype.close = Mt.prototype.close),
    (Lw = function () {
      return new ql();
    }),
    (Uw = function () {
      return Dl();
    }),
    (Pw = ur),
    (Jd = {
      mb: 0,
      pb: 1,
      qb: 2,
      Jb: 3,
      Ob: 4,
      Lb: 5,
      Mb: 6,
      Kb: 7,
      Ib: 8,
      Nb: 9,
      PROXY: 10,
      NOPROXY: 11,
      Gb: 12,
      Cb: 13,
      Db: 14,
      Bb: 15,
      Eb: 16,
      Fb: 17,
      ib: 18,
      hb: 19,
      jb: 20,
    }),
    (Ol.NO_ERROR = 0),
    (Ol.TIMEOUT = 8),
    (Ol.HTTP_ERROR = 6),
    (Nu = Ol),
    (Ug.COMPLETE = "complete"),
    (Vw = Ug),
    (Mg.EventType = Aa),
    (Aa.OPEN = "a"),
    (Aa.CLOSE = "b"),
    (Aa.ERROR = "c"),
    (Aa.MESSAGE = "d"),
    (ot.prototype.listen = ot.prototype.K),
    (Za = Mg),
    (Ne.prototype.listenOnce = Ne.prototype.L),
    (Ne.prototype.getLastError = Ne.prototype.Ka),
    (Ne.prototype.getLastErrorCode = Ne.prototype.Ba),
    (Ne.prototype.getStatus = Ne.prototype.Z),
    (Ne.prototype.getResponseJson = Ne.prototype.Oa),
    (Ne.prototype.getResponseText = Ne.prototype.oa),
    (Ne.prototype.send = Ne.prototype.ea),
    (Ne.prototype.setWithCredentials = Ne.prototype.Ha),
    (xw = Ne);
}).apply(
  typeof uu < "u"
    ? uu
    : typeof self < "u"
    ? self
    : typeof window < "u"
    ? window
    : {}
);
const Sv = "@firebase/firestore";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class ht {
  constructor(e) {
    this.uid = e;
  }
  isAuthenticated() {
    return this.uid != null;
  }
  toKey() {
    return this.isAuthenticated() ? "uid:" + this.uid : "anonymous-user";
  }
  isEqual(e) {
    return e.uid === this.uid;
  }
}
(ht.UNAUTHENTICATED = new ht(null)),
  (ht.GOOGLE_CREDENTIALS = new ht("google-credentials-uid")),
  (ht.FIRST_PARTY = new ht("first-party-uid")),
  (ht.MOCK_USER = new ht("mock-user"));
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ let ha = "11.0.2";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ const Lr = new pp("@firebase/firestore");
function cs() {
  return Lr.logLevel;
}
function H(t, ...e) {
  if (Lr.logLevel <= ne.DEBUG) {
    const n = e.map(Mp);
    Lr.debug(`Firestore (${ha}): ${t}`, ...n);
  }
}
function ui(t, ...e) {
  if (Lr.logLevel <= ne.ERROR) {
    const n = e.map(Mp);
    Lr.error(`Firestore (${ha}): ${t}`, ...n);
  }
}
function $s(t, ...e) {
  if (Lr.logLevel <= ne.WARN) {
    const n = e.map(Mp);
    Lr.warn(`Firestore (${ha}): ${t}`, ...n);
  }
}
function Mp(t) {
  if (typeof t == "string") return t;
  try {
    /**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */ return (function (n) {
      return JSON.stringify(n);
    })(t);
  } catch {
    return t;
  }
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ function Q(t = "Unexpected state") {
  const e = `FIRESTORE (${ha}) INTERNAL ASSERTION FAILED: ` + t;
  throw (ui(e), new Error(e));
}
function ce(t, e) {
  t || Q();
}
function X(t, e) {
  return t;
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ const L = {
  OK: "ok",
  CANCELLED: "cancelled",
  UNKNOWN: "unknown",
  INVALID_ARGUMENT: "invalid-argument",
  DEADLINE_EXCEEDED: "deadline-exceeded",
  NOT_FOUND: "not-found",
  ALREADY_EXISTS: "already-exists",
  PERMISSION_DENIED: "permission-denied",
  UNAUTHENTICATED: "unauthenticated",
  RESOURCE_EXHAUSTED: "resource-exhausted",
  FAILED_PRECONDITION: "failed-precondition",
  ABORTED: "aborted",
  OUT_OF_RANGE: "out-of-range",
  UNIMPLEMENTED: "unimplemented",
  INTERNAL: "internal",
  UNAVAILABLE: "unavailable",
  DATA_LOSS: "data-loss",
};
class F extends Nn {
  constructor(e, n) {
    super(e, n),
      (this.code = e),
      (this.message = n),
      (this.toString = () =>
        `${this.name}: [code=${this.code}]: ${this.message}`);
  }
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class ti {
  constructor() {
    this.promise = new Promise((e, n) => {
      (this.resolve = e), (this.reject = n);
    });
  }
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class Bw {
  constructor(e, n) {
    (this.user = n),
      (this.type = "OAuth"),
      (this.headers = new Map()),
      this.headers.set("Authorization", `Bearer ${e}`);
  }
}
class eM {
  getToken() {
    return Promise.resolve(null);
  }
  invalidateToken() {}
  start(e, n) {
    e.enqueueRetryable(() => n(ht.UNAUTHENTICATED));
  }
  shutdown() {}
}
class tM {
  constructor(e) {
    (this.token = e), (this.changeListener = null);
  }
  getToken() {
    return Promise.resolve(this.token);
  }
  invalidateToken() {}
  start(e, n) {
    (this.changeListener = n), e.enqueueRetryable(() => n(this.token.user));
  }
  shutdown() {
    this.changeListener = null;
  }
}
class nM {
  constructor(e) {
    (this.t = e),
      (this.currentUser = ht.UNAUTHENTICATED),
      (this.i = 0),
      (this.forceRefresh = !1),
      (this.auth = null);
  }
  start(e, n) {
    ce(this.o === void 0);
    let i = this.i;
    const r = (u) => (this.i !== i ? ((i = this.i), n(u)) : Promise.resolve());
    let s = new ti();
    this.o = () => {
      this.i++,
        (this.currentUser = this.u()),
        s.resolve(),
        (s = new ti()),
        e.enqueueRetryable(() => r(this.currentUser));
    };
    const a = () => {
        const u = s;
        e.enqueueRetryable(async () => {
          await u.promise, await r(this.currentUser);
        });
      },
      l = (u) => {
        H("FirebaseAuthCredentialsProvider", "Auth detected"),
          (this.auth = u),
          this.o && (this.auth.addAuthTokenListener(this.o), a());
      };
    this.t.onInit((u) => l(u)),
      setTimeout(() => {
        if (!this.auth) {
          const u = this.t.getImmediate({ optional: !0 });
          u
            ? l(u)
            : (H("FirebaseAuthCredentialsProvider", "Auth not yet detected"),
              s.resolve(),
              (s = new ti()));
        }
      }, 0),
      a();
  }
  getToken() {
    const e = this.i,
      n = this.forceRefresh;
    return (
      (this.forceRefresh = !1),
      this.auth
        ? this.auth
            .getToken(n)
            .then((i) =>
              this.i !== e
                ? (H(
                    "FirebaseAuthCredentialsProvider",
                    "getToken aborted due to token change."
                  ),
                  this.getToken())
                : i
                ? (ce(typeof i.accessToken == "string"),
                  new Bw(i.accessToken, this.currentUser))
                : null
            )
        : Promise.resolve(null)
    );
  }
  invalidateToken() {
    this.forceRefresh = !0;
  }
  shutdown() {
    this.auth && this.o && this.auth.removeAuthTokenListener(this.o),
      (this.o = void 0);
  }
  u() {
    const e = this.auth && this.auth.getUid();
    return ce(e === null || typeof e == "string"), new ht(e);
  }
}
class iM {
  constructor(e, n, i) {
    (this.l = e),
      (this.h = n),
      (this.P = i),
      (this.type = "FirstParty"),
      (this.user = ht.FIRST_PARTY),
      (this.T = new Map());
  }
  I() {
    return this.P ? this.P() : null;
  }
  get headers() {
    this.T.set("X-Goog-AuthUser", this.l);
    const e = this.I();
    return (
      e && this.T.set("Authorization", e),
      this.h && this.T.set("X-Goog-Iam-Authorization-Token", this.h),
      this.T
    );
  }
}
class rM {
  constructor(e, n, i) {
    (this.l = e), (this.h = n), (this.P = i);
  }
  getToken() {
    return Promise.resolve(new iM(this.l, this.h, this.P));
  }
  start(e, n) {
    e.enqueueRetryable(() => n(ht.FIRST_PARTY));
  }
  shutdown() {}
  invalidateToken() {}
}
class sM {
  constructor(e) {
    (this.value = e),
      (this.type = "AppCheck"),
      (this.headers = new Map()),
      e && e.length > 0 && this.headers.set("x-firebase-appcheck", this.value);
  }
}
class aM {
  constructor(e) {
    (this.A = e),
      (this.forceRefresh = !1),
      (this.appCheck = null),
      (this.R = null);
  }
  start(e, n) {
    ce(this.o === void 0);
    const i = (s) => {
      s.error != null &&
        H(
          "FirebaseAppCheckTokenProvider",
          `Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`
        );
      const a = s.token !== this.R;
      return (
        (this.R = s.token),
        H(
          "FirebaseAppCheckTokenProvider",
          `Received ${a ? "new" : "existing"} token.`
        ),
        a ? n(s.token) : Promise.resolve()
      );
    };
    this.o = (s) => {
      e.enqueueRetryable(() => i(s));
    };
    const r = (s) => {
      H("FirebaseAppCheckTokenProvider", "AppCheck detected"),
        (this.appCheck = s),
        this.o && this.appCheck.addTokenListener(this.o);
    };
    this.A.onInit((s) => r(s)),
      setTimeout(() => {
        if (!this.appCheck) {
          const s = this.A.getImmediate({ optional: !0 });
          s
            ? r(s)
            : H("FirebaseAppCheckTokenProvider", "AppCheck not yet detected");
        }
      }, 0);
  }
  getToken() {
    const e = this.forceRefresh;
    return (
      (this.forceRefresh = !1),
      this.appCheck
        ? this.appCheck
            .getToken(e)
            .then((n) =>
              n
                ? (ce(typeof n.token == "string"),
                  (this.R = n.token),
                  new sM(n.token))
                : null
            )
        : Promise.resolve(null)
    );
  }
  invalidateToken() {
    this.forceRefresh = !0;
  }
  shutdown() {
    this.appCheck && this.o && this.appCheck.removeTokenListener(this.o),
      (this.o = void 0);
  }
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ function oM(t) {
  const e = typeof self < "u" && (self.crypto || self.msCrypto),
    n = new Uint8Array(t);
  if (e && typeof e.getRandomValues == "function") e.getRandomValues(n);
  else for (let i = 0; i < t; i++) n[i] = Math.floor(256 * Math.random());
  return n;
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class zw {
  static newId() {
    const e = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",
      n = Math.floor(256 / e.length) * e.length;
    let i = "";
    for (; i.length < 20; ) {
      const r = oM(40);
      for (let s = 0; s < r.length; ++s)
        i.length < 20 && r[s] < n && (i += e.charAt(r[s] % e.length));
    }
    return i;
  }
}
function se(t, e) {
  return t < e ? -1 : t > e ? 1 : 0;
}
function Ys(t, e, n) {
  return t.length === e.length && t.every((i, r) => n(i, e[r]));
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class He {
  static now() {
    return He.fromMillis(Date.now());
  }
  static fromDate(e) {
    return He.fromMillis(e.getTime());
  }
  static fromMillis(e) {
    const n = Math.floor(e / 1e3),
      i = Math.floor(1e6 * (e - 1e3 * n));
    return new He(n, i);
  }
  constructor(e, n) {
    if (((this.seconds = e), (this.nanoseconds = n), n < 0))
      throw new F(
        L.INVALID_ARGUMENT,
        "Timestamp nanoseconds out of range: " + n
      );
    if (n >= 1e9)
      throw new F(
        L.INVALID_ARGUMENT,
        "Timestamp nanoseconds out of range: " + n
      );
    if (e < -62135596800)
      throw new F(L.INVALID_ARGUMENT, "Timestamp seconds out of range: " + e);
    if (e >= 253402300800)
      throw new F(L.INVALID_ARGUMENT, "Timestamp seconds out of range: " + e);
  }
  toDate() {
    return new Date(this.toMillis());
  }
  toMillis() {
    return 1e3 * this.seconds + this.nanoseconds / 1e6;
  }
  _compareTo(e) {
    return this.seconds === e.seconds
      ? se(this.nanoseconds, e.nanoseconds)
      : se(this.seconds, e.seconds);
  }
  isEqual(e) {
    return e.seconds === this.seconds && e.nanoseconds === this.nanoseconds;
  }
  toString() {
    return (
      "Timestamp(seconds=" +
      this.seconds +
      ", nanoseconds=" +
      this.nanoseconds +
      ")"
    );
  }
  toJSON() {
    return { seconds: this.seconds, nanoseconds: this.nanoseconds };
  }
  valueOf() {
    const e = this.seconds - -62135596800;
    return (
      String(e).padStart(12, "0") +
      "." +
      String(this.nanoseconds).padStart(9, "0")
    );
  }
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class $ {
  static fromTimestamp(e) {
    return new $(e);
  }
  static min() {
    return new $(new He(0, 0));
  }
  static max() {
    return new $(new He(253402300799, 999999999));
  }
  constructor(e) {
    this.timestamp = e;
  }
  compareTo(e) {
    return this.timestamp._compareTo(e.timestamp);
  }
  isEqual(e) {
    return this.timestamp.isEqual(e.timestamp);
  }
  toMicroseconds() {
    return 1e6 * this.timestamp.seconds + this.timestamp.nanoseconds / 1e3;
  }
  toString() {
    return "SnapshotVersion(" + this.timestamp.toString() + ")";
  }
  toTimestamp() {
    return this.timestamp;
  }
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class Go {
  constructor(e, n, i) {
    n === void 0 ? (n = 0) : n > e.length && Q(),
      i === void 0 ? (i = e.length - n) : i > e.length - n && Q(),
      (this.segments = e),
      (this.offset = n),
      (this.len = i);
  }
  get length() {
    return this.len;
  }
  isEqual(e) {
    return Go.comparator(this, e) === 0;
  }
  child(e) {
    const n = this.segments.slice(this.offset, this.limit());
    return (
      e instanceof Go
        ? e.forEach((i) => {
            n.push(i);
          })
        : n.push(e),
      this.construct(n)
    );
  }
  limit() {
    return this.offset + this.length;
  }
  popFirst(e) {
    return (
      (e = e === void 0 ? 1 : e),
      this.construct(this.segments, this.offset + e, this.length - e)
    );
  }
  popLast() {
    return this.construct(this.segments, this.offset, this.length - 1);
  }
  firstSegment() {
    return this.segments[this.offset];
  }
  lastSegment() {
    return this.get(this.length - 1);
  }
  get(e) {
    return this.segments[this.offset + e];
  }
  isEmpty() {
    return this.length === 0;
  }
  isPrefixOf(e) {
    if (e.length < this.length) return !1;
    for (let n = 0; n < this.length; n++)
      if (this.get(n) !== e.get(n)) return !1;
    return !0;
  }
  isImmediateParentOf(e) {
    if (this.length + 1 !== e.length) return !1;
    for (let n = 0; n < this.length; n++)
      if (this.get(n) !== e.get(n)) return !1;
    return !0;
  }
  forEach(e) {
    for (let n = this.offset, i = this.limit(); n < i; n++) e(this.segments[n]);
  }
  toArray() {
    return this.segments.slice(this.offset, this.limit());
  }
  static comparator(e, n) {
    const i = Math.min(e.length, n.length);
    for (let r = 0; r < i; r++) {
      const s = e.get(r),
        a = n.get(r);
      if (s < a) return -1;
      if (s > a) return 1;
    }
    return e.length < n.length ? -1 : e.length > n.length ? 1 : 0;
  }
}
class ve extends Go {
  construct(e, n, i) {
    return new ve(e, n, i);
  }
  canonicalString() {
    return this.toArray().join("/");
  }
  toString() {
    return this.canonicalString();
  }
  toUriEncodedString() {
    return this.toArray().map(encodeURIComponent).join("/");
  }
  static fromString(...e) {
    const n = [];
    for (const i of e) {
      if (i.indexOf("//") >= 0)
        throw new F(
          L.INVALID_ARGUMENT,
          `Invalid segment (${i}). Paths must not contain // in them.`
        );
      n.push(...i.split("/").filter((r) => r.length > 0));
    }
    return new ve(n);
  }
  static emptyPath() {
    return new ve([]);
  }
}
const lM = /^[_a-zA-Z][_a-zA-Z0-9]*$/;
class rt extends Go {
  construct(e, n, i) {
    return new rt(e, n, i);
  }
  static isValidIdentifier(e) {
    return lM.test(e);
  }
  canonicalString() {
    return this.toArray()
      .map(
        (e) => (
          (e = e.replace(/\\/g, "\\\\").replace(/`/g, "\\`")),
          rt.isValidIdentifier(e) || (e = "`" + e + "`"),
          e
        )
      )
      .join(".");
  }
  toString() {
    return this.canonicalString();
  }
  isKeyField() {
    return this.length === 1 && this.get(0) === "__name__";
  }
  static keyField() {
    return new rt(["__name__"]);
  }
  static fromServerFormat(e) {
    const n = [];
    let i = "",
      r = 0;
    const s = () => {
      if (i.length === 0)
        throw new F(
          L.INVALID_ARGUMENT,
          `Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`
        );
      n.push(i), (i = "");
    };
    let a = !1;
    for (; r < e.length; ) {
      const l = e[r];
      if (l === "\\") {
        if (r + 1 === e.length)
          throw new F(
            L.INVALID_ARGUMENT,
            "Path has trailing escape character: " + e
          );
        const u = e[r + 1];
        if (u !== "\\" && u !== "." && u !== "`")
          throw new F(
            L.INVALID_ARGUMENT,
            "Path has invalid escape sequence: " + e
          );
        (i += u), (r += 2);
      } else
        l === "`"
          ? ((a = !a), r++)
          : l !== "." || a
          ? ((i += l), r++)
          : (s(), r++);
    }
    if ((s(), a))
      throw new F(L.INVALID_ARGUMENT, "Unterminated ` in path: " + e);
    return new rt(n);
  }
  static emptyPath() {
    return new rt([]);
  }
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class G {
  constructor(e) {
    this.path = e;
  }
  static fromPath(e) {
    return new G(ve.fromString(e));
  }
  static fromName(e) {
    return new G(ve.fromString(e).popFirst(5));
  }
  static empty() {
    return new G(ve.emptyPath());
  }
  get collectionGroup() {
    return this.path.popLast().lastSegment();
  }
  hasCollectionId(e) {
    return this.path.length >= 2 && this.path.get(this.path.length - 2) === e;
  }
  getCollectionGroup() {
    return this.path.get(this.path.length - 2);
  }
  getCollectionPath() {
    return this.path.popLast();
  }
  isEqual(e) {
    return e !== null && ve.comparator(this.path, e.path) === 0;
  }
  toString() {
    return this.path.toString();
  }
  static comparator(e, n) {
    return ve.comparator(e.path, n.path);
  }
  static isDocumentKey(e) {
    return e.length % 2 == 0;
  }
  static fromSegments(e) {
    return new G(new ve(e.slice()));
  }
}
function uM(t, e) {
  const n = t.toTimestamp().seconds,
    i = t.toTimestamp().nanoseconds + 1,
    r = $.fromTimestamp(i === 1e9 ? new He(n + 1, 0) : new He(n, i));
  return new Xi(r, G.empty(), e);
}
function cM(t) {
  return new Xi(t.readTime, t.key, -1);
}
class Xi {
  constructor(e, n, i) {
    (this.readTime = e), (this.documentKey = n), (this.largestBatchId = i);
  }
  static min() {
    return new Xi($.min(), G.empty(), -1);
  }
  static max() {
    return new Xi($.max(), G.empty(), -1);
  }
}
function hM(t, e) {
  let n = t.readTime.compareTo(e.readTime);
  return n !== 0
    ? n
    : ((n = G.comparator(t.documentKey, e.documentKey)),
      n !== 0 ? n : se(t.largestBatchId, e.largestBatchId));
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ const fM =
  "The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";
class dM {
  constructor() {
    this.onCommittedListeners = [];
  }
  addOnCommittedListener(e) {
    this.onCommittedListeners.push(e);
  }
  raiseOnCommittedEvent() {
    this.onCommittedListeners.forEach((e) => e());
  }
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ async function fa(t) {
  if (t.code !== L.FAILED_PRECONDITION || t.message !== fM) throw t;
  H("LocalStore", "Unexpectedly lost primary lease");
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class P {
  constructor(e) {
    (this.nextCallback = null),
      (this.catchCallback = null),
      (this.result = void 0),
      (this.error = void 0),
      (this.isDone = !1),
      (this.callbackAttached = !1),
      e(
        (n) => {
          (this.isDone = !0),
            (this.result = n),
            this.nextCallback && this.nextCallback(n);
        },
        (n) => {
          (this.isDone = !0),
            (this.error = n),
            this.catchCallback && this.catchCallback(n);
        }
      );
  }
  catch(e) {
    return this.next(void 0, e);
  }
  next(e, n) {
    return (
      this.callbackAttached && Q(),
      (this.callbackAttached = !0),
      this.isDone
        ? this.error
          ? this.wrapFailure(n, this.error)
          : this.wrapSuccess(e, this.result)
        : new P((i, r) => {
            (this.nextCallback = (s) => {
              this.wrapSuccess(e, s).next(i, r);
            }),
              (this.catchCallback = (s) => {
                this.wrapFailure(n, s).next(i, r);
              });
          })
    );
  }
  toPromise() {
    return new Promise((e, n) => {
      this.next(e, n);
    });
  }
  wrapUserFunction(e) {
    try {
      const n = e();
      return n instanceof P ? n : P.resolve(n);
    } catch (n) {
      return P.reject(n);
    }
  }
  wrapSuccess(e, n) {
    return e ? this.wrapUserFunction(() => e(n)) : P.resolve(n);
  }
  wrapFailure(e, n) {
    return e ? this.wrapUserFunction(() => e(n)) : P.reject(n);
  }
  static resolve(e) {
    return new P((n, i) => {
      n(e);
    });
  }
  static reject(e) {
    return new P((n, i) => {
      i(e);
    });
  }
  static waitFor(e) {
    return new P((n, i) => {
      let r = 0,
        s = 0,
        a = !1;
      e.forEach((l) => {
        ++r,
          l.next(
            () => {
              ++s, a && s === r && n();
            },
            (u) => i(u)
          );
      }),
        (a = !0),
        s === r && n();
    });
  }
  static or(e) {
    let n = P.resolve(!1);
    for (const i of e) n = n.next((r) => (r ? P.resolve(r) : i()));
    return n;
  }
  static forEach(e, n) {
    const i = [];
    return (
      e.forEach((r, s) => {
        i.push(n.call(this, r, s));
      }),
      this.waitFor(i)
    );
  }
  static mapArray(e, n) {
    return new P((i, r) => {
      const s = e.length,
        a = new Array(s);
      let l = 0;
      for (let u = 0; u < s; u++) {
        const c = u;
        n(e[c]).next(
          (f) => {
            (a[c] = f), ++l, l === s && i(a);
          },
          (f) => r(f)
        );
      }
    });
  }
  static doWhile(e, n) {
    return new P((i, r) => {
      const s = () => {
        e() === !0
          ? n().next(() => {
              s();
            }, r)
          : i();
      };
      s();
    });
  }
}
function mM(t) {
  const e = t.match(/Android ([\d.]+)/i),
    n = e ? e[1].split(".").slice(0, 2).join(".") : "-1";
  return Number(n);
}
function da(t) {
  return t.name === "IndexedDbTransactionError";
}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class nh {
  constructor(e, n) {
    (this.previousValue = e),
      n &&
        ((n.sequenceNumberHandler = (i) => this.ie(i)),
        (this.se = (i) => n.writeSequenceNumber(i)));
  }
  ie(e) {
    return (
      (this.previousValue = Math.max(e, this.previousValue)), this.previousValue
    );
  }
  next() {
    const e = ++this.previousValue;
    return this.se && this.se(e), e;
  }
}
nh.oe = -1;
function ih(t) {
  return t == null;
}
function Tc(t) {
  return t === 0 && 1 / t == -1 / 0;
}
function pM(t) {
  return (
    typeof t == "number" &&
    Number.isInteger(t) &&
    !Tc(t) &&
    t <= Number.MAX_SAFE_INTEGER &&
    t >= Number.MIN_SAFE_INTEGER
  );
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ function gM(t) {
  let e = "";
  for (let n = 0; n < t.length; n++)
    e.length > 0 && (e = Rv(e)), (e = _M(t.get(n), e));
  return Rv(e);
}
function _M(t, e) {
  let n = e;
  const i = t.length;
  for (let r = 0; r < i; r++) {
    const s = t.charAt(r);
    switch (s) {
      case "\0":
        n += "";
        break;
      case "":
        n += "";
        break;
      default:
        n += s;
    }
  }
  return n;
}
function Rv(t) {
  return t + "";
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ function bv(t) {
  let e = 0;
  for (const n in t) Object.prototype.hasOwnProperty.call(t, n) && e++;
  return e;
}
function sr(t, e) {
  for (const n in t) Object.prototype.hasOwnProperty.call(t, n) && e(n, t[n]);
}
function jw(t) {
  for (const e in t) if (Object.prototype.hasOwnProperty.call(t, e)) return !1;
  return !0;
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class De {
  constructor(e, n) {
    (this.comparator = e), (this.root = n || nt.EMPTY);
  }
  insert(e, n) {
    return new De(
      this.comparator,
      this.root
        .insert(e, n, this.comparator)
        .copy(null, null, nt.BLACK, null, null)
    );
  }
  remove(e) {
    return new De(
      this.comparator,
      this.root
        .remove(e, this.comparator)
        .copy(null, null, nt.BLACK, null, null)
    );
  }
  get(e) {
    let n = this.root;
    for (; !n.isEmpty(); ) {
      const i = this.comparator(e, n.key);
      if (i === 0) return n.value;
      i < 0 ? (n = n.left) : i > 0 && (n = n.right);
    }
    return null;
  }
  indexOf(e) {
    let n = 0,
      i = this.root;
    for (; !i.isEmpty(); ) {
      const r = this.comparator(e, i.key);
      if (r === 0) return n + i.left.size;
      r < 0 ? (i = i.left) : ((n += i.left.size + 1), (i = i.right));
    }
    return -1;
  }
  isEmpty() {
    return this.root.isEmpty();
  }
  get size() {
    return this.root.size;
  }
  minKey() {
    return this.root.minKey();
  }
  maxKey() {
    return this.root.maxKey();
  }
  inorderTraversal(e) {
    return this.root.inorderTraversal(e);
  }
  forEach(e) {
    this.inorderTraversal((n, i) => (e(n, i), !1));
  }
  toString() {
    const e = [];
    return (
      this.inorderTraversal((n, i) => (e.push(`${n}:${i}`), !1)),
      `{${e.join(", ")}}`
    );
  }
  reverseTraversal(e) {
    return this.root.reverseTraversal(e);
  }
  getIterator() {
    return new cu(this.root, null, this.comparator, !1);
  }
  getIteratorFrom(e) {
    return new cu(this.root, e, this.comparator, !1);
  }
  getReverseIterator() {
    return new cu(this.root, null, this.comparator, !0);
  }
  getReverseIteratorFrom(e) {
    return new cu(this.root, e, this.comparator, !0);
  }
}
class cu {
  constructor(e, n, i, r) {
    (this.isReverse = r), (this.nodeStack = []);
    let s = 1;
    for (; !e.isEmpty(); )
      if (((s = n ? i(e.key, n) : 1), n && r && (s *= -1), s < 0))
        e = this.isReverse ? e.left : e.right;
      else {
        if (s === 0) {
          this.nodeStack.push(e);
          break;
        }
        this.nodeStack.push(e), (e = this.isReverse ? e.right : e.left);
      }
  }
  getNext() {
    let e = this.nodeStack.pop();
    const n = { key: e.key, value: e.value };
    if (this.isReverse)
      for (e = e.left; !e.isEmpty(); ) this.nodeStack.push(e), (e = e.right);
    else for (e = e.right; !e.isEmpty(); ) this.nodeStack.push(e), (e = e.left);
    return n;
  }
  hasNext() {
    return this.nodeStack.length > 0;
  }
  peek() {
    if (this.nodeStack.length === 0) return null;
    const e = this.nodeStack[this.nodeStack.length - 1];
    return { key: e.key, value: e.value };
  }
}
class nt {
  constructor(e, n, i, r, s) {
    (this.key = e),
      (this.value = n),
      (this.color = i ?? nt.RED),
      (this.left = r ?? nt.EMPTY),
      (this.right = s ?? nt.EMPTY),
      (this.size = this.left.size + 1 + this.right.size);
  }
  copy(e, n, i, r, s) {
    return new nt(
      e ?? this.key,
      n ?? this.value,
      i ?? this.color,
      r ?? this.left,
      s ?? this.right
    );
  }
  isEmpty() {
    return !1;
  }
  inorderTraversal(e) {
    return (
      this.left.inorderTraversal(e) ||
      e(this.key, this.value) ||
      this.right.inorderTraversal(e)
    );
  }
  reverseTraversal(e) {
    return (
      this.right.reverseTraversal(e) ||
      e(this.key, this.value) ||
      this.left.reverseTraversal(e)
    );
  }
  min() {
    return this.left.isEmpty() ? this : this.left.min();
  }
  minKey() {
    return this.min().key;
  }
  maxKey() {
    return this.right.isEmpty() ? this.key : this.right.maxKey();
  }
  insert(e, n, i) {
    let r = this;
    const s = i(e, r.key);
    return (
      (r =
        s < 0
          ? r.copy(null, null, null, r.left.insert(e, n, i), null)
          : s === 0
          ? r.copy(null, n, null, null, null)
          : r.copy(null, null, null, null, r.right.insert(e, n, i))),
      r.fixUp()
    );
  }
  removeMin() {
    if (this.left.isEmpty()) return nt.EMPTY;
    let e = this;
    return (
      e.left.isRed() || e.left.left.isRed() || (e = e.moveRedLeft()),
      (e = e.copy(null, null, null, e.left.removeMin(), null)),
      e.fixUp()
    );
  }
  remove(e, n) {
    let i,
      r = this;
    if (n(e, r.key) < 0)
      r.left.isEmpty() ||
        r.left.isRed() ||
        r.left.left.isRed() ||
        (r = r.moveRedLeft()),
        (r = r.copy(null, null, null, r.left.remove(e, n), null));
    else {
      if (
        (r.left.isRed() && (r = r.rotateRight()),
        r.right.isEmpty() ||
          r.right.isRed() ||
          r.right.left.isRed() ||
          (r = r.moveRedRight()),
        n(e, r.key) === 0)
      ) {
        if (r.right.isEmpty()) return nt.EMPTY;
        (i = r.right.min()),
          (r = r.copy(i.key, i.value, null, null, r.right.removeMin()));
      }
      r = r.copy(null, null, null, null, r.right.remove(e, n));
    }
    return r.fixUp();
  }
  isRed() {
    return this.color;
  }
  fixUp() {
    let e = this;
    return (
      e.right.isRed() && !e.left.isRed() && (e = e.rotateLeft()),
      e.left.isRed() && e.left.left.isRed() && (e = e.rotateRight()),
      e.left.isRed() && e.right.isRed() && (e = e.colorFlip()),
      e
    );
  }
  moveRedLeft() {
    let e = this.colorFlip();
    return (
      e.right.left.isRed() &&
        ((e = e.copy(null, null, null, null, e.right.rotateRight())),
        (e = e.rotateLeft()),
        (e = e.colorFlip())),
      e
    );
  }
  moveRedRight() {
    let e = this.colorFlip();
    return (
      e.left.left.isRed() && ((e = e.rotateRight()), (e = e.colorFlip())), e
    );
  }
  rotateLeft() {
    const e = this.copy(null, null, nt.RED, null, this.right.left);
    return this.right.copy(null, null, this.color, e, null);
  }
  rotateRight() {
    const e = this.copy(null, null, nt.RED, this.left.right, null);
    return this.left.copy(null, null, this.color, null, e);
  }
  colorFlip() {
    const e = this.left.copy(null, null, !this.left.color, null, null),
      n = this.right.copy(null, null, !this.right.color, null, null);
    return this.copy(null, null, !this.color, e, n);
  }
  checkMaxDepth() {
    const e = this.check();
    return Math.pow(2, e) <= this.size + 1;
  }
  check() {
    if ((this.isRed() && this.left.isRed()) || this.right.isRed()) throw Q();
    const e = this.left.check();
    if (e !== this.right.check()) throw Q();
    return e + (this.isRed() ? 0 : 1);
  }
}
(nt.EMPTY = null), (nt.RED = !0), (nt.BLACK = !1);
nt.EMPTY = new (class {
  constructor() {
    this.size = 0;
  }
  get key() {
    throw Q();
  }
  get value() {
    throw Q();
  }
  get color() {
    throw Q();
  }
  get left() {
    throw Q();
  }
  get right() {
    throw Q();
  }
  copy(e, n, i, r, s) {
    return this;
  }
  insert(e, n, i) {
    return new nt(e, n);
  }
  remove(e, n) {
    return this;
  }
  isEmpty() {
    return !0;
  }
  inorderTraversal(e) {
    return !1;
  }
  reverseTraversal(e) {
    return !1;
  }
  minKey() {
    return null;
  }
  maxKey() {
    return null;
  }
  isRed() {
    return !1;
  }
  checkMaxDepth() {
    return !0;
  }
  check() {
    return 0;
  }
})();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class Ke {
  constructor(e) {
    (this.comparator = e), (this.data = new De(this.comparator));
  }
  has(e) {
    return this.data.get(e) !== null;
  }
  first() {
    return this.data.minKey();
  }
  last() {
    return this.data.maxKey();
  }
  get size() {
    return this.data.size;
  }
  indexOf(e) {
    return this.data.indexOf(e);
  }
  forEach(e) {
    this.data.inorderTraversal((n, i) => (e(n), !1));
  }
  forEachInRange(e, n) {
    const i = this.data.getIteratorFrom(e[0]);
    for (; i.hasNext(); ) {
      const r = i.getNext();
      if (this.comparator(r.key, e[1]) >= 0) return;
      n(r.key);
    }
  }
  forEachWhile(e, n) {
    let i;
    for (
      i = n !== void 0 ? this.data.getIteratorFrom(n) : this.data.getIterator();
      i.hasNext();

    )
      if (!e(i.getNext().key)) return;
  }
  firstAfterOrEqual(e) {
    const n = this.data.getIteratorFrom(e);
    return n.hasNext() ? n.getNext().key : null;
  }
  getIterator() {
    return new Iv(this.data.getIterator());
  }
  getIteratorFrom(e) {
    return new Iv(this.data.getIteratorFrom(e));
  }
  add(e) {
    return this.copy(this.data.remove(e).insert(e, !0));
  }
  delete(e) {
    return this.has(e) ? this.copy(this.data.remove(e)) : this;
  }
  isEmpty() {
    return this.data.isEmpty();
  }
  unionWith(e) {
    let n = this;
    return (
      n.size < e.size && ((n = e), (e = this)),
      e.forEach((i) => {
        n = n.add(i);
      }),
      n
    );
  }
  isEqual(e) {
    if (!(e instanceof Ke) || this.size !== e.size) return !1;
    const n = this.data.getIterator(),
      i = e.data.getIterator();
    for (; n.hasNext(); ) {
      const r = n.getNext().key,
        s = i.getNext().key;
      if (this.comparator(r, s) !== 0) return !1;
    }
    return !0;
  }
  toArray() {
    const e = [];
    return (
      this.forEach((n) => {
        e.push(n);
      }),
      e
    );
  }
  toString() {
    const e = [];
    return this.forEach((n) => e.push(n)), "SortedSet(" + e.toString() + ")";
  }
  copy(e) {
    const n = new Ke(this.comparator);
    return (n.data = e), n;
  }
}
class Iv {
  constructor(e) {
    this.iter = e;
  }
  getNext() {
    return this.iter.getNext().key;
  }
  hasNext() {
    return this.iter.hasNext();
  }
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class Ut {
  constructor(e) {
    (this.fields = e), e.sort(rt.comparator);
  }
  static empty() {
    return new Ut([]);
  }
  unionWith(e) {
    let n = new Ke(rt.comparator);
    for (const i of this.fields) n = n.add(i);
    for (const i of e) n = n.add(i);
    return new Ut(n.toArray());
  }
  covers(e) {
    for (const n of this.fields) if (n.isPrefixOf(e)) return !0;
    return !1;
  }
  isEqual(e) {
    return Ys(this.fields, e.fields, (n, i) => n.isEqual(i));
  }
}
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class qw extends Error {
  constructor() {
    super(...arguments), (this.name = "Base64DecodeError");
  }
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class at {
  constructor(e) {
    this.binaryString = e;
  }
  static fromBase64String(e) {
    const n = (function (r) {
      try {
        return atob(r);
      } catch (s) {
        throw typeof DOMException < "u" && s instanceof DOMException
          ? new qw("Invalid base64 string: " + s)
          : s;
      }
    })(e);
    return new at(n);
  }
  static fromUint8Array(e) {
    const n = (function (r) {
      let s = "";
      for (let a = 0; a < r.length; ++a) s += String.fromCharCode(r[a]);
      return s;
    })(e);
    return new at(n);
  }
  [Symbol.iterator]() {
    let e = 0;
    return {
      next: () =>
        e < this.binaryString.length
          ? { value: this.binaryString.charCodeAt(e++), done: !1 }
          : { value: void 0, done: !0 },
    };
  }
  toBase64() {
    return (function (n) {
      return btoa(n);
    })(this.binaryString);
  }
  toUint8Array() {
    return (function (n) {
      const i = new Uint8Array(n.length);
      for (let r = 0; r < n.length; r++) i[r] = n.charCodeAt(r);
      return i;
    })(this.binaryString);
  }
  approximateByteSize() {
    return 2 * this.binaryString.length;
  }
  compareTo(e) {
    return se(this.binaryString, e.binaryString);
  }
  isEqual(e) {
    return this.binaryString === e.binaryString;
  }
}
at.EMPTY_BYTE_STRING = new at("");
const yM = new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);
function Wi(t) {
  if ((ce(!!t), typeof t == "string")) {
    let e = 0;
    const n = yM.exec(t);
    if ((ce(!!n), n[1])) {
      let r = n[1];
      (r = (r + "000000000").substr(0, 9)), (e = Number(r));
    }
    const i = new Date(t);
    return { seconds: Math.floor(i.getTime() / 1e3), nanos: e };
  }
  return { seconds: Pe(t.seconds), nanos: Pe(t.nanos) };
}
function Pe(t) {
  return typeof t == "number" ? t : typeof t == "string" ? Number(t) : 0;
}
function Zi(t) {
  return typeof t == "string" ? at.fromBase64String(t) : at.fromUint8Array(t);
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ function kp(t) {
  var e, n;
  return (
    ((n = (
      ((e = t == null ? void 0 : t.mapValue) === null || e === void 0
        ? void 0
        : e.fields) || {}
    ).__type__) === null || n === void 0
      ? void 0
      : n.stringValue) === "server_timestamp"
  );
}
function rh(t) {
  const e = t.mapValue.fields.__previous_value__;
  return kp(e) ? rh(e) : e;
}
function Ko(t) {
  const e = Wi(t.mapValue.fields.__local_write_time__.timestampValue);
  return new He(e.seconds, e.nanos);
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class vM {
  constructor(e, n, i, r, s, a, l, u, c) {
    (this.databaseId = e),
      (this.appId = n),
      (this.persistenceKey = i),
      (this.host = r),
      (this.ssl = s),
      (this.forceLongPolling = a),
      (this.autoDetectLongPolling = l),
      (this.longPollingOptions = u),
      (this.useFetchStreams = c);
  }
}
class Qo {
  constructor(e, n) {
    (this.projectId = e), (this.database = n || "(default)");
  }
  static empty() {
    return new Qo("", "");
  }
  get isDefaultDatabase() {
    return this.database === "(default)";
  }
  isEqual(e) {
    return (
      e instanceof Qo &&
      e.projectId === this.projectId &&
      e.database === this.database
    );
  }
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ const hu = {
  mapValue: { fields: { __type__: { stringValue: "__max__" } } },
};
function Ji(t) {
  return "nullValue" in t
    ? 0
    : "booleanValue" in t
    ? 1
    : "integerValue" in t || "doubleValue" in t
    ? 2
    : "timestampValue" in t
    ? 3
    : "stringValue" in t
    ? 5
    : "bytesValue" in t
    ? 6
    : "referenceValue" in t
    ? 7
    : "geoPointValue" in t
    ? 8
    : "arrayValue" in t
    ? 9
    : "mapValue" in t
    ? kp(t)
      ? 4
      : TM(t)
      ? 9007199254740991
      : EM(t)
      ? 10
      : 11
    : Q();
}
function Cn(t, e) {
  if (t === e) return !0;
  const n = Ji(t);
  if (n !== Ji(e)) return !1;
  switch (n) {
    case 0:
    case 9007199254740991:
      return !0;
    case 1:
      return t.booleanValue === e.booleanValue;
    case 4:
      return Ko(t).isEqual(Ko(e));
    case 3:
      return (function (r, s) {
        if (
          typeof r.timestampValue == "string" &&
          typeof s.timestampValue == "string" &&
          r.timestampValue.length === s.timestampValue.length
        )
          return r.timestampValue === s.timestampValue;
        const a = Wi(r.timestampValue),
          l = Wi(s.timestampValue);
        return a.seconds === l.seconds && a.nanos === l.nanos;
      })(t, e);
    case 5:
      return t.stringValue === e.stringValue;
    case 6:
      return (function (r, s) {
        return Zi(r.bytesValue).isEqual(Zi(s.bytesValue));
      })(t, e);
    case 7:
      return t.referenceValue === e.referenceValue;
    case 8:
      return (function (r, s) {
        return (
          Pe(r.geoPointValue.latitude) === Pe(s.geoPointValue.latitude) &&
          Pe(r.geoPointValue.longitude) === Pe(s.geoPointValue.longitude)
        );
      })(t, e);
    case 2:
      return (function (r, s) {
        if ("integerValue" in r && "integerValue" in s)
          return Pe(r.integerValue) === Pe(s.integerValue);
        if ("doubleValue" in r && "doubleValue" in s) {
          const a = Pe(r.doubleValue),
            l = Pe(s.doubleValue);
          return a === l ? Tc(a) === Tc(l) : isNaN(a) && isNaN(l);
        }
        return !1;
      })(t, e);
    case 9:
      return Ys(t.arrayValue.values || [], e.arrayValue.values || [], Cn);
    case 10:
    case 11:
      return (function (r, s) {
        const a = r.mapValue.fields || {},
          l = s.mapValue.fields || {};
        if (bv(a) !== bv(l)) return !1;
        for (const u in a)
          if (a.hasOwnProperty(u) && (l[u] === void 0 || !Cn(a[u], l[u])))
            return !1;
        return !0;
      })(t, e);
    default:
      return Q();
  }
}
function $o(t, e) {
  return (t.values || []).find((n) => Cn(n, e)) !== void 0;
}
function Xs(t, e) {
  if (t === e) return 0;
  const n = Ji(t),
    i = Ji(e);
  if (n !== i) return se(n, i);
  switch (n) {
    case 0:
    case 9007199254740991:
      return 0;
    case 1:
      return se(t.booleanValue, e.booleanValue);
    case 2:
      return (function (s, a) {
        const l = Pe(s.integerValue || s.doubleValue),
          u = Pe(a.integerValue || a.doubleValue);
        return l < u
          ? -1
          : l > u
          ? 1
          : l === u
          ? 0
          : isNaN(l)
          ? isNaN(u)
            ? 0
            : -1
          : 1;
      })(t, e);
    case 3:
      return Cv(t.timestampValue, e.timestampValue);
    case 4:
      return Cv(Ko(t), Ko(e));
    case 5:
      return se(t.stringValue, e.stringValue);
    case 6:
      return (function (s, a) {
        const l = Zi(s),
          u = Zi(a);
        return l.compareTo(u);
      })(t.bytesValue, e.bytesValue);
    case 7:
      return (function (s, a) {
        const l = s.split("/"),
          u = a.split("/");
        for (let c = 0; c < l.length && c < u.length; c++) {
          const f = se(l[c], u[c]);
          if (f !== 0) return f;
        }
        return se(l.length, u.length);
      })(t.referenceValue, e.referenceValue);
    case 8:
      return (function (s, a) {
        const l = se(Pe(s.latitude), Pe(a.latitude));
        return l !== 0 ? l : se(Pe(s.longitude), Pe(a.longitude));
      })(t.geoPointValue, e.geoPointValue);
    case 9:
      return Dv(t.arrayValue, e.arrayValue);
    case 10:
      return (function (s, a) {
        var l, u, c, f;
        const p = s.fields || {},
          m = a.fields || {},
          _ = (l = p.value) === null || l === void 0 ? void 0 : l.arrayValue,
          b = (u = m.value) === null || u === void 0 ? void 0 : u.arrayValue,
          C = se(
            ((c = _ == null ? void 0 : _.values) === null || c === void 0
              ? void 0
              : c.length) || 0,
            ((f = b == null ? void 0 : b.values) === null || f === void 0
              ? void 0
              : f.length) || 0
          );
        return C !== 0 ? C : Dv(_, b);
      })(t.mapValue, e.mapValue);
    case 11:
      return (function (s, a) {
        if (s === hu.mapValue && a === hu.mapValue) return 0;
        if (s === hu.mapValue) return 1;
        if (a === hu.mapValue) return -1;
        const l = s.fields || {},
          u = Object.keys(l),
          c = a.fields || {},
          f = Object.keys(c);
        u.sort(), f.sort();
        for (let p = 0; p < u.length && p < f.length; ++p) {
          const m = se(u[p], f[p]);
          if (m !== 0) return m;
          const _ = Xs(l[u[p]], c[f[p]]);
          if (_ !== 0) return _;
        }
        return se(u.length, f.length);
      })(t.mapValue, e.mapValue);
    default:
      throw Q();
  }
}
function Cv(t, e) {
  if (typeof t == "string" && typeof e == "string" && t.length === e.length)
    return se(t, e);
  const n = Wi(t),
    i = Wi(e),
    r = se(n.seconds, i.seconds);
  return r !== 0 ? r : se(n.nanos, i.nanos);
}
function Dv(t, e) {
  const n = t.values || [],
    i = e.values || [];
  for (let r = 0; r < n.length && r < i.length; ++r) {
    const s = Xs(n[r], i[r]);
    if (s) return s;
  }
  return se(n.length, i.length);
}
function Ws(t) {
  return em(t);
}
function em(t) {
  return "nullValue" in t
    ? "null"
    : "booleanValue" in t
    ? "" + t.booleanValue
    : "integerValue" in t
    ? "" + t.integerValue
    : "doubleValue" in t
    ? "" + t.doubleValue
    : "timestampValue" in t
    ? (function (n) {
        const i = Wi(n);
        return `time(${i.seconds},${i.nanos})`;
      })(t.timestampValue)
    : "stringValue" in t
    ? t.stringValue
    : "bytesValue" in t
    ? (function (n) {
        return Zi(n).toBase64();
      })(t.bytesValue)
    : "referenceValue" in t
    ? (function (n) {
        return G.fromName(n).toString();
      })(t.referenceValue)
    : "geoPointValue" in t
    ? (function (n) {
        return `geo(${n.latitude},${n.longitude})`;
      })(t.geoPointValue)
    : "arrayValue" in t
    ? (function (n) {
        let i = "[",
          r = !0;
        for (const s of n.values || []) r ? (r = !1) : (i += ","), (i += em(s));
        return i + "]";
      })(t.arrayValue)
    : "mapValue" in t
    ? (function (n) {
        const i = Object.keys(n.fields || {}).sort();
        let r = "{",
          s = !0;
        for (const a of i)
          s ? (s = !1) : (r += ","), (r += `${a}:${em(n.fields[a])}`);
        return r + "}";
      })(t.mapValue)
    : Q();
}
function Mu(t) {
  switch (Ji(t)) {
    case 0:
    case 1:
      return 4;
    case 2:
      return 8;
    case 3:
    case 8:
      return 16;
    case 4:
      const e = rh(t);
      return e ? 16 + Mu(e) : 16;
    case 5:
      return 2 * t.stringValue.length;
    case 6:
      return Zi(t.bytesValue).approximateByteSize();
    case 7:
      return t.referenceValue.length;
    case 9:
      return (function (i) {
        return (i.values || []).reduce((r, s) => r + Mu(s), 0);
      })(t.arrayValue);
    case 10:
    case 11:
      return (function (i) {
        let r = 0;
        return (
          sr(i.fields, (s, a) => {
            r += s.length + Mu(a);
          }),
          r
        );
      })(t.mapValue);
    default:
      throw Q();
  }
}
function Ov(t, e) {
  return {
    referenceValue: `projects/${t.projectId}/databases/${
      t.database
    }/documents/${e.path.canonicalString()}`,
  };
}
function tm(t) {
  return !!t && "integerValue" in t;
}
function xp(t) {
  return !!t && "arrayValue" in t;
}
function Nv(t) {
  return !!t && "nullValue" in t;
}
function Mv(t) {
  return !!t && "doubleValue" in t && isNaN(Number(t.doubleValue));
}
function ku(t) {
  return !!t && "mapValue" in t;
}
function EM(t) {
  var e, n;
  return (
    ((n = (
      ((e = t == null ? void 0 : t.mapValue) === null || e === void 0
        ? void 0
        : e.fields) || {}
    ).__type__) === null || n === void 0
      ? void 0
      : n.stringValue) === "__vector__"
  );
}
function Ao(t) {
  if (t.geoPointValue)
    return { geoPointValue: Object.assign({}, t.geoPointValue) };
  if (t.timestampValue && typeof t.timestampValue == "object")
    return { timestampValue: Object.assign({}, t.timestampValue) };
  if (t.mapValue) {
    const e = { mapValue: { fields: {} } };
    return sr(t.mapValue.fields, (n, i) => (e.mapValue.fields[n] = Ao(i))), e;
  }
  if (t.arrayValue) {
    const e = { arrayValue: { values: [] } };
    for (let n = 0; n < (t.arrayValue.values || []).length; ++n)
      e.arrayValue.values[n] = Ao(t.arrayValue.values[n]);
    return e;
  }
  return Object.assign({}, t);
}
function TM(t) {
  return (
    (((t.mapValue || {}).fields || {}).__type__ || {}).stringValue === "__max__"
  );
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class It {
  constructor(e) {
    this.value = e;
  }
  static empty() {
    return new It({ mapValue: {} });
  }
  field(e) {
    if (e.isEmpty()) return this.value;
    {
      let n = this.value;
      for (let i = 0; i < e.length - 1; ++i)
        if (((n = (n.mapValue.fields || {})[e.get(i)]), !ku(n))) return null;
      return (n = (n.mapValue.fields || {})[e.lastSegment()]), n || null;
    }
  }
  set(e, n) {
    this.getFieldsMap(e.popLast())[e.lastSegment()] = Ao(n);
  }
  setAll(e) {
    let n = rt.emptyPath(),
      i = {},
      r = [];
    e.forEach((a, l) => {
      if (!n.isImmediateParentOf(l)) {
        const u = this.getFieldsMap(n);
        this.applyChanges(u, i, r), (i = {}), (r = []), (n = l.popLast());
      }
      a ? (i[l.lastSegment()] = Ao(a)) : r.push(l.lastSegment());
    });
    const s = this.getFieldsMap(n);
    this.applyChanges(s, i, r);
  }
  delete(e) {
    const n = this.field(e.popLast());
    ku(n) && n.mapValue.fields && delete n.mapValue.fields[e.lastSegment()];
  }
  isEqual(e) {
    return Cn(this.value, e.value);
  }
  getFieldsMap(e) {
    let n = this.value;
    n.mapValue.fields || (n.mapValue = { fields: {} });
    for (let i = 0; i < e.length; ++i) {
      let r = n.mapValue.fields[e.get(i)];
      (ku(r) && r.mapValue.fields) ||
        ((r = { mapValue: { fields: {} } }), (n.mapValue.fields[e.get(i)] = r)),
        (n = r);
    }
    return n.mapValue.fields;
  }
  applyChanges(e, n, i) {
    sr(n, (r, s) => (e[r] = s));
    for (const r of i) delete e[r];
  }
  clone() {
    return new It(Ao(this.value));
  }
}
function Hw(t) {
  const e = [];
  return (
    sr(t.fields, (n, i) => {
      const r = new rt([n]);
      if (ku(i)) {
        const s = Hw(i.mapValue).fields;
        if (s.length === 0) e.push(r);
        else for (const a of s) e.push(r.child(a));
      } else e.push(r);
    }),
    new Ut(e)
  );
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class ft {
  constructor(e, n, i, r, s, a, l) {
    (this.key = e),
      (this.documentType = n),
      (this.version = i),
      (this.readTime = r),
      (this.createTime = s),
      (this.data = a),
      (this.documentState = l);
  }
  static newInvalidDocument(e) {
    return new ft(e, 0, $.min(), $.min(), $.min(), It.empty(), 0);
  }
  static newFoundDocument(e, n, i, r) {
    return new ft(e, 1, n, $.min(), i, r, 0);
  }
  static newNoDocument(e, n) {
    return new ft(e, 2, n, $.min(), $.min(), It.empty(), 0);
  }
  static newUnknownDocument(e, n) {
    return new ft(e, 3, n, $.min(), $.min(), It.empty(), 2);
  }
  convertToFoundDocument(e, n) {
    return (
      !this.createTime.isEqual($.min()) ||
        (this.documentType !== 2 && this.documentType !== 0) ||
        (this.createTime = e),
      (this.version = e),
      (this.documentType = 1),
      (this.data = n),
      (this.documentState = 0),
      this
    );
  }
  convertToNoDocument(e) {
    return (
      (this.version = e),
      (this.documentType = 2),
      (this.data = It.empty()),
      (this.documentState = 0),
      this
    );
  }
  convertToUnknownDocument(e) {
    return (
      (this.version = e),
      (this.documentType = 3),
      (this.data = It.empty()),
      (this.documentState = 2),
      this
    );
  }
  setHasCommittedMutations() {
    return (this.documentState = 2), this;
  }
  setHasLocalMutations() {
    return (this.documentState = 1), (this.version = $.min()), this;
  }
  setReadTime(e) {
    return (this.readTime = e), this;
  }
  get hasLocalMutations() {
    return this.documentState === 1;
  }
  get hasCommittedMutations() {
    return this.documentState === 2;
  }
  get hasPendingWrites() {
    return this.hasLocalMutations || this.hasCommittedMutations;
  }
  isValidDocument() {
    return this.documentType !== 0;
  }
  isFoundDocument() {
    return this.documentType === 1;
  }
  isNoDocument() {
    return this.documentType === 2;
  }
  isUnknownDocument() {
    return this.documentType === 3;
  }
  isEqual(e) {
    return (
      e instanceof ft &&
      this.key.isEqual(e.key) &&
      this.version.isEqual(e.version) &&
      this.documentType === e.documentType &&
      this.documentState === e.documentState &&
      this.data.isEqual(e.data)
    );
  }
  mutableCopy() {
    return new ft(
      this.key,
      this.documentType,
      this.version,
      this.readTime,
      this.createTime,
      this.data.clone(),
      this.documentState
    );
  }
  toString() {
    return `Document(${this.key}, ${this.version}, ${JSON.stringify(
      this.data.value
    )}, {createTime: ${this.createTime}}), {documentType: ${
      this.documentType
    }}), {documentState: ${this.documentState}})`;
  }
}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class Ac {
  constructor(e, n) {
    (this.position = e), (this.inclusive = n);
  }
}
function kv(t, e, n) {
  let i = 0;
  for (let r = 0; r < t.position.length; r++) {
    const s = e[r],
      a = t.position[r];
    if (
      (s.field.isKeyField()
        ? (i = G.comparator(G.fromName(a.referenceValue), n.key))
        : (i = Xs(a, n.data.field(s.field))),
      s.dir === "desc" && (i *= -1),
      i !== 0)
    )
      break;
  }
  return i;
}
function xv(t, e) {
  if (t === null) return e === null;
  if (
    e === null ||
    t.inclusive !== e.inclusive ||
    t.position.length !== e.position.length
  )
    return !1;
  for (let n = 0; n < t.position.length; n++)
    if (!Cn(t.position[n], e.position[n])) return !1;
  return !0;
}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class wc {
  constructor(e, n = "asc") {
    (this.field = e), (this.dir = n);
  }
}
function AM(t, e) {
  return t.dir === e.dir && t.field.isEqual(e.field);
}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class Fw {}
class je extends Fw {
  constructor(e, n, i) {
    super(), (this.field = e), (this.op = n), (this.value = i);
  }
  static create(e, n, i) {
    return e.isKeyField()
      ? n === "in" || n === "not-in"
        ? this.createKeyFieldInFilter(e, n, i)
        : new SM(e, n, i)
      : n === "array-contains"
      ? new IM(e, i)
      : n === "in"
      ? new CM(e, i)
      : n === "not-in"
      ? new DM(e, i)
      : n === "array-contains-any"
      ? new OM(e, i)
      : new je(e, n, i);
  }
  static createKeyFieldInFilter(e, n, i) {
    return n === "in" ? new RM(e, i) : new bM(e, i);
  }
  matches(e) {
    const n = e.data.field(this.field);
    return this.op === "!="
      ? n !== null && this.matchesComparison(Xs(n, this.value))
      : n !== null &&
          Ji(this.value) === Ji(n) &&
          this.matchesComparison(Xs(n, this.value));
  }
  matchesComparison(e) {
    switch (this.op) {
      case "<":
        return e < 0;
      case "<=":
        return e <= 0;
      case "==":
        return e === 0;
      case "!=":
        return e !== 0;
      case ">":
        return e > 0;
      case ">=":
        return e >= 0;
      default:
        return Q();
    }
  }
  isInequality() {
    return ["<", "<=", ">", ">=", "!=", "not-in"].indexOf(this.op) >= 0;
  }
  getFlattenedFilters() {
    return [this];
  }
  getFilters() {
    return [this];
  }
}
class un extends Fw {
  constructor(e, n) {
    super(), (this.filters = e), (this.op = n), (this.ae = null);
  }
  static create(e, n) {
    return new un(e, n);
  }
  matches(e) {
    return Gw(this)
      ? this.filters.find((n) => !n.matches(e)) === void 0
      : this.filters.find((n) => n.matches(e)) !== void 0;
  }
  getFlattenedFilters() {
    return (
      this.ae !== null ||
        (this.ae = this.filters.reduce(
          (e, n) => e.concat(n.getFlattenedFilters()),
          []
        )),
      this.ae
    );
  }
  getFilters() {
    return Object.assign([], this.filters);
  }
}
function Gw(t) {
  return t.op === "and";
}
function Kw(t) {
  return wM(t) && Gw(t);
}
function wM(t) {
  for (const e of t.filters) if (e instanceof un) return !1;
  return !0;
}
function nm(t) {
  if (t instanceof je)
    return t.field.canonicalString() + t.op.toString() + Ws(t.value);
  if (Kw(t)) return t.filters.map((e) => nm(e)).join(",");
  {
    const e = t.filters.map((n) => nm(n)).join(",");
    return `${t.op}(${e})`;
  }
}
function Qw(t, e) {
  return t instanceof je
    ? (function (i, r) {
        return (
          r instanceof je &&
          i.op === r.op &&
          i.field.isEqual(r.field) &&
          Cn(i.value, r.value)
        );
      })(t, e)
    : t instanceof un
    ? (function (i, r) {
        return r instanceof un &&
          i.op === r.op &&
          i.filters.length === r.filters.length
          ? i.filters.reduce((s, a, l) => s && Qw(a, r.filters[l]), !0)
          : !1;
      })(t, e)
    : void Q();
}
function $w(t) {
  return t instanceof je
    ? (function (n) {
        return `${n.field.canonicalString()} ${n.op} ${Ws(n.value)}`;
      })(t)
    : t instanceof un
    ? (function (n) {
        return n.op.toString() + " {" + n.getFilters().map($w).join(" ,") + "}";
      })(t)
    : "Filter";
}
class SM extends je {
  constructor(e, n, i) {
    super(e, n, i), (this.key = G.fromName(i.referenceValue));
  }
  matches(e) {
    const n = G.comparator(e.key, this.key);
    return this.matchesComparison(n);
  }
}
class RM extends je {
  constructor(e, n) {
    super(e, "in", n), (this.keys = Yw("in", n));
  }
  matches(e) {
    return this.keys.some((n) => n.isEqual(e.key));
  }
}
class bM extends je {
  constructor(e, n) {
    super(e, "not-in", n), (this.keys = Yw("not-in", n));
  }
  matches(e) {
    return !this.keys.some((n) => n.isEqual(e.key));
  }
}
function Yw(t, e) {
  var n;
  return (
    ((n = e.arrayValue) === null || n === void 0 ? void 0 : n.values) || []
  ).map((i) => G.fromName(i.referenceValue));
}
class IM extends je {
  constructor(e, n) {
    super(e, "array-contains", n);
  }
  matches(e) {
    const n = e.data.field(this.field);
    return xp(n) && $o(n.arrayValue, this.value);
  }
}
class CM extends je {
  constructor(e, n) {
    super(e, "in", n);
  }
  matches(e) {
    const n = e.data.field(this.field);
    return n !== null && $o(this.value.arrayValue, n);
  }
}
class DM extends je {
  constructor(e, n) {
    super(e, "not-in", n);
  }
  matches(e) {
    if ($o(this.value.arrayValue, { nullValue: "NULL_VALUE" })) return !1;
    const n = e.data.field(this.field);
    return n !== null && !$o(this.value.arrayValue, n);
  }
}
class OM extends je {
  constructor(e, n) {
    super(e, "array-contains-any", n);
  }
  matches(e) {
    const n = e.data.field(this.field);
    return (
      !(!xp(n) || !n.arrayValue.values) &&
      n.arrayValue.values.some((i) => $o(this.value.arrayValue, i))
    );
  }
}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class NM {
  constructor(e, n = null, i = [], r = [], s = null, a = null, l = null) {
    (this.path = e),
      (this.collectionGroup = n),
      (this.orderBy = i),
      (this.filters = r),
      (this.limit = s),
      (this.startAt = a),
      (this.endAt = l),
      (this.ue = null);
  }
}
function Vv(t, e = null, n = [], i = [], r = null, s = null, a = null) {
  return new NM(t, e, n, i, r, s, a);
}
function Vp(t) {
  const e = X(t);
  if (e.ue === null) {
    let n = e.path.canonicalString();
    e.collectionGroup !== null && (n += "|cg:" + e.collectionGroup),
      (n += "|f:"),
      (n += e.filters.map((i) => nm(i)).join(",")),
      (n += "|ob:"),
      (n += e.orderBy
        .map((i) =>
          (function (s) {
            return s.field.canonicalString() + s.dir;
          })(i)
        )
        .join(",")),
      ih(e.limit) || ((n += "|l:"), (n += e.limit)),
      e.startAt &&
        ((n += "|lb:"),
        (n += e.startAt.inclusive ? "b:" : "a:"),
        (n += e.startAt.position.map((i) => Ws(i)).join(","))),
      e.endAt &&
        ((n += "|ub:"),
        (n += e.endAt.inclusive ? "a:" : "b:"),
        (n += e.endAt.position.map((i) => Ws(i)).join(","))),
      (e.ue = n);
  }
  return e.ue;
}
function Pp(t, e) {
  if (t.limit !== e.limit || t.orderBy.length !== e.orderBy.length) return !1;
  for (let n = 0; n < t.orderBy.length; n++)
    if (!AM(t.orderBy[n], e.orderBy[n])) return !1;
  if (t.filters.length !== e.filters.length) return !1;
  for (let n = 0; n < t.filters.length; n++)
    if (!Qw(t.filters[n], e.filters[n])) return !1;
  return (
    t.collectionGroup === e.collectionGroup &&
    !!t.path.isEqual(e.path) &&
    !!xv(t.startAt, e.startAt) &&
    xv(t.endAt, e.endAt)
  );
}
function im(t) {
  return (
    G.isDocumentKey(t.path) &&
    t.collectionGroup === null &&
    t.filters.length === 0
  );
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class yl {
  constructor(
    e,
    n = null,
    i = [],
    r = [],
    s = null,
    a = "F",
    l = null,
    u = null
  ) {
    (this.path = e),
      (this.collectionGroup = n),
      (this.explicitOrderBy = i),
      (this.filters = r),
      (this.limit = s),
      (this.limitType = a),
      (this.startAt = l),
      (this.endAt = u),
      (this.ce = null),
      (this.le = null),
      (this.he = null),
      this.startAt,
      this.endAt;
  }
}
function MM(t, e, n, i, r, s, a, l) {
  return new yl(t, e, n, i, r, s, a, l);
}
function sh(t) {
  return new yl(t);
}
function Pv(t) {
  return (
    t.filters.length === 0 &&
    t.limit === null &&
    t.startAt == null &&
    t.endAt == null &&
    (t.explicitOrderBy.length === 0 ||
      (t.explicitOrderBy.length === 1 &&
        t.explicitOrderBy[0].field.isKeyField()))
  );
}
function Xw(t) {
  return t.collectionGroup !== null;
}
function wo(t) {
  const e = X(t);
  if (e.ce === null) {
    e.ce = [];
    const n = new Set();
    for (const s of e.explicitOrderBy)
      e.ce.push(s), n.add(s.field.canonicalString());
    const i =
      e.explicitOrderBy.length > 0
        ? e.explicitOrderBy[e.explicitOrderBy.length - 1].dir
        : "asc";
    (function (a) {
      let l = new Ke(rt.comparator);
      return (
        a.filters.forEach((u) => {
          u.getFlattenedFilters().forEach((c) => {
            c.isInequality() && (l = l.add(c.field));
          });
        }),
        l
      );
    })(e).forEach((s) => {
      n.has(s.canonicalString()) || s.isKeyField() || e.ce.push(new wc(s, i));
    }),
      n.has(rt.keyField().canonicalString()) ||
        e.ce.push(new wc(rt.keyField(), i));
  }
  return e.ce;
}
function Sn(t) {
  const e = X(t);
  return e.le || (e.le = kM(e, wo(t))), e.le;
}
function kM(t, e) {
  if (t.limitType === "F")
    return Vv(
      t.path,
      t.collectionGroup,
      e,
      t.filters,
      t.limit,
      t.startAt,
      t.endAt
    );
  {
    e = e.map((r) => {
      const s = r.dir === "desc" ? "asc" : "desc";
      return new wc(r.field, s);
    });
    const n = t.endAt ? new Ac(t.endAt.position, t.endAt.inclusive) : null,
      i = t.startAt ? new Ac(t.startAt.position, t.startAt.inclusive) : null;
    return Vv(t.path, t.collectionGroup, e, t.filters, t.limit, n, i);
  }
}
function rm(t, e) {
  const n = t.filters.concat([e]);
  return new yl(
    t.path,
    t.collectionGroup,
    t.explicitOrderBy.slice(),
    n,
    t.limit,
    t.limitType,
    t.startAt,
    t.endAt
  );
}
function sm(t, e, n) {
  return new yl(
    t.path,
    t.collectionGroup,
    t.explicitOrderBy.slice(),
    t.filters.slice(),
    e,
    n,
    t.startAt,
    t.endAt
  );
}
function ah(t, e) {
  return Pp(Sn(t), Sn(e)) && t.limitType === e.limitType;
}
function Ww(t) {
  return `${Vp(Sn(t))}|lt:${t.limitType}`;
}
function hs(t) {
  return `Query(target=${(function (n) {
    let i = n.path.canonicalString();
    return (
      n.collectionGroup !== null &&
        (i += " collectionGroup=" + n.collectionGroup),
      n.filters.length > 0 &&
        (i += `, filters: [${n.filters.map((r) => $w(r)).join(", ")}]`),
      ih(n.limit) || (i += ", limit: " + n.limit),
      n.orderBy.length > 0 &&
        (i += `, orderBy: [${n.orderBy
          .map((r) =>
            (function (a) {
              return `${a.field.canonicalString()} (${a.dir})`;
            })(r)
          )
          .join(", ")}]`),
      n.startAt &&
        ((i += ", startAt: "),
        (i += n.startAt.inclusive ? "b:" : "a:"),
        (i += n.startAt.position.map((r) => Ws(r)).join(","))),
      n.endAt &&
        ((i += ", endAt: "),
        (i += n.endAt.inclusive ? "a:" : "b:"),
        (i += n.endAt.position.map((r) => Ws(r)).join(","))),
      `Target(${i})`
    );
  })(Sn(t))}; limitType=${t.limitType})`;
}
function oh(t, e) {
  return (
    e.isFoundDocument() &&
    (function (i, r) {
      const s = r.key.path;
      return i.collectionGroup !== null
        ? r.key.hasCollectionId(i.collectionGroup) && i.path.isPrefixOf(s)
        : G.isDocumentKey(i.path)
        ? i.path.isEqual(s)
        : i.path.isImmediateParentOf(s);
    })(t, e) &&
    (function (i, r) {
      for (const s of wo(i))
        if (!s.field.isKeyField() && r.data.field(s.field) === null) return !1;
      return !0;
    })(t, e) &&
    (function (i, r) {
      for (const s of i.filters) if (!s.matches(r)) return !1;
      return !0;
    })(t, e) &&
    (function (i, r) {
      return !(
        (i.startAt &&
          !(function (a, l, u) {
            const c = kv(a, l, u);
            return a.inclusive ? c <= 0 : c < 0;
          })(i.startAt, wo(i), r)) ||
        (i.endAt &&
          !(function (a, l, u) {
            const c = kv(a, l, u);
            return a.inclusive ? c >= 0 : c > 0;
          })(i.endAt, wo(i), r))
      );
    })(t, e)
  );
}
function xM(t) {
  return (
    t.collectionGroup ||
    (t.path.length % 2 == 1
      ? t.path.lastSegment()
      : t.path.get(t.path.length - 2))
  );
}
function Zw(t) {
  return (e, n) => {
    let i = !1;
    for (const r of wo(t)) {
      const s = VM(r, e, n);
      if (s !== 0) return s;
      i = i || r.field.isKeyField();
    }
    return 0;
  };
}
function VM(t, e, n) {
  const i = t.field.isKeyField()
    ? G.comparator(e.key, n.key)
    : (function (s, a, l) {
        const u = a.data.field(s),
          c = l.data.field(s);
        return u !== null && c !== null ? Xs(u, c) : Q();
      })(t.field, e, n);
  switch (t.dir) {
    case "asc":
      return i;
    case "desc":
      return -1 * i;
    default:
      return Q();
  }
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class $r {
  constructor(e, n) {
    (this.mapKeyFn = e),
      (this.equalsFn = n),
      (this.inner = {}),
      (this.innerSize = 0);
  }
  get(e) {
    const n = this.mapKeyFn(e),
      i = this.inner[n];
    if (i !== void 0) {
      for (const [r, s] of i) if (this.equalsFn(r, e)) return s;
    }
  }
  has(e) {
    return this.get(e) !== void 0;
  }
  set(e, n) {
    const i = this.mapKeyFn(e),
      r = this.inner[i];
    if (r === void 0) return (this.inner[i] = [[e, n]]), void this.innerSize++;
    for (let s = 0; s < r.length; s++)
      if (this.equalsFn(r[s][0], e)) return void (r[s] = [e, n]);
    r.push([e, n]), this.innerSize++;
  }
  delete(e) {
    const n = this.mapKeyFn(e),
      i = this.inner[n];
    if (i === void 0) return !1;
    for (let r = 0; r < i.length; r++)
      if (this.equalsFn(i[r][0], e))
        return (
          i.length === 1 ? delete this.inner[n] : i.splice(r, 1),
          this.innerSize--,
          !0
        );
    return !1;
  }
  forEach(e) {
    sr(this.inner, (n, i) => {
      for (const [r, s] of i) e(r, s);
    });
  }
  isEmpty() {
    return jw(this.inner);
  }
  size() {
    return this.innerSize;
  }
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ const PM = new De(G.comparator);
function ci() {
  return PM;
}
const Jw = new De(G.comparator);
function Ja(...t) {
  let e = Jw;
  for (const n of t) e = e.insert(n.key, n);
  return e;
}
function eS(t) {
  let e = Jw;
  return t.forEach((n, i) => (e = e.insert(n, i.overlayedDocument))), e;
}
function Er() {
  return So();
}
function tS() {
  return So();
}
function So() {
  return new $r(
    (t) => t.toString(),
    (t, e) => t.isEqual(e)
  );
}
const UM = new De(G.comparator),
  LM = new Ke(G.comparator);
function ie(...t) {
  let e = LM;
  for (const n of t) e = e.add(n);
  return e;
}
const BM = new Ke(se);
function zM() {
  return BM;
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ function Up(t, e) {
  if (t.useProto3Json) {
    if (isNaN(e)) return { doubleValue: "NaN" };
    if (e === 1 / 0) return { doubleValue: "Infinity" };
    if (e === -1 / 0) return { doubleValue: "-Infinity" };
  }
  return { doubleValue: Tc(e) ? "-0" : e };
}
function nS(t) {
  return { integerValue: "" + t };
}
function jM(t, e) {
  return pM(e) ? nS(e) : Up(t, e);
}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class lh {
  constructor() {
    this._ = void 0;
  }
}
function qM(t, e, n) {
  return t instanceof Yo
    ? (function (r, s) {
        const a = {
          fields: {
            __type__: { stringValue: "server_timestamp" },
            __local_write_time__: {
              timestampValue: { seconds: r.seconds, nanos: r.nanoseconds },
            },
          },
        };
        return (
          s && kp(s) && (s = rh(s)),
          s && (a.fields.__previous_value__ = s),
          { mapValue: a }
        );
      })(n, e)
    : t instanceof Zs
    ? rS(t, e)
    : t instanceof Xo
    ? sS(t, e)
    : (function (r, s) {
        const a = iS(r, s),
          l = Uv(a) + Uv(r.Pe);
        return tm(a) && tm(r.Pe) ? nS(l) : Up(r.serializer, l);
      })(t, e);
}
function HM(t, e, n) {
  return t instanceof Zs ? rS(t, e) : t instanceof Xo ? sS(t, e) : n;
}
function iS(t, e) {
  return t instanceof Sc
    ? (function (i) {
        return (
          tm(i) ||
          (function (s) {
            return !!s && "doubleValue" in s;
          })(i)
        );
      })(e)
      ? e
      : { integerValue: 0 }
    : null;
}
class Yo extends lh {}
class Zs extends lh {
  constructor(e) {
    super(), (this.elements = e);
  }
}
function rS(t, e) {
  const n = aS(e);
  for (const i of t.elements) n.some((r) => Cn(r, i)) || n.push(i);
  return { arrayValue: { values: n } };
}
class Xo extends lh {
  constructor(e) {
    super(), (this.elements = e);
  }
}
function sS(t, e) {
  let n = aS(e);
  for (const i of t.elements) n = n.filter((r) => !Cn(r, i));
  return { arrayValue: { values: n } };
}
class Sc extends lh {
  constructor(e, n) {
    super(), (this.serializer = e), (this.Pe = n);
  }
}
function Uv(t) {
  return Pe(t.integerValue || t.doubleValue);
}
function aS(t) {
  return xp(t) && t.arrayValue.values ? t.arrayValue.values.slice() : [];
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class oS {
  constructor(e, n) {
    (this.field = e), (this.transform = n);
  }
}
function FM(t, e) {
  return (
    t.field.isEqual(e.field) &&
    (function (i, r) {
      return (i instanceof Zs && r instanceof Zs) ||
        (i instanceof Xo && r instanceof Xo)
        ? Ys(i.elements, r.elements, Cn)
        : i instanceof Sc && r instanceof Sc
        ? Cn(i.Pe, r.Pe)
        : i instanceof Yo && r instanceof Yo;
    })(t.transform, e.transform)
  );
}
class GM {
  constructor(e, n) {
    (this.version = e), (this.transformResults = n);
  }
}
class Rn {
  constructor(e, n) {
    (this.updateTime = e), (this.exists = n);
  }
  static none() {
    return new Rn();
  }
  static exists(e) {
    return new Rn(void 0, e);
  }
  static updateTime(e) {
    return new Rn(e);
  }
  get isNone() {
    return this.updateTime === void 0 && this.exists === void 0;
  }
  isEqual(e) {
    return (
      this.exists === e.exists &&
      (this.updateTime
        ? !!e.updateTime && this.updateTime.isEqual(e.updateTime)
        : !e.updateTime)
    );
  }
}
function xu(t, e) {
  return t.updateTime !== void 0
    ? e.isFoundDocument() && e.version.isEqual(t.updateTime)
    : t.exists === void 0 || t.exists === e.isFoundDocument();
}
class uh {}
function lS(t, e) {
  if (!t.hasLocalMutations || (e && e.fields.length === 0)) return null;
  if (e === null)
    return t.isNoDocument()
      ? new cS(t.key, Rn.none())
      : new vl(t.key, t.data, Rn.none());
  {
    const n = t.data,
      i = It.empty();
    let r = new Ke(rt.comparator);
    for (let s of e.fields)
      if (!r.has(s)) {
        let a = n.field(s);
        a === null && s.length > 1 && ((s = s.popLast()), (a = n.field(s))),
          a === null ? i.delete(s) : i.set(s, a),
          (r = r.add(s));
      }
    return new ar(t.key, i, new Ut(r.toArray()), Rn.none());
  }
}
function KM(t, e, n) {
  t instanceof vl
    ? (function (r, s, a) {
        const l = r.value.clone(),
          u = Bv(r.fieldTransforms, s, a.transformResults);
        l.setAll(u),
          s.convertToFoundDocument(a.version, l).setHasCommittedMutations();
      })(t, e, n)
    : t instanceof ar
    ? (function (r, s, a) {
        if (!xu(r.precondition, s))
          return void s.convertToUnknownDocument(a.version);
        const l = Bv(r.fieldTransforms, s, a.transformResults),
          u = s.data;
        u.setAll(uS(r)),
          u.setAll(l),
          s.convertToFoundDocument(a.version, u).setHasCommittedMutations();
      })(t, e, n)
    : (function (r, s, a) {
        s.convertToNoDocument(a.version).setHasCommittedMutations();
      })(0, e, n);
}
function Ro(t, e, n, i) {
  return t instanceof vl
    ? (function (s, a, l, u) {
        if (!xu(s.precondition, a)) return l;
        const c = s.value.clone(),
          f = zv(s.fieldTransforms, u, a);
        return (
          c.setAll(f),
          a.convertToFoundDocument(a.version, c).setHasLocalMutations(),
          null
        );
      })(t, e, n, i)
    : t instanceof ar
    ? (function (s, a, l, u) {
        if (!xu(s.precondition, a)) return l;
        const c = zv(s.fieldTransforms, u, a),
          f = a.data;
        return (
          f.setAll(uS(s)),
          f.setAll(c),
          a.convertToFoundDocument(a.version, f).setHasLocalMutations(),
          l === null
            ? null
            : l
                .unionWith(s.fieldMask.fields)
                .unionWith(s.fieldTransforms.map((p) => p.field))
        );
      })(t, e, n, i)
    : (function (s, a, l) {
        return xu(s.precondition, a)
          ? (a.convertToNoDocument(a.version).setHasLocalMutations(), null)
          : l;
      })(t, e, n);
}
function QM(t, e) {
  let n = null;
  for (const i of t.fieldTransforms) {
    const r = e.data.field(i.field),
      s = iS(i.transform, r || null);
    s != null && (n === null && (n = It.empty()), n.set(i.field, s));
  }
  return n || null;
}
function Lv(t, e) {
  return (
    t.type === e.type &&
    !!t.key.isEqual(e.key) &&
    !!t.precondition.isEqual(e.precondition) &&
    !!(function (i, r) {
      return (
        (i === void 0 && r === void 0) ||
        (!(!i || !r) && Ys(i, r, (s, a) => FM(s, a)))
      );
    })(t.fieldTransforms, e.fieldTransforms) &&
    (t.type === 0
      ? t.value.isEqual(e.value)
      : t.type !== 1 ||
        (t.data.isEqual(e.data) && t.fieldMask.isEqual(e.fieldMask)))
  );
}
class vl extends uh {
  constructor(e, n, i, r = []) {
    super(),
      (this.key = e),
      (this.value = n),
      (this.precondition = i),
      (this.fieldTransforms = r),
      (this.type = 0);
  }
  getFieldMask() {
    return null;
  }
}
class ar extends uh {
  constructor(e, n, i, r, s = []) {
    super(),
      (this.key = e),
      (this.data = n),
      (this.fieldMask = i),
      (this.precondition = r),
      (this.fieldTransforms = s),
      (this.type = 1);
  }
  getFieldMask() {
    return this.fieldMask;
  }
}
function uS(t) {
  const e = new Map();
  return (
    t.fieldMask.fields.forEach((n) => {
      if (!n.isEmpty()) {
        const i = t.data.field(n);
        e.set(n, i);
      }
    }),
    e
  );
}
function Bv(t, e, n) {
  const i = new Map();
  ce(t.length === n.length);
  for (let r = 0; r < n.length; r++) {
    const s = t[r],
      a = s.transform,
      l = e.data.field(s.field);
    i.set(s.field, HM(a, l, n[r]));
  }
  return i;
}
function zv(t, e, n) {
  const i = new Map();
  for (const r of t) {
    const s = r.transform,
      a = n.data.field(r.field);
    i.set(r.field, qM(s, a, e));
  }
  return i;
}
class cS extends uh {
  constructor(e, n) {
    super(),
      (this.key = e),
      (this.precondition = n),
      (this.type = 2),
      (this.fieldTransforms = []);
  }
  getFieldMask() {
    return null;
  }
}
class $M extends uh {
  constructor(e, n) {
    super(),
      (this.key = e),
      (this.precondition = n),
      (this.type = 3),
      (this.fieldTransforms = []);
  }
  getFieldMask() {
    return null;
  }
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class YM {
  constructor(e, n, i, r) {
    (this.batchId = e),
      (this.localWriteTime = n),
      (this.baseMutations = i),
      (this.mutations = r);
  }
  applyToRemoteDocument(e, n) {
    const i = n.mutationResults;
    for (let r = 0; r < this.mutations.length; r++) {
      const s = this.mutations[r];
      s.key.isEqual(e.key) && KM(s, e, i[r]);
    }
  }
  applyToLocalView(e, n) {
    for (const i of this.baseMutations)
      i.key.isEqual(e.key) && (n = Ro(i, e, n, this.localWriteTime));
    for (const i of this.mutations)
      i.key.isEqual(e.key) && (n = Ro(i, e, n, this.localWriteTime));
    return n;
  }
  applyToLocalDocumentSet(e, n) {
    const i = tS();
    return (
      this.mutations.forEach((r) => {
        const s = e.get(r.key),
          a = s.overlayedDocument;
        let l = this.applyToLocalView(a, s.mutatedFields);
        l = n.has(r.key) ? null : l;
        const u = lS(a, l);
        u !== null && i.set(r.key, u),
          a.isValidDocument() || a.convertToNoDocument($.min());
      }),
      i
    );
  }
  keys() {
    return this.mutations.reduce((e, n) => e.add(n.key), ie());
  }
  isEqual(e) {
    return (
      this.batchId === e.batchId &&
      Ys(this.mutations, e.mutations, (n, i) => Lv(n, i)) &&
      Ys(this.baseMutations, e.baseMutations, (n, i) => Lv(n, i))
    );
  }
}
class Lp {
  constructor(e, n, i, r) {
    (this.batch = e),
      (this.commitVersion = n),
      (this.mutationResults = i),
      (this.docVersions = r);
  }
  static from(e, n, i) {
    ce(e.mutations.length === i.length);
    let r = (function () {
      return UM;
    })();
    const s = e.mutations;
    for (let a = 0; a < s.length; a++) r = r.insert(s[a].key, i[a].version);
    return new Lp(e, n, i, r);
  }
}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class XM {
  constructor(e, n) {
    (this.largestBatchId = e), (this.mutation = n);
  }
  getKey() {
    return this.mutation.key;
  }
  isEqual(e) {
    return e !== null && this.mutation === e.mutation;
  }
  toString() {
    return `Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`;
  }
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class WM {
  constructor(e, n) {
    (this.count = e), (this.unchangedNames = n);
  }
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ var Le, ae;
function ZM(t) {
  switch (t) {
    default:
      return Q();
    case L.CANCELLED:
    case L.UNKNOWN:
    case L.DEADLINE_EXCEEDED:
    case L.RESOURCE_EXHAUSTED:
    case L.INTERNAL:
    case L.UNAVAILABLE:
    case L.UNAUTHENTICATED:
      return !1;
    case L.INVALID_ARGUMENT:
    case L.NOT_FOUND:
    case L.ALREADY_EXISTS:
    case L.PERMISSION_DENIED:
    case L.FAILED_PRECONDITION:
    case L.ABORTED:
    case L.OUT_OF_RANGE:
    case L.UNIMPLEMENTED:
    case L.DATA_LOSS:
      return !0;
  }
}
function hS(t) {
  if (t === void 0) return ui("GRPC error has no .code"), L.UNKNOWN;
  switch (t) {
    case Le.OK:
      return L.OK;
    case Le.CANCELLED:
      return L.CANCELLED;
    case Le.UNKNOWN:
      return L.UNKNOWN;
    case Le.DEADLINE_EXCEEDED:
      return L.DEADLINE_EXCEEDED;
    case Le.RESOURCE_EXHAUSTED:
      return L.RESOURCE_EXHAUSTED;
    case Le.INTERNAL:
      return L.INTERNAL;
    case Le.UNAVAILABLE:
      return L.UNAVAILABLE;
    case Le.UNAUTHENTICATED:
      return L.UNAUTHENTICATED;
    case Le.INVALID_ARGUMENT:
      return L.INVALID_ARGUMENT;
    case Le.NOT_FOUND:
      return L.NOT_FOUND;
    case Le.ALREADY_EXISTS:
      return L.ALREADY_EXISTS;
    case Le.PERMISSION_DENIED:
      return L.PERMISSION_DENIED;
    case Le.FAILED_PRECONDITION:
      return L.FAILED_PRECONDITION;
    case Le.ABORTED:
      return L.ABORTED;
    case Le.OUT_OF_RANGE:
      return L.OUT_OF_RANGE;
    case Le.UNIMPLEMENTED:
      return L.UNIMPLEMENTED;
    case Le.DATA_LOSS:
      return L.DATA_LOSS;
    default:
      return Q();
  }
}
((ae = Le || (Le = {}))[(ae.OK = 0)] = "OK"),
  (ae[(ae.CANCELLED = 1)] = "CANCELLED"),
  (ae[(ae.UNKNOWN = 2)] = "UNKNOWN"),
  (ae[(ae.INVALID_ARGUMENT = 3)] = "INVALID_ARGUMENT"),
  (ae[(ae.DEADLINE_EXCEEDED = 4)] = "DEADLINE_EXCEEDED"),
  (ae[(ae.NOT_FOUND = 5)] = "NOT_FOUND"),
  (ae[(ae.ALREADY_EXISTS = 6)] = "ALREADY_EXISTS"),
  (ae[(ae.PERMISSION_DENIED = 7)] = "PERMISSION_DENIED"),
  (ae[(ae.UNAUTHENTICATED = 16)] = "UNAUTHENTICATED"),
  (ae[(ae.RESOURCE_EXHAUSTED = 8)] = "RESOURCE_EXHAUSTED"),
  (ae[(ae.FAILED_PRECONDITION = 9)] = "FAILED_PRECONDITION"),
  (ae[(ae.ABORTED = 10)] = "ABORTED"),
  (ae[(ae.OUT_OF_RANGE = 11)] = "OUT_OF_RANGE"),
  (ae[(ae.UNIMPLEMENTED = 12)] = "UNIMPLEMENTED"),
  (ae[(ae.INTERNAL = 13)] = "INTERNAL"),
  (ae[(ae.UNAVAILABLE = 14)] = "UNAVAILABLE"),
  (ae[(ae.DATA_LOSS = 15)] = "DATA_LOSS");
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ function JM() {
  return new TextEncoder();
}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ const ek = new Cr([4294967295, 4294967295], 0);
function jv(t) {
  const e = JM().encode(t),
    n = new kw();
  return n.update(e), new Uint8Array(n.digest());
}
function qv(t) {
  const e = new DataView(t.buffer),
    n = e.getUint32(0, !0),
    i = e.getUint32(4, !0),
    r = e.getUint32(8, !0),
    s = e.getUint32(12, !0);
  return [new Cr([n, i], 0), new Cr([r, s], 0)];
}
class Bp {
  constructor(e, n, i) {
    if (
      ((this.bitmap = e),
      (this.padding = n),
      (this.hashCount = i),
      n < 0 || n >= 8)
    )
      throw new eo(`Invalid padding: ${n}`);
    if (i < 0) throw new eo(`Invalid hash count: ${i}`);
    if (e.length > 0 && this.hashCount === 0)
      throw new eo(`Invalid hash count: ${i}`);
    if (e.length === 0 && n !== 0)
      throw new eo(`Invalid padding when bitmap length is 0: ${n}`);
    (this.Te = 8 * e.length - n), (this.Ie = Cr.fromNumber(this.Te));
  }
  Ee(e, n, i) {
    let r = e.add(n.multiply(Cr.fromNumber(i)));
    return (
      r.compare(ek) === 1 && (r = new Cr([r.getBits(0), r.getBits(1)], 0)),
      r.modulo(this.Ie).toNumber()
    );
  }
  de(e) {
    return (this.bitmap[Math.floor(e / 8)] & (1 << e % 8)) != 0;
  }
  mightContain(e) {
    if (this.Te === 0) return !1;
    const n = jv(e),
      [i, r] = qv(n);
    for (let s = 0; s < this.hashCount; s++) {
      const a = this.Ee(i, r, s);
      if (!this.de(a)) return !1;
    }
    return !0;
  }
  static create(e, n, i) {
    const r = e % 8 == 0 ? 0 : 8 - (e % 8),
      s = new Uint8Array(Math.ceil(e / 8)),
      a = new Bp(s, r, n);
    return i.forEach((l) => a.insert(l)), a;
  }
  insert(e) {
    if (this.Te === 0) return;
    const n = jv(e),
      [i, r] = qv(n);
    for (let s = 0; s < this.hashCount; s++) {
      const a = this.Ee(i, r, s);
      this.Ae(a);
    }
  }
  Ae(e) {
    const n = Math.floor(e / 8),
      i = e % 8;
    this.bitmap[n] |= 1 << i;
  }
}
class eo extends Error {
  constructor() {
    super(...arguments), (this.name = "BloomFilterError");
  }
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class ch {
  constructor(e, n, i, r, s) {
    (this.snapshotVersion = e),
      (this.targetChanges = n),
      (this.targetMismatches = i),
      (this.documentUpdates = r),
      (this.resolvedLimboDocuments = s);
  }
  static createSynthesizedRemoteEventForCurrentChange(e, n, i) {
    const r = new Map();
    return (
      r.set(e, El.createSynthesizedTargetChangeForCurrentChange(e, n, i)),
      new ch($.min(), r, new De(se), ci(), ie())
    );
  }
}
class El {
  constructor(e, n, i, r, s) {
    (this.resumeToken = e),
      (this.current = n),
      (this.addedDocuments = i),
      (this.modifiedDocuments = r),
      (this.removedDocuments = s);
  }
  static createSynthesizedTargetChangeForCurrentChange(e, n, i) {
    return new El(i, n, ie(), ie(), ie());
  }
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class Vu {
  constructor(e, n, i, r) {
    (this.Re = e), (this.removedTargetIds = n), (this.key = i), (this.Ve = r);
  }
}
class fS {
  constructor(e, n) {
    (this.targetId = e), (this.me = n);
  }
}
class dS {
  constructor(e, n, i = at.EMPTY_BYTE_STRING, r = null) {
    (this.state = e),
      (this.targetIds = n),
      (this.resumeToken = i),
      (this.cause = r);
  }
}
class Hv {
  constructor() {
    (this.fe = 0),
      (this.ge = Fv()),
      (this.pe = at.EMPTY_BYTE_STRING),
      (this.ye = !1),
      (this.we = !0);
  }
  get current() {
    return this.ye;
  }
  get resumeToken() {
    return this.pe;
  }
  get Se() {
    return this.fe !== 0;
  }
  get be() {
    return this.we;
  }
  De(e) {
    e.approximateByteSize() > 0 && ((this.we = !0), (this.pe = e));
  }
  ve() {
    let e = ie(),
      n = ie(),
      i = ie();
    return (
      this.ge.forEach((r, s) => {
        switch (s) {
          case 0:
            e = e.add(r);
            break;
          case 2:
            n = n.add(r);
            break;
          case 1:
            i = i.add(r);
            break;
          default:
            Q();
        }
      }),
      new El(this.pe, this.ye, e, n, i)
    );
  }
  Ce() {
    (this.we = !1), (this.ge = Fv());
  }
  Fe(e, n) {
    (this.we = !0), (this.ge = this.ge.insert(e, n));
  }
  Me(e) {
    (this.we = !0), (this.ge = this.ge.remove(e));
  }
  xe() {
    this.fe += 1;
  }
  Oe() {
    (this.fe -= 1), ce(this.fe >= 0);
  }
  Ne() {
    (this.we = !0), (this.ye = !0);
  }
}
class tk {
  constructor(e) {
    (this.Le = e),
      (this.Be = new Map()),
      (this.ke = ci()),
      (this.qe = fu()),
      (this.Qe = fu()),
      (this.Ke = new De(se));
  }
  $e(e) {
    for (const n of e.Re)
      e.Ve && e.Ve.isFoundDocument()
        ? this.Ue(n, e.Ve)
        : this.We(n, e.key, e.Ve);
    for (const n of e.removedTargetIds) this.We(n, e.key, e.Ve);
  }
  Ge(e) {
    this.forEachTarget(e, (n) => {
      const i = this.ze(n);
      switch (e.state) {
        case 0:
          this.je(n) && i.De(e.resumeToken);
          break;
        case 1:
          i.Oe(), i.Se || i.Ce(), i.De(e.resumeToken);
          break;
        case 2:
          i.Oe(), i.Se || this.removeTarget(n);
          break;
        case 3:
          this.je(n) && (i.Ne(), i.De(e.resumeToken));
          break;
        case 4:
          this.je(n) && (this.He(n), i.De(e.resumeToken));
          break;
        default:
          Q();
      }
    });
  }
  forEachTarget(e, n) {
    e.targetIds.length > 0
      ? e.targetIds.forEach(n)
      : this.Be.forEach((i, r) => {
          this.je(r) && n(r);
        });
  }
  Je(e) {
    const n = e.targetId,
      i = e.me.count,
      r = this.Ye(n);
    if (r) {
      const s = r.target;
      if (im(s))
        if (i === 0) {
          const a = new G(s.path);
          this.We(n, a, ft.newNoDocument(a, $.min()));
        } else ce(i === 1);
      else {
        const a = this.Ze(n);
        if (a !== i) {
          const l = this.Xe(e),
            u = l ? this.et(l, e, a) : 1;
          if (u !== 0) {
            this.He(n);
            const c =
              u === 2
                ? "TargetPurposeExistenceFilterMismatchBloom"
                : "TargetPurposeExistenceFilterMismatch";
            this.Ke = this.Ke.insert(n, c);
          }
        }
      }
    }
  }
  Xe(e) {
    const n = e.me.unchangedNames;
    if (!n || !n.bits) return null;
    const {
      bits: { bitmap: i = "", padding: r = 0 },
      hashCount: s = 0,
    } = n;
    let a, l;
    try {
      a = Zi(i).toUint8Array();
    } catch (u) {
      if (u instanceof qw)
        return (
          $s(
            "Decoding the base64 bloom filter in existence filter failed (" +
              u.message +
              "); ignoring the bloom filter and falling back to full re-query."
          ),
          null
        );
      throw u;
    }
    try {
      l = new Bp(a, r, s);
    } catch (u) {
      return (
        $s(
          u instanceof eo
            ? "BloomFilter error: "
            : "Applying bloom filter failed: ",
          u
        ),
        null
      );
    }
    return l.Te === 0 ? null : l;
  }
  et(e, n, i) {
    return n.me.count === i - this.rt(e, n.targetId) ? 0 : 2;
  }
  rt(e, n) {
    const i = this.Le.getRemoteKeysForTarget(n);
    let r = 0;
    return (
      i.forEach((s) => {
        const a = this.Le.nt(),
          l = `projects/${a.projectId}/databases/${
            a.database
          }/documents/${s.path.canonicalString()}`;
        e.mightContain(l) || (this.We(n, s, null), r++);
      }),
      r
    );
  }
  it(e) {
    const n = new Map();
    this.Be.forEach((s, a) => {
      const l = this.Ye(a);
      if (l) {
        if (s.current && im(l.target)) {
          const u = new G(l.target.path);
          this.st(u).has(a) ||
            this.ot(a, u) ||
            this.We(a, u, ft.newNoDocument(u, e));
        }
        s.be && (n.set(a, s.ve()), s.Ce());
      }
    });
    let i = ie();
    this.Qe.forEach((s, a) => {
      let l = !0;
      a.forEachWhile((u) => {
        const c = this.Ye(u);
        return (
          !c || c.purpose === "TargetPurposeLimboResolution" || ((l = !1), !1)
        );
      }),
        l && (i = i.add(s));
    }),
      this.ke.forEach((s, a) => a.setReadTime(e));
    const r = new ch(e, n, this.Ke, this.ke, i);
    return (
      (this.ke = ci()),
      (this.qe = fu()),
      (this.Qe = fu()),
      (this.Ke = new De(se)),
      r
    );
  }
  Ue(e, n) {
    if (!this.je(e)) return;
    const i = this.ot(e, n.key) ? 2 : 0;
    this.ze(e).Fe(n.key, i),
      (this.ke = this.ke.insert(n.key, n)),
      (this.qe = this.qe.insert(n.key, this.st(n.key).add(e))),
      (this.Qe = this.Qe.insert(n.key, this._t(n.key).add(e)));
  }
  We(e, n, i) {
    if (!this.je(e)) return;
    const r = this.ze(e);
    this.ot(e, n) ? r.Fe(n, 1) : r.Me(n),
      (this.Qe = this.Qe.insert(n, this._t(n).delete(e))),
      (this.Qe = this.Qe.insert(n, this._t(n).add(e))),
      i && (this.ke = this.ke.insert(n, i));
  }
  removeTarget(e) {
    this.Be.delete(e);
  }
  Ze(e) {
    const n = this.ze(e).ve();
    return (
      this.Le.getRemoteKeysForTarget(e).size +
      n.addedDocuments.size -
      n.removedDocuments.size
    );
  }
  xe(e) {
    this.ze(e).xe();
  }
  ze(e) {
    let n = this.Be.get(e);
    return n || ((n = new Hv()), this.Be.set(e, n)), n;
  }
  _t(e) {
    let n = this.Qe.get(e);
    return n || ((n = new Ke(se)), (this.Qe = this.Qe.insert(e, n))), n;
  }
  st(e) {
    let n = this.qe.get(e);
    return n || ((n = new Ke(se)), (this.qe = this.qe.insert(e, n))), n;
  }
  je(e) {
    const n = this.Ye(e) !== null;
    return n || H("WatchChangeAggregator", "Detected inactive target", e), n;
  }
  Ye(e) {
    const n = this.Be.get(e);
    return n && n.Se ? null : this.Le.ut(e);
  }
  He(e) {
    this.Be.set(e, new Hv()),
      this.Le.getRemoteKeysForTarget(e).forEach((n) => {
        this.We(e, n, null);
      });
  }
  ot(e, n) {
    return this.Le.getRemoteKeysForTarget(e).has(n);
  }
}
function fu() {
  return new De(G.comparator);
}
function Fv() {
  return new De(G.comparator);
}
const nk = (() => ({ asc: "ASCENDING", desc: "DESCENDING" }))(),
  ik = (() => ({
    "<": "LESS_THAN",
    "<=": "LESS_THAN_OR_EQUAL",
    ">": "GREATER_THAN",
    ">=": "GREATER_THAN_OR_EQUAL",
    "==": "EQUAL",
    "!=": "NOT_EQUAL",
    "array-contains": "ARRAY_CONTAINS",
    in: "IN",
    "not-in": "NOT_IN",
    "array-contains-any": "ARRAY_CONTAINS_ANY",
  }))(),
  rk = (() => ({ and: "AND", or: "OR" }))();
class sk {
  constructor(e, n) {
    (this.databaseId = e), (this.useProto3Json = n);
  }
}
function am(t, e) {
  return t.useProto3Json || ih(e) ? e : { value: e };
}
function Rc(t, e) {
  return t.useProto3Json
    ? `${new Date(1e3 * e.seconds)
        .toISOString()
        .replace(/\.\d*/, "")
        .replace("Z", "")}.${("000000000" + e.nanoseconds).slice(-9)}Z`
    : { seconds: "" + e.seconds, nanos: e.nanoseconds };
}
function mS(t, e) {
  return t.useProto3Json ? e.toBase64() : e.toUint8Array();
}
function ak(t, e) {
  return Rc(t, e.toTimestamp());
}
function bn(t) {
  return (
    ce(!!t),
    $.fromTimestamp(
      (function (n) {
        const i = Wi(n);
        return new He(i.seconds, i.nanos);
      })(t)
    )
  );
}
function zp(t, e) {
  return om(t, e).canonicalString();
}
function om(t, e) {
  const n = (function (r) {
    return new ve(["projects", r.projectId, "databases", r.database]);
  })(t).child("documents");
  return e === void 0 ? n : n.child(e);
}
function pS(t) {
  const e = ve.fromString(t);
  return ce(ES(e)), e;
}
function lm(t, e) {
  return zp(t.databaseId, e.path);
}
function Hf(t, e) {
  const n = pS(e);
  if (n.get(1) !== t.databaseId.projectId)
    throw new F(
      L.INVALID_ARGUMENT,
      "Tried to deserialize key from different project: " +
        n.get(1) +
        " vs " +
        t.databaseId.projectId
    );
  if (n.get(3) !== t.databaseId.database)
    throw new F(
      L.INVALID_ARGUMENT,
      "Tried to deserialize key from different database: " +
        n.get(3) +
        " vs " +
        t.databaseId.database
    );
  return new G(_S(n));
}
function gS(t, e) {
  return zp(t.databaseId, e);
}
function ok(t) {
  const e = pS(t);
  return e.length === 4 ? ve.emptyPath() : _S(e);
}
function um(t) {
  return new ve([
    "projects",
    t.databaseId.projectId,
    "databases",
    t.databaseId.database,
  ]).canonicalString();
}
function _S(t) {
  return ce(t.length > 4 && t.get(4) === "documents"), t.popFirst(5);
}
function Gv(t, e, n) {
  return { name: lm(t, e), fields: n.value.mapValue.fields };
}
function lk(t, e) {
  let n;
  if ("targetChange" in e) {
    e.targetChange;
    const i = (function (c) {
        return c === "NO_CHANGE"
          ? 0
          : c === "ADD"
          ? 1
          : c === "REMOVE"
          ? 2
          : c === "CURRENT"
          ? 3
          : c === "RESET"
          ? 4
          : Q();
      })(e.targetChange.targetChangeType || "NO_CHANGE"),
      r = e.targetChange.targetIds || [],
      s = (function (c, f) {
        return c.useProto3Json
          ? (ce(f === void 0 || typeof f == "string"),
            at.fromBase64String(f || ""))
          : (ce(f === void 0 || f instanceof Buffer || f instanceof Uint8Array),
            at.fromUint8Array(f || new Uint8Array()));
      })(t, e.targetChange.resumeToken),
      a = e.targetChange.cause,
      l =
        a &&
        (function (c) {
          const f = c.code === void 0 ? L.UNKNOWN : hS(c.code);
          return new F(f, c.message || "");
        })(a);
    n = new dS(i, r, s, l || null);
  } else if ("documentChange" in e) {
    e.documentChange;
    const i = e.documentChange;
    i.document, i.document.name, i.document.updateTime;
    const r = Hf(t, i.document.name),
      s = bn(i.document.updateTime),
      a = i.document.createTime ? bn(i.document.createTime) : $.min(),
      l = new It({ mapValue: { fields: i.document.fields } }),
      u = ft.newFoundDocument(r, s, a, l),
      c = i.targetIds || [],
      f = i.removedTargetIds || [];
    n = new Vu(c, f, u.key, u);
  } else if ("documentDelete" in e) {
    e.documentDelete;
    const i = e.documentDelete;
    i.document;
    const r = Hf(t, i.document),
      s = i.readTime ? bn(i.readTime) : $.min(),
      a = ft.newNoDocument(r, s),
      l = i.removedTargetIds || [];
    n = new Vu([], l, a.key, a);
  } else if ("documentRemove" in e) {
    e.documentRemove;
    const i = e.documentRemove;
    i.document;
    const r = Hf(t, i.document),
      s = i.removedTargetIds || [];
    n = new Vu([], s, r, null);
  } else {
    if (!("filter" in e)) return Q();
    {
      e.filter;
      const i = e.filter;
      i.targetId;
      const { count: r = 0, unchangedNames: s } = i,
        a = new WM(r, s),
        l = i.targetId;
      n = new fS(l, a);
    }
  }
  return n;
}
function uk(t, e) {
  let n;
  if (e instanceof vl) n = { update: Gv(t, e.key, e.value) };
  else if (e instanceof cS) n = { delete: lm(t, e.key) };
  else if (e instanceof ar)
    n = { update: Gv(t, e.key, e.data), updateMask: yk(e.fieldMask) };
  else {
    if (!(e instanceof $M)) return Q();
    n = { verify: lm(t, e.key) };
  }
  return (
    e.fieldTransforms.length > 0 &&
      (n.updateTransforms = e.fieldTransforms.map((i) =>
        (function (s, a) {
          const l = a.transform;
          if (l instanceof Yo)
            return {
              fieldPath: a.field.canonicalString(),
              setToServerValue: "REQUEST_TIME",
            };
          if (l instanceof Zs)
            return {
              fieldPath: a.field.canonicalString(),
              appendMissingElements: { values: l.elements },
            };
          if (l instanceof Xo)
            return {
              fieldPath: a.field.canonicalString(),
              removeAllFromArray: { values: l.elements },
            };
          if (l instanceof Sc)
            return { fieldPath: a.field.canonicalString(), increment: l.Pe };
          throw Q();
        })(0, i)
      )),
    e.precondition.isNone ||
      (n.currentDocument = (function (r, s) {
        return s.updateTime !== void 0
          ? { updateTime: ak(r, s.updateTime) }
          : s.exists !== void 0
          ? { exists: s.exists }
          : Q();
      })(t, e.precondition)),
    n
  );
}
function ck(t, e) {
  return t && t.length > 0
    ? (ce(e !== void 0),
      t.map((n) =>
        (function (r, s) {
          let a = r.updateTime ? bn(r.updateTime) : bn(s);
          return (
            a.isEqual($.min()) && (a = bn(s)),
            new GM(a, r.transformResults || [])
          );
        })(n, e)
      ))
    : [];
}
function hk(t, e) {
  return { documents: [gS(t, e.path)] };
}
function fk(t, e) {
  const n = { structuredQuery: {} },
    i = e.path;
  let r;
  e.collectionGroup !== null
    ? ((r = i),
      (n.structuredQuery.from = [
        { collectionId: e.collectionGroup, allDescendants: !0 },
      ]))
    : ((r = i.popLast()),
      (n.structuredQuery.from = [{ collectionId: i.lastSegment() }])),
    (n.parent = gS(t, r));
  const s = (function (c) {
    if (c.length !== 0) return vS(un.create(c, "and"));
  })(e.filters);
  s && (n.structuredQuery.where = s);
  const a = (function (c) {
    if (c.length !== 0)
      return c.map((f) =>
        (function (m) {
          return { field: fs(m.field), direction: pk(m.dir) };
        })(f)
      );
  })(e.orderBy);
  a && (n.structuredQuery.orderBy = a);
  const l = am(t, e.limit);
  return (
    l !== null && (n.structuredQuery.limit = l),
    e.startAt &&
      (n.structuredQuery.startAt = (function (c) {
        return { before: c.inclusive, values: c.position };
      })(e.startAt)),
    e.endAt &&
      (n.structuredQuery.endAt = (function (c) {
        return { before: !c.inclusive, values: c.position };
      })(e.endAt)),
    { ct: n, parent: r }
  );
}
function dk(t) {
  let e = ok(t.parent);
  const n = t.structuredQuery,
    i = n.from ? n.from.length : 0;
  let r = null;
  if (i > 0) {
    ce(i === 1);
    const f = n.from[0];
    f.allDescendants ? (r = f.collectionId) : (e = e.child(f.collectionId));
  }
  let s = [];
  n.where &&
    (s = (function (p) {
      const m = yS(p);
      return m instanceof un && Kw(m) ? m.getFilters() : [m];
    })(n.where));
  let a = [];
  n.orderBy &&
    (a = (function (p) {
      return p.map((m) =>
        (function (b) {
          return new wc(
            ds(b.field),
            (function (D) {
              switch (D) {
                case "ASCENDING":
                  return "asc";
                case "DESCENDING":
                  return "desc";
                default:
                  return;
              }
            })(b.direction)
          );
        })(m)
      );
    })(n.orderBy));
  let l = null;
  n.limit &&
    (l = (function (p) {
      let m;
      return (m = typeof p == "object" ? p.value : p), ih(m) ? null : m;
    })(n.limit));
  let u = null;
  n.startAt &&
    (u = (function (p) {
      const m = !!p.before,
        _ = p.values || [];
      return new Ac(_, m);
    })(n.startAt));
  let c = null;
  return (
    n.endAt &&
      (c = (function (p) {
        const m = !p.before,
          _ = p.values || [];
        return new Ac(_, m);
      })(n.endAt)),
    MM(e, r, a, s, l, "F", u, c)
  );
}
function mk(t, e) {
  const n = (function (r) {
    switch (r) {
      case "TargetPurposeListen":
        return null;
      case "TargetPurposeExistenceFilterMismatch":
        return "existence-filter-mismatch";
      case "TargetPurposeExistenceFilterMismatchBloom":
        return "existence-filter-mismatch-bloom";
      case "TargetPurposeLimboResolution":
        return "limbo-document";
      default:
        return Q();
    }
  })(e.purpose);
  return n == null ? null : { "goog-listen-tags": n };
}
function yS(t) {
  return t.unaryFilter !== void 0
    ? (function (n) {
        switch (n.unaryFilter.op) {
          case "IS_NAN":
            const i = ds(n.unaryFilter.field);
            return je.create(i, "==", { doubleValue: NaN });
          case "IS_NULL":
            const r = ds(n.unaryFilter.field);
            return je.create(r, "==", { nullValue: "NULL_VALUE" });
          case "IS_NOT_NAN":
            const s = ds(n.unaryFilter.field);
            return je.create(s, "!=", { doubleValue: NaN });
          case "IS_NOT_NULL":
            const a = ds(n.unaryFilter.field);
            return je.create(a, "!=", { nullValue: "NULL_VALUE" });
          default:
            return Q();
        }
      })(t)
    : t.fieldFilter !== void 0
    ? (function (n) {
        return je.create(
          ds(n.fieldFilter.field),
          (function (r) {
            switch (r) {
              case "EQUAL":
                return "==";
              case "NOT_EQUAL":
                return "!=";
              case "GREATER_THAN":
                return ">";
              case "GREATER_THAN_OR_EQUAL":
                return ">=";
              case "LESS_THAN":
                return "<";
              case "LESS_THAN_OR_EQUAL":
                return "<=";
              case "ARRAY_CONTAINS":
                return "array-contains";
              case "IN":
                return "in";
              case "NOT_IN":
                return "not-in";
              case "ARRAY_CONTAINS_ANY":
                return "array-contains-any";
              default:
                return Q();
            }
          })(n.fieldFilter.op),
          n.fieldFilter.value
        );
      })(t)
    : t.compositeFilter !== void 0
    ? (function (n) {
        return un.create(
          n.compositeFilter.filters.map((i) => yS(i)),
          (function (r) {
            switch (r) {
              case "AND":
                return "and";
              case "OR":
                return "or";
              default:
                return Q();
            }
          })(n.compositeFilter.op)
        );
      })(t)
    : Q();
}
function pk(t) {
  return nk[t];
}
function gk(t) {
  return ik[t];
}
function _k(t) {
  return rk[t];
}
function fs(t) {
  return { fieldPath: t.canonicalString() };
}
function ds(t) {
  return rt.fromServerFormat(t.fieldPath);
}
function vS(t) {
  return t instanceof je
    ? (function (n) {
        if (n.op === "==") {
          if (Mv(n.value))
            return { unaryFilter: { field: fs(n.field), op: "IS_NAN" } };
          if (Nv(n.value))
            return { unaryFilter: { field: fs(n.field), op: "IS_NULL" } };
        } else if (n.op === "!=") {
          if (Mv(n.value))
            return { unaryFilter: { field: fs(n.field), op: "IS_NOT_NAN" } };
          if (Nv(n.value))
            return { unaryFilter: { field: fs(n.field), op: "IS_NOT_NULL" } };
        }
        return {
          fieldFilter: { field: fs(n.field), op: gk(n.op), value: n.value },
        };
      })(t)
    : t instanceof un
    ? (function (n) {
        const i = n.getFilters().map((r) => vS(r));
        return i.length === 1
          ? i[0]
          : { compositeFilter: { op: _k(n.op), filters: i } };
      })(t)
    : Q();
}
function yk(t) {
  const e = [];
  return (
    t.fields.forEach((n) => e.push(n.canonicalString())), { fieldPaths: e }
  );
}
function ES(t) {
  return t.length >= 4 && t.get(0) === "projects" && t.get(2) === "databases";
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class ki {
  constructor(
    e,
    n,
    i,
    r,
    s = $.min(),
    a = $.min(),
    l = at.EMPTY_BYTE_STRING,
    u = null
  ) {
    (this.target = e),
      (this.targetId = n),
      (this.purpose = i),
      (this.sequenceNumber = r),
      (this.snapshotVersion = s),
      (this.lastLimboFreeSnapshotVersion = a),
      (this.resumeToken = l),
      (this.expectedCount = u);
  }
  withSequenceNumber(e) {
    return new ki(
      this.target,
      this.targetId,
      this.purpose,
      e,
      this.snapshotVersion,
      this.lastLimboFreeSnapshotVersion,
      this.resumeToken,
      this.expectedCount
    );
  }
  withResumeToken(e, n) {
    return new ki(
      this.target,
      this.targetId,
      this.purpose,
      this.sequenceNumber,
      n,
      this.lastLimboFreeSnapshotVersion,
      e,
      null
    );
  }
  withExpectedCount(e) {
    return new ki(
      this.target,
      this.targetId,
      this.purpose,
      this.sequenceNumber,
      this.snapshotVersion,
      this.lastLimboFreeSnapshotVersion,
      this.resumeToken,
      e
    );
  }
  withLastLimboFreeSnapshotVersion(e) {
    return new ki(
      this.target,
      this.targetId,
      this.purpose,
      this.sequenceNumber,
      this.snapshotVersion,
      e,
      this.resumeToken,
      this.expectedCount
    );
  }
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class vk {
  constructor(e) {
    this.ht = e;
  }
}
function Ek(t) {
  const e = dk({ parent: t.parent, structuredQuery: t.structuredQuery });
  return t.limitType === "LAST" ? sm(e, e.limit, "L") : e;
}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class Tk {
  constructor() {
    this.ln = new Ak();
  }
  addToCollectionParentIndex(e, n) {
    return this.ln.add(n), P.resolve();
  }
  getCollectionParents(e, n) {
    return P.resolve(this.ln.getEntries(n));
  }
  addFieldIndex(e, n) {
    return P.resolve();
  }
  deleteFieldIndex(e, n) {
    return P.resolve();
  }
  deleteAllFieldIndexes(e) {
    return P.resolve();
  }
  createTargetIndexes(e, n) {
    return P.resolve();
  }
  getDocumentsMatchingTarget(e, n) {
    return P.resolve(null);
  }
  getIndexType(e, n) {
    return P.resolve(0);
  }
  getFieldIndexes(e, n) {
    return P.resolve([]);
  }
  getNextCollectionGroupToUpdate(e) {
    return P.resolve(null);
  }
  getMinOffset(e, n) {
    return P.resolve(Xi.min());
  }
  getMinOffsetFromCollectionGroup(e, n) {
    return P.resolve(Xi.min());
  }
  updateCollectionGroup(e, n, i) {
    return P.resolve();
  }
  updateIndexEntries(e, n) {
    return P.resolve();
  }
}
class Ak {
  constructor() {
    this.index = {};
  }
  add(e) {
    const n = e.lastSegment(),
      i = e.popLast(),
      r = this.index[n] || new Ke(ve.comparator),
      s = !r.has(i);
    return (this.index[n] = r.add(i)), s;
  }
  has(e) {
    const n = e.lastSegment(),
      i = e.popLast(),
      r = this.index[n];
    return r && r.has(i);
  }
  getEntries(e) {
    return (this.index[e] || new Ke(ve.comparator)).toArray();
  }
}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ const Kv = {
  didRun: !1,
  sequenceNumbersCollected: 0,
  targetsRemoved: 0,
  documentsRemoved: 0,
};
class bt {
  static withCacheSize(e) {
    return new bt(
      e,
      bt.DEFAULT_COLLECTION_PERCENTILE,
      bt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT
    );
  }
  constructor(e, n, i) {
    (this.cacheSizeCollectionThreshold = e),
      (this.percentileToCollect = n),
      (this.maximumSequenceNumbersToCollect = i);
  }
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ (bt.DEFAULT_COLLECTION_PERCENTILE = 10),
  (bt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT = 1e3),
  (bt.DEFAULT = new bt(
    41943040,
    bt.DEFAULT_COLLECTION_PERCENTILE,
    bt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT
  )),
  (bt.DISABLED = new bt(-1, 0, 0));
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class Js {
  constructor(e) {
    this.kn = e;
  }
  next() {
    return (this.kn += 2), this.kn;
  }
  static qn() {
    return new Js(0);
  }
  static Qn() {
    return new Js(-1);
  }
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ function Qv([t, e], [n, i]) {
  const r = se(t, n);
  return r === 0 ? se(e, i) : r;
}
class wk {
  constructor(e) {
    (this.Gn = e), (this.buffer = new Ke(Qv)), (this.zn = 0);
  }
  jn() {
    return ++this.zn;
  }
  Hn(e) {
    const n = [e, this.jn()];
    if (this.buffer.size < this.Gn) this.buffer = this.buffer.add(n);
    else {
      const i = this.buffer.last();
      Qv(n, i) < 0 && (this.buffer = this.buffer.delete(i).add(n));
    }
  }
  get maxValue() {
    return this.buffer.last()[0];
  }
}
class Sk {
  constructor(e, n, i) {
    (this.garbageCollector = e),
      (this.asyncQueue = n),
      (this.localStore = i),
      (this.Jn = null);
  }
  start() {
    this.garbageCollector.params.cacheSizeCollectionThreshold !== -1 &&
      this.Yn(6e4);
  }
  stop() {
    this.Jn && (this.Jn.cancel(), (this.Jn = null));
  }
  get started() {
    return this.Jn !== null;
  }
  Yn(e) {
    H("LruGarbageCollector", `Garbage collection scheduled in ${e}ms`),
      (this.Jn = this.asyncQueue.enqueueAfterDelay(
        "lru_garbage_collection",
        e,
        async () => {
          this.Jn = null;
          try {
            await this.localStore.collectGarbage(this.garbageCollector);
          } catch (n) {
            da(n)
              ? H(
                  "LruGarbageCollector",
                  "Ignoring IndexedDB error during garbage collection: ",
                  n
                )
              : await fa(n);
          }
          await this.Yn(3e5);
        }
      ));
  }
}
class Rk {
  constructor(e, n) {
    (this.Zn = e), (this.params = n);
  }
  calculateTargetCount(e, n) {
    return this.Zn.Xn(e).next((i) => Math.floor((n / 100) * i));
  }
  nthSequenceNumber(e, n) {
    if (n === 0) return P.resolve(nh.oe);
    const i = new wk(n);
    return this.Zn.forEachTarget(e, (r) => i.Hn(r.sequenceNumber))
      .next(() => this.Zn.er(e, (r) => i.Hn(r)))
      .next(() => i.maxValue);
  }
  removeTargets(e, n, i) {
    return this.Zn.removeTargets(e, n, i);
  }
  removeOrphanedDocuments(e, n) {
    return this.Zn.removeOrphanedDocuments(e, n);
  }
  collect(e, n) {
    return this.params.cacheSizeCollectionThreshold === -1
      ? (H("LruGarbageCollector", "Garbage collection skipped; disabled"),
        P.resolve(Kv))
      : this.getCacheSize(e).next((i) =>
          i < this.params.cacheSizeCollectionThreshold
            ? (H(
                "LruGarbageCollector",
                `Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`
              ),
              Kv)
            : this.tr(e, n)
        );
  }
  getCacheSize(e) {
    return this.Zn.getCacheSize(e);
  }
  tr(e, n) {
    let i, r, s, a, l, u, c;
    const f = Date.now();
    return this.calculateTargetCount(e, this.params.percentileToCollect)
      .next(
        (p) => (
          p > this.params.maximumSequenceNumbersToCollect
            ? (H(
                "LruGarbageCollector",
                `Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`
              ),
              (r = this.params.maximumSequenceNumbersToCollect))
            : (r = p),
          (a = Date.now()),
          this.nthSequenceNumber(e, r)
        )
      )
      .next((p) => ((i = p), (l = Date.now()), this.removeTargets(e, i, n)))
      .next(
        (p) => ((s = p), (u = Date.now()), this.removeOrphanedDocuments(e, i))
      )
      .next(
        (p) => (
          (c = Date.now()),
          cs() <= ne.DEBUG &&
            H(
              "LruGarbageCollector",
              `LRU Garbage Collection
	Counted targets in ${a - f}ms
	Determined least recently used ${r} in ` +
                (l - a) +
                `ms
	Removed ${s} targets in ` +
                (u - l) +
                `ms
	Removed ${p} documents in ` +
                (c - u) +
                `ms
Total Duration: ${c - f}ms`
            ),
          P.resolve({
            didRun: !0,
            sequenceNumbersCollected: r,
            targetsRemoved: s,
            documentsRemoved: p,
          })
        )
      );
  }
}
function bk(t, e) {
  return new Rk(t, e);
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class Ik {
  constructor() {
    (this.changes = new $r(
      (e) => e.toString(),
      (e, n) => e.isEqual(n)
    )),
      (this.changesApplied = !1);
  }
  addEntry(e) {
    this.assertNotApplied(), this.changes.set(e.key, e);
  }
  removeEntry(e, n) {
    this.assertNotApplied(),
      this.changes.set(e, ft.newInvalidDocument(e).setReadTime(n));
  }
  getEntry(e, n) {
    this.assertNotApplied();
    const i = this.changes.get(n);
    return i !== void 0 ? P.resolve(i) : this.getFromCache(e, n);
  }
  getEntries(e, n) {
    return this.getAllFromCache(e, n);
  }
  apply(e) {
    return (
      this.assertNotApplied(), (this.changesApplied = !0), this.applyChanges(e)
    );
  }
  assertNotApplied() {}
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ /**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class Ck {
  constructor(e, n) {
    (this.overlayedDocument = e), (this.mutatedFields = n);
  }
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class Dk {
  constructor(e, n, i, r) {
    (this.remoteDocumentCache = e),
      (this.mutationQueue = n),
      (this.documentOverlayCache = i),
      (this.indexManager = r);
  }
  getDocument(e, n) {
    let i = null;
    return this.documentOverlayCache
      .getOverlay(e, n)
      .next((r) => ((i = r), this.remoteDocumentCache.getEntry(e, n)))
      .next((r) => (i !== null && Ro(i.mutation, r, Ut.empty(), He.now()), r));
  }
  getDocuments(e, n) {
    return this.remoteDocumentCache
      .getEntries(e, n)
      .next((i) => this.getLocalViewOfDocuments(e, i, ie()).next(() => i));
  }
  getLocalViewOfDocuments(e, n, i = ie()) {
    const r = Er();
    return this.populateOverlays(e, r, n).next(() =>
      this.computeViews(e, n, r, i).next((s) => {
        let a = Ja();
        return (
          s.forEach((l, u) => {
            a = a.insert(l, u.overlayedDocument);
          }),
          a
        );
      })
    );
  }
  getOverlayedDocuments(e, n) {
    const i = Er();
    return this.populateOverlays(e, i, n).next(() =>
      this.computeViews(e, n, i, ie())
    );
  }
  populateOverlays(e, n, i) {
    const r = [];
    return (
      i.forEach((s) => {
        n.has(s) || r.push(s);
      }),
      this.documentOverlayCache.getOverlays(e, r).next((s) => {
        s.forEach((a, l) => {
          n.set(a, l);
        });
      })
    );
  }
  computeViews(e, n, i, r) {
    let s = ci();
    const a = So(),
      l = (function () {
        return So();
      })();
    return (
      n.forEach((u, c) => {
        const f = i.get(c.key);
        r.has(c.key) && (f === void 0 || f.mutation instanceof ar)
          ? (s = s.insert(c.key, c))
          : f !== void 0
          ? (a.set(c.key, f.mutation.getFieldMask()),
            Ro(f.mutation, c, f.mutation.getFieldMask(), He.now()))
          : a.set(c.key, Ut.empty());
      }),
      this.recalculateAndSaveOverlays(e, s).next(
        (u) => (
          u.forEach((c, f) => a.set(c, f)),
          n.forEach((c, f) => {
            var p;
            return l.set(
              c,
              new Ck(f, (p = a.get(c)) !== null && p !== void 0 ? p : null)
            );
          }),
          l
        )
      )
    );
  }
  recalculateAndSaveOverlays(e, n) {
    const i = So();
    let r = new De((a, l) => a - l),
      s = ie();
    return this.mutationQueue
      .getAllMutationBatchesAffectingDocumentKeys(e, n)
      .next((a) => {
        for (const l of a)
          l.keys().forEach((u) => {
            const c = n.get(u);
            if (c === null) return;
            let f = i.get(u) || Ut.empty();
            (f = l.applyToLocalView(c, f)), i.set(u, f);
            const p = (r.get(l.batchId) || ie()).add(u);
            r = r.insert(l.batchId, p);
          });
      })
      .next(() => {
        const a = [],
          l = r.getReverseIterator();
        for (; l.hasNext(); ) {
          const u = l.getNext(),
            c = u.key,
            f = u.value,
            p = tS();
          f.forEach((m) => {
            if (!s.has(m)) {
              const _ = lS(n.get(m), i.get(m));
              _ !== null && p.set(m, _), (s = s.add(m));
            }
          }),
            a.push(this.documentOverlayCache.saveOverlays(e, c, p));
        }
        return P.waitFor(a);
      })
      .next(() => i);
  }
  recalculateAndSaveOverlaysForDocumentKeys(e, n) {
    return this.remoteDocumentCache
      .getEntries(e, n)
      .next((i) => this.recalculateAndSaveOverlays(e, i));
  }
  getDocumentsMatchingQuery(e, n, i, r) {
    return (function (a) {
      return (
        G.isDocumentKey(a.path) &&
        a.collectionGroup === null &&
        a.filters.length === 0
      );
    })(n)
      ? this.getDocumentsMatchingDocumentQuery(e, n.path)
      : Xw(n)
      ? this.getDocumentsMatchingCollectionGroupQuery(e, n, i, r)
      : this.getDocumentsMatchingCollectionQuery(e, n, i, r);
  }
  getNextDocuments(e, n, i, r) {
    return this.remoteDocumentCache
      .getAllFromCollectionGroup(e, n, i, r)
      .next((s) => {
        const a =
          r - s.size > 0
            ? this.documentOverlayCache.getOverlaysForCollectionGroup(
                e,
                n,
                i.largestBatchId,
                r - s.size
              )
            : P.resolve(Er());
        let l = -1,
          u = s;
        return a.next((c) =>
          P.forEach(
            c,
            (f, p) => (
              l < p.largestBatchId && (l = p.largestBatchId),
              s.get(f)
                ? P.resolve()
                : this.remoteDocumentCache.getEntry(e, f).next((m) => {
                    u = u.insert(f, m);
                  })
            )
          )
            .next(() => this.populateOverlays(e, c, s))
            .next(() => this.computeViews(e, u, c, ie()))
            .next((f) => ({ batchId: l, changes: eS(f) }))
        );
      });
  }
  getDocumentsMatchingDocumentQuery(e, n) {
    return this.getDocument(e, new G(n)).next((i) => {
      let r = Ja();
      return i.isFoundDocument() && (r = r.insert(i.key, i)), r;
    });
  }
  getDocumentsMatchingCollectionGroupQuery(e, n, i, r) {
    const s = n.collectionGroup;
    let a = Ja();
    return this.indexManager.getCollectionParents(e, s).next((l) =>
      P.forEach(l, (u) => {
        const c = (function (p, m) {
          return new yl(
            m,
            null,
            p.explicitOrderBy.slice(),
            p.filters.slice(),
            p.limit,
            p.limitType,
            p.startAt,
            p.endAt
          );
        })(n, u.child(s));
        return this.getDocumentsMatchingCollectionQuery(e, c, i, r).next(
          (f) => {
            f.forEach((p, m) => {
              a = a.insert(p, m);
            });
          }
        );
      }).next(() => a)
    );
  }
  getDocumentsMatchingCollectionQuery(e, n, i, r) {
    let s;
    return this.documentOverlayCache
      .getOverlaysForCollection(e, n.path, i.largestBatchId)
      .next(
        (a) => (
          (s = a),
          this.remoteDocumentCache.getDocumentsMatchingQuery(e, n, i, s, r)
        )
      )
      .next((a) => {
        s.forEach((u, c) => {
          const f = c.getKey();
          a.get(f) === null && (a = a.insert(f, ft.newInvalidDocument(f)));
        });
        let l = Ja();
        return (
          a.forEach((u, c) => {
            const f = s.get(u);
            f !== void 0 && Ro(f.mutation, c, Ut.empty(), He.now()),
              oh(n, c) && (l = l.insert(u, c));
          }),
          l
        );
      });
  }
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class Ok {
  constructor(e) {
    (this.serializer = e), (this.Tr = new Map()), (this.Ir = new Map());
  }
  getBundleMetadata(e, n) {
    return P.resolve(this.Tr.get(n));
  }
  saveBundleMetadata(e, n) {
    return (
      this.Tr.set(
        n.id,
        (function (r) {
          return { id: r.id, version: r.version, createTime: bn(r.createTime) };
        })(n)
      ),
      P.resolve()
    );
  }
  getNamedQuery(e, n) {
    return P.resolve(this.Ir.get(n));
  }
  saveNamedQuery(e, n) {
    return (
      this.Ir.set(
        n.name,
        (function (r) {
          return {
            name: r.name,
            query: Ek(r.bundledQuery),
            readTime: bn(r.readTime),
          };
        })(n)
      ),
      P.resolve()
    );
  }
}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class Nk {
  constructor() {
    (this.overlays = new De(G.comparator)), (this.Er = new Map());
  }
  getOverlay(e, n) {
    return P.resolve(this.overlays.get(n));
  }
  getOverlays(e, n) {
    const i = Er();
    return P.forEach(n, (r) =>
      this.getOverlay(e, r).next((s) => {
        s !== null && i.set(r, s);
      })
    ).next(() => i);
  }
  saveOverlays(e, n, i) {
    return (
      i.forEach((r, s) => {
        this.Tt(e, n, s);
      }),
      P.resolve()
    );
  }
  removeOverlaysForBatchId(e, n, i) {
    const r = this.Er.get(i);
    return (
      r !== void 0 &&
        (r.forEach((s) => (this.overlays = this.overlays.remove(s))),
        this.Er.delete(i)),
      P.resolve()
    );
  }
  getOverlaysForCollection(e, n, i) {
    const r = Er(),
      s = n.length + 1,
      a = new G(n.child("")),
      l = this.overlays.getIteratorFrom(a);
    for (; l.hasNext(); ) {
      const u = l.getNext().value,
        c = u.getKey();
      if (!n.isPrefixOf(c.path)) break;
      c.path.length === s && u.largestBatchId > i && r.set(u.getKey(), u);
    }
    return P.resolve(r);
  }
  getOverlaysForCollectionGroup(e, n, i, r) {
    let s = new De((c, f) => c - f);
    const a = this.overlays.getIterator();
    for (; a.hasNext(); ) {
      const c = a.getNext().value;
      if (c.getKey().getCollectionGroup() === n && c.largestBatchId > i) {
        let f = s.get(c.largestBatchId);
        f === null && ((f = Er()), (s = s.insert(c.largestBatchId, f))),
          f.set(c.getKey(), c);
      }
    }
    const l = Er(),
      u = s.getIterator();
    for (
      ;
      u.hasNext() &&
      (u.getNext().value.forEach((c, f) => l.set(c, f)), !(l.size() >= r));

    );
    return P.resolve(l);
  }
  Tt(e, n, i) {
    const r = this.overlays.get(i.key);
    if (r !== null) {
      const a = this.Er.get(r.largestBatchId).delete(i.key);
      this.Er.set(r.largestBatchId, a);
    }
    this.overlays = this.overlays.insert(i.key, new XM(n, i));
    let s = this.Er.get(n);
    s === void 0 && ((s = ie()), this.Er.set(n, s)),
      this.Er.set(n, s.add(i.key));
  }
}
/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class Mk {
  constructor() {
    this.sessionToken = at.EMPTY_BYTE_STRING;
  }
  getSessionToken(e) {
    return P.resolve(this.sessionToken);
  }
  setSessionToken(e, n) {
    return (this.sessionToken = n), P.resolve();
  }
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class jp {
  constructor() {
    (this.dr = new Ke($e.Ar)), (this.Rr = new Ke($e.Vr));
  }
  isEmpty() {
    return this.dr.isEmpty();
  }
  addReference(e, n) {
    const i = new $e(e, n);
    (this.dr = this.dr.add(i)), (this.Rr = this.Rr.add(i));
  }
  mr(e, n) {
    e.forEach((i) => this.addReference(i, n));
  }
  removeReference(e, n) {
    this.gr(new $e(e, n));
  }
  pr(e, n) {
    e.forEach((i) => this.removeReference(i, n));
  }
  yr(e) {
    const n = new G(new ve([])),
      i = new $e(n, e),
      r = new $e(n, e + 1),
      s = [];
    return (
      this.Rr.forEachInRange([i, r], (a) => {
        this.gr(a), s.push(a.key);
      }),
      s
    );
  }
  wr() {
    this.dr.forEach((e) => this.gr(e));
  }
  gr(e) {
    (this.dr = this.dr.delete(e)), (this.Rr = this.Rr.delete(e));
  }
  Sr(e) {
    const n = new G(new ve([])),
      i = new $e(n, e),
      r = new $e(n, e + 1);
    let s = ie();
    return (
      this.Rr.forEachInRange([i, r], (a) => {
        s = s.add(a.key);
      }),
      s
    );
  }
  containsKey(e) {
    const n = new $e(e, 0),
      i = this.dr.firstAfterOrEqual(n);
    return i !== null && e.isEqual(i.key);
  }
}
class $e {
  constructor(e, n) {
    (this.key = e), (this.br = n);
  }
  static Ar(e, n) {
    return G.comparator(e.key, n.key) || se(e.br, n.br);
  }
  static Vr(e, n) {
    return se(e.br, n.br) || G.comparator(e.key, n.key);
  }
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class kk {
  constructor(e, n) {
    (this.indexManager = e),
      (this.referenceDelegate = n),
      (this.mutationQueue = []),
      (this.Dr = 1),
      (this.vr = new Ke($e.Ar));
  }
  checkEmpty(e) {
    return P.resolve(this.mutationQueue.length === 0);
  }
  addMutationBatch(e, n, i, r) {
    const s = this.Dr;
    this.Dr++,
      this.mutationQueue.length > 0 &&
        this.mutationQueue[this.mutationQueue.length - 1];
    const a = new YM(s, n, i, r);
    this.mutationQueue.push(a);
    for (const l of r)
      (this.vr = this.vr.add(new $e(l.key, s))),
        this.indexManager.addToCollectionParentIndex(e, l.key.path.popLast());
    return P.resolve(a);
  }
  lookupMutationBatch(e, n) {
    return P.resolve(this.Cr(n));
  }
  getNextMutationBatchAfterBatchId(e, n) {
    const i = n + 1,
      r = this.Fr(i),
      s = r < 0 ? 0 : r;
    return P.resolve(
      this.mutationQueue.length > s ? this.mutationQueue[s] : null
    );
  }
  getHighestUnacknowledgedBatchId() {
    return P.resolve(this.mutationQueue.length === 0 ? -1 : this.Dr - 1);
  }
  getAllMutationBatches(e) {
    return P.resolve(this.mutationQueue.slice());
  }
  getAllMutationBatchesAffectingDocumentKey(e, n) {
    const i = new $e(n, 0),
      r = new $e(n, Number.POSITIVE_INFINITY),
      s = [];
    return (
      this.vr.forEachInRange([i, r], (a) => {
        const l = this.Cr(a.br);
        s.push(l);
      }),
      P.resolve(s)
    );
  }
  getAllMutationBatchesAffectingDocumentKeys(e, n) {
    let i = new Ke(se);
    return (
      n.forEach((r) => {
        const s = new $e(r, 0),
          a = new $e(r, Number.POSITIVE_INFINITY);
        this.vr.forEachInRange([s, a], (l) => {
          i = i.add(l.br);
        });
      }),
      P.resolve(this.Mr(i))
    );
  }
  getAllMutationBatchesAffectingQuery(e, n) {
    const i = n.path,
      r = i.length + 1;
    let s = i;
    G.isDocumentKey(s) || (s = s.child(""));
    const a = new $e(new G(s), 0);
    let l = new Ke(se);
    return (
      this.vr.forEachWhile((u) => {
        const c = u.key.path;
        return !!i.isPrefixOf(c) && (c.length === r && (l = l.add(u.br)), !0);
      }, a),
      P.resolve(this.Mr(l))
    );
  }
  Mr(e) {
    const n = [];
    return (
      e.forEach((i) => {
        const r = this.Cr(i);
        r !== null && n.push(r);
      }),
      n
    );
  }
  removeMutationBatch(e, n) {
    ce(this.Or(n.batchId, "removed") === 0), this.mutationQueue.shift();
    let i = this.vr;
    return P.forEach(n.mutations, (r) => {
      const s = new $e(r.key, n.batchId);
      return (
        (i = i.delete(s)),
        this.referenceDelegate.markPotentiallyOrphaned(e, r.key)
      );
    }).next(() => {
      this.vr = i;
    });
  }
  Ln(e) {}
  containsKey(e, n) {
    const i = new $e(n, 0),
      r = this.vr.firstAfterOrEqual(i);
    return P.resolve(n.isEqual(r && r.key));
  }
  performConsistencyCheck(e) {
    return this.mutationQueue.length, P.resolve();
  }
  Or(e, n) {
    return this.Fr(e);
  }
  Fr(e) {
    return this.mutationQueue.length === 0
      ? 0
      : e - this.mutationQueue[0].batchId;
  }
  Cr(e) {
    const n = this.Fr(e);
    return n < 0 || n >= this.mutationQueue.length
      ? null
      : this.mutationQueue[n];
  }
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class xk {
  constructor(e) {
    (this.Nr = e),
      (this.docs = (function () {
        return new De(G.comparator);
      })()),
      (this.size = 0);
  }
  setIndexManager(e) {
    this.indexManager = e;
  }
  addEntry(e, n) {
    const i = n.key,
      r = this.docs.get(i),
      s = r ? r.size : 0,
      a = this.Nr(n);
    return (
      (this.docs = this.docs.insert(i, { document: n.mutableCopy(), size: a })),
      (this.size += a - s),
      this.indexManager.addToCollectionParentIndex(e, i.path.popLast())
    );
  }
  removeEntry(e) {
    const n = this.docs.get(e);
    n && ((this.docs = this.docs.remove(e)), (this.size -= n.size));
  }
  getEntry(e, n) {
    const i = this.docs.get(n);
    return P.resolve(i ? i.document.mutableCopy() : ft.newInvalidDocument(n));
  }
  getEntries(e, n) {
    let i = ci();
    return (
      n.forEach((r) => {
        const s = this.docs.get(r);
        i = i.insert(
          r,
          s ? s.document.mutableCopy() : ft.newInvalidDocument(r)
        );
      }),
      P.resolve(i)
    );
  }
  getDocumentsMatchingQuery(e, n, i, r) {
    let s = ci();
    const a = n.path,
      l = new G(a.child("")),
      u = this.docs.getIteratorFrom(l);
    for (; u.hasNext(); ) {
      const {
        key: c,
        value: { document: f },
      } = u.getNext();
      if (!a.isPrefixOf(c.path)) break;
      c.path.length > a.length + 1 ||
        hM(cM(f), i) <= 0 ||
        ((r.has(f.key) || oh(n, f)) && (s = s.insert(f.key, f.mutableCopy())));
    }
    return P.resolve(s);
  }
  getAllFromCollectionGroup(e, n, i, r) {
    Q();
  }
  Lr(e, n) {
    return P.forEach(this.docs, (i) => n(i));
  }
  newChangeBuffer(e) {
    return new Vk(this);
  }
  getSize(e) {
    return P.resolve(this.size);
  }
}
class Vk extends Ik {
  constructor(e) {
    super(), (this.hr = e);
  }
  applyChanges(e) {
    const n = [];
    return (
      this.changes.forEach((i, r) => {
        r.isValidDocument()
          ? n.push(this.hr.addEntry(e, r))
          : this.hr.removeEntry(i);
      }),
      P.waitFor(n)
    );
  }
  getFromCache(e, n) {
    return this.hr.getEntry(e, n);
  }
  getAllFromCache(e, n) {
    return this.hr.getEntries(e, n);
  }
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class Pk {
  constructor(e) {
    (this.persistence = e),
      (this.Br = new $r((n) => Vp(n), Pp)),
      (this.lastRemoteSnapshotVersion = $.min()),
      (this.highestTargetId = 0),
      (this.kr = 0),
      (this.qr = new jp()),
      (this.targetCount = 0),
      (this.Qr = Js.qn());
  }
  forEachTarget(e, n) {
    return this.Br.forEach((i, r) => n(r)), P.resolve();
  }
  getLastRemoteSnapshotVersion(e) {
    return P.resolve(this.lastRemoteSnapshotVersion);
  }
  getHighestSequenceNumber(e) {
    return P.resolve(this.kr);
  }
  allocateTargetId(e) {
    return (
      (this.highestTargetId = this.Qr.next()), P.resolve(this.highestTargetId)
    );
  }
  setTargetsMetadata(e, n, i) {
    return (
      i && (this.lastRemoteSnapshotVersion = i),
      n > this.kr && (this.kr = n),
      P.resolve()
    );
  }
  Un(e) {
    this.Br.set(e.target, e);
    const n = e.targetId;
    n > this.highestTargetId &&
      ((this.Qr = new Js(n)), (this.highestTargetId = n)),
      e.sequenceNumber > this.kr && (this.kr = e.sequenceNumber);
  }
  addTargetData(e, n) {
    return this.Un(n), (this.targetCount += 1), P.resolve();
  }
  updateTargetData(e, n) {
    return this.Un(n), P.resolve();
  }
  removeTargetData(e, n) {
    return (
      this.Br.delete(n.target),
      this.qr.yr(n.targetId),
      (this.targetCount -= 1),
      P.resolve()
    );
  }
  removeTargets(e, n, i) {
    let r = 0;
    const s = [];
    return (
      this.Br.forEach((a, l) => {
        l.sequenceNumber <= n &&
          i.get(l.targetId) === null &&
          (this.Br.delete(a),
          s.push(this.removeMatchingKeysForTargetId(e, l.targetId)),
          r++);
      }),
      P.waitFor(s).next(() => r)
    );
  }
  getTargetCount(e) {
    return P.resolve(this.targetCount);
  }
  getTargetData(e, n) {
    const i = this.Br.get(n) || null;
    return P.resolve(i);
  }
  addMatchingKeys(e, n, i) {
    return this.qr.mr(n, i), P.resolve();
  }
  removeMatchingKeys(e, n, i) {
    this.qr.pr(n, i);
    const r = this.persistence.referenceDelegate,
      s = [];
    return (
      r &&
        n.forEach((a) => {
          s.push(r.markPotentiallyOrphaned(e, a));
        }),
      P.waitFor(s)
    );
  }
  removeMatchingKeysForTargetId(e, n) {
    return this.qr.yr(n), P.resolve();
  }
  getMatchingKeysForTargetId(e, n) {
    const i = this.qr.Sr(n);
    return P.resolve(i);
  }
  containsKey(e, n) {
    return P.resolve(this.qr.containsKey(n));
  }
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class TS {
  constructor(e, n) {
    (this.Kr = {}),
      (this.overlays = {}),
      (this.$r = new nh(0)),
      (this.Ur = !1),
      (this.Ur = !0),
      (this.Wr = new Mk()),
      (this.referenceDelegate = e(this)),
      (this.Gr = new Pk(this)),
      (this.indexManager = new Tk()),
      (this.remoteDocumentCache = (function (r) {
        return new xk(r);
      })((i) => this.referenceDelegate.zr(i))),
      (this.serializer = new vk(n)),
      (this.jr = new Ok(this.serializer));
  }
  start() {
    return Promise.resolve();
  }
  shutdown() {
    return (this.Ur = !1), Promise.resolve();
  }
  get started() {
    return this.Ur;
  }
  setDatabaseDeletedListener() {}
  setNetworkEnabled() {}
  getIndexManager(e) {
    return this.indexManager;
  }
  getDocumentOverlayCache(e) {
    let n = this.overlays[e.toKey()];
    return n || ((n = new Nk()), (this.overlays[e.toKey()] = n)), n;
  }
  getMutationQueue(e, n) {
    let i = this.Kr[e.toKey()];
    return (
      i || ((i = new kk(n, this.referenceDelegate)), (this.Kr[e.toKey()] = i)),
      i
    );
  }
  getGlobalsCache() {
    return this.Wr;
  }
  getTargetCache() {
    return this.Gr;
  }
  getRemoteDocumentCache() {
    return this.remoteDocumentCache;
  }
  getBundleCache() {
    return this.jr;
  }
  runTransaction(e, n, i) {
    H("MemoryPersistence", "Starting transaction:", e);
    const r = new Uk(this.$r.next());
    return (
      this.referenceDelegate.Hr(),
      i(r)
        .next((s) => this.referenceDelegate.Jr(r).next(() => s))
        .toPromise()
        .then((s) => (r.raiseOnCommittedEvent(), s))
    );
  }
  Yr(e, n) {
    return P.or(Object.values(this.Kr).map((i) => () => i.containsKey(e, n)));
  }
}
class Uk extends dM {
  constructor(e) {
    super(), (this.currentSequenceNumber = e);
  }
}
class qp {
  constructor(e) {
    (this.persistence = e), (this.Zr = new jp()), (this.Xr = null);
  }
  static ei(e) {
    return new qp(e);
  }
  get ti() {
    if (this.Xr) return this.Xr;
    throw Q();
  }
  addReference(e, n, i) {
    return (
      this.Zr.addReference(i, n), this.ti.delete(i.toString()), P.resolve()
    );
  }
  removeReference(e, n, i) {
    return (
      this.Zr.removeReference(i, n), this.ti.add(i.toString()), P.resolve()
    );
  }
  markPotentiallyOrphaned(e, n) {
    return this.ti.add(n.toString()), P.resolve();
  }
  removeTarget(e, n) {
    this.Zr.yr(n.targetId).forEach((r) => this.ti.add(r.toString()));
    const i = this.persistence.getTargetCache();
    return i
      .getMatchingKeysForTargetId(e, n.targetId)
      .next((r) => {
        r.forEach((s) => this.ti.add(s.toString()));
      })
      .next(() => i.removeTargetData(e, n));
  }
  Hr() {
    this.Xr = new Set();
  }
  Jr(e) {
    const n = this.persistence.getRemoteDocumentCache().newChangeBuffer();
    return P.forEach(this.ti, (i) => {
      const r = G.fromPath(i);
      return this.ni(e, r).next((s) => {
        s || n.removeEntry(r, $.min());
      });
    }).next(() => ((this.Xr = null), n.apply(e)));
  }
  updateLimboDocument(e, n) {
    return this.ni(e, n).next((i) => {
      i ? this.ti.delete(n.toString()) : this.ti.add(n.toString());
    });
  }
  zr(e) {
    return 0;
  }
  ni(e, n) {
    return P.or([
      () => P.resolve(this.Zr.containsKey(n)),
      () => this.persistence.getTargetCache().containsKey(e, n),
      () => this.persistence.Yr(e, n),
    ]);
  }
}
class bc {
  constructor(e, n) {
    (this.persistence = e),
      (this.ri = new $r(
        (i) => gM(i.path),
        (i, r) => i.isEqual(r)
      )),
      (this.garbageCollector = bk(this, n));
  }
  static ei(e, n) {
    return new bc(e, n);
  }
  Hr() {}
  Jr(e) {
    return P.resolve();
  }
  forEachTarget(e, n) {
    return this.persistence.getTargetCache().forEachTarget(e, n);
  }
  Xn(e) {
    const n = this.nr(e);
    return this.persistence
      .getTargetCache()
      .getTargetCount(e)
      .next((i) => n.next((r) => i + r));
  }
  nr(e) {
    let n = 0;
    return this.er(e, (i) => {
      n++;
    }).next(() => n);
  }
  er(e, n) {
    return P.forEach(this.ri, (i, r) =>
      this.ir(e, i, r).next((s) => (s ? P.resolve() : n(r)))
    );
  }
  removeTargets(e, n, i) {
    return this.persistence.getTargetCache().removeTargets(e, n, i);
  }
  removeOrphanedDocuments(e, n) {
    let i = 0;
    const r = this.persistence.getRemoteDocumentCache(),
      s = r.newChangeBuffer();
    return r
      .Lr(e, (a) =>
        this.ir(e, a, n).next((l) => {
          l || (i++, s.removeEntry(a, $.min()));
        })
      )
      .next(() => s.apply(e))
      .next(() => i);
  }
  markPotentiallyOrphaned(e, n) {
    return this.ri.set(n, e.currentSequenceNumber), P.resolve();
  }
  removeTarget(e, n) {
    const i = n.withSequenceNumber(e.currentSequenceNumber);
    return this.persistence.getTargetCache().updateTargetData(e, i);
  }
  addReference(e, n, i) {
    return this.ri.set(i, e.currentSequenceNumber), P.resolve();
  }
  removeReference(e, n, i) {
    return this.ri.set(i, e.currentSequenceNumber), P.resolve();
  }
  updateLimboDocument(e, n) {
    return this.ri.set(n, e.currentSequenceNumber), P.resolve();
  }
  zr(e) {
    let n = e.key.toString().length;
    return e.isFoundDocument() && (n += Mu(e.data.value)), n;
  }
  ir(e, n, i) {
    return P.or([
      () => this.persistence.Yr(e, n),
      () => this.persistence.getTargetCache().containsKey(e, n),
      () => {
        const r = this.ri.get(n);
        return P.resolve(r !== void 0 && r > i);
      },
    ]);
  }
  getCacheSize(e) {
    return this.persistence.getRemoteDocumentCache().getSize(e);
  }
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class Hp {
  constructor(e, n, i, r) {
    (this.targetId = e), (this.fromCache = n), (this.Wi = i), (this.Gi = r);
  }
  static zi(e, n) {
    let i = ie(),
      r = ie();
    for (const s of n.docChanges)
      switch (s.type) {
        case 0:
          i = i.add(s.doc.key);
          break;
        case 1:
          r = r.add(s.doc.key);
      }
    return new Hp(e, n.fromCache, i, r);
  }
}
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class Lk {
  constructor() {
    this._documentReadCount = 0;
  }
  get documentReadCount() {
    return this._documentReadCount;
  }
  incrementDocumentReadCount(e) {
    this._documentReadCount += e;
  }
}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class Bk {
  constructor() {
    (this.ji = !1),
      (this.Hi = !1),
      (this.Ji = 100),
      (this.Yi = (function () {
        return oC() ? 8 : mM(gt()) > 0 ? 6 : 4;
      })());
  }
  initialize(e, n) {
    (this.Zi = e), (this.indexManager = n), (this.ji = !0);
  }
  getDocumentsMatchingQuery(e, n, i, r) {
    const s = { result: null };
    return this.Xi(e, n)
      .next((a) => {
        s.result = a;
      })
      .next(() => {
        if (!s.result)
          return this.es(e, n, r, i).next((a) => {
            s.result = a;
          });
      })
      .next(() => {
        if (s.result) return;
        const a = new Lk();
        return this.ts(e, n, a).next((l) => {
          if (((s.result = l), this.Hi)) return this.ns(e, n, a, l.size);
        });
      })
      .next(() => s.result);
  }
  ns(e, n, i, r) {
    return i.documentReadCount < this.Ji
      ? (cs() <= ne.DEBUG &&
          H(
            "QueryEngine",
            "SDK will not create cache indexes for query:",
            hs(n),
            "since it only creates cache indexes for collection contains",
            "more than or equal to",
            this.Ji,
            "documents"
          ),
        P.resolve())
      : (cs() <= ne.DEBUG &&
          H(
            "QueryEngine",
            "Query:",
            hs(n),
            "scans",
            i.documentReadCount,
            "local documents and returns",
            r,
            "documents as results."
          ),
        i.documentReadCount > this.Yi * r
          ? (cs() <= ne.DEBUG &&
              H(
                "QueryEngine",
                "The SDK decides to create cache indexes for query:",
                hs(n),
                "as using cache indexes may help improve performance."
              ),
            this.indexManager.createTargetIndexes(e, Sn(n)))
          : P.resolve());
  }
  Xi(e, n) {
    if (Pv(n)) return P.resolve(null);
    let i = Sn(n);
    return this.indexManager.getIndexType(e, i).next((r) =>
      r === 0
        ? null
        : (n.limit !== null && r === 1 && ((n = sm(n, null, "F")), (i = Sn(n))),
          this.indexManager.getDocumentsMatchingTarget(e, i).next((s) => {
            const a = ie(...s);
            return this.Zi.getDocuments(e, a).next((l) =>
              this.indexManager.getMinOffset(e, i).next((u) => {
                const c = this.rs(n, l);
                return this.ss(n, c, a, u.readTime)
                  ? this.Xi(e, sm(n, null, "F"))
                  : this.os(e, c, n, u);
              })
            );
          }))
    );
  }
  es(e, n, i, r) {
    return Pv(n) || r.isEqual($.min())
      ? P.resolve(null)
      : this.Zi.getDocuments(e, i).next((s) => {
          const a = this.rs(n, s);
          return this.ss(n, a, i, r)
            ? P.resolve(null)
            : (cs() <= ne.DEBUG &&
                H(
                  "QueryEngine",
                  "Re-using previous result from %s to execute query: %s",
                  r.toString(),
                  hs(n)
                ),
              this.os(e, a, n, uM(r, -1)).next((l) => l));
        });
  }
  rs(e, n) {
    let i = new Ke(Zw(e));
    return (
      n.forEach((r, s) => {
        oh(e, s) && (i = i.add(s));
      }),
      i
    );
  }
  ss(e, n, i, r) {
    if (e.limit === null) return !1;
    if (i.size !== n.size) return !0;
    const s = e.limitType === "F" ? n.last() : n.first();
    return !!s && (s.hasPendingWrites || s.version.compareTo(r) > 0);
  }
  ts(e, n, i) {
    return (
      cs() <= ne.DEBUG &&
        H("QueryEngine", "Using full collection scan to execute query:", hs(n)),
      this.Zi.getDocumentsMatchingQuery(e, n, Xi.min(), i)
    );
  }
  os(e, n, i, r) {
    return this.Zi.getDocumentsMatchingQuery(e, i, r).next(
      (s) => (
        n.forEach((a) => {
          s = s.insert(a.key, a);
        }),
        s
      )
    );
  }
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class zk {
  constructor(e, n, i, r) {
    (this.persistence = e),
      (this._s = n),
      (this.serializer = r),
      (this.us = new De(se)),
      (this.cs = new $r((s) => Vp(s), Pp)),
      (this.ls = new Map()),
      (this.hs = e.getRemoteDocumentCache()),
      (this.Gr = e.getTargetCache()),
      (this.jr = e.getBundleCache()),
      this.Ps(i);
  }
  Ps(e) {
    (this.documentOverlayCache = this.persistence.getDocumentOverlayCache(e)),
      (this.indexManager = this.persistence.getIndexManager(e)),
      (this.mutationQueue = this.persistence.getMutationQueue(
        e,
        this.indexManager
      )),
      (this.localDocuments = new Dk(
        this.hs,
        this.mutationQueue,
        this.documentOverlayCache,
        this.indexManager
      )),
      this.hs.setIndexManager(this.indexManager),
      this._s.initialize(this.localDocuments, this.indexManager);
  }
  collectGarbage(e) {
    return this.persistence.runTransaction(
      "Collect garbage",
      "readwrite-primary",
      (n) => e.collect(n, this.us)
    );
  }
}
function jk(t, e, n, i) {
  return new zk(t, e, n, i);
}
async function AS(t, e) {
  const n = X(t);
  return await n.persistence.runTransaction(
    "Handle user change",
    "readonly",
    (i) => {
      let r;
      return n.mutationQueue
        .getAllMutationBatches(i)
        .next(
          (s) => ((r = s), n.Ps(e), n.mutationQueue.getAllMutationBatches(i))
        )
        .next((s) => {
          const a = [],
            l = [];
          let u = ie();
          for (const c of r) {
            a.push(c.batchId);
            for (const f of c.mutations) u = u.add(f.key);
          }
          for (const c of s) {
            l.push(c.batchId);
            for (const f of c.mutations) u = u.add(f.key);
          }
          return n.localDocuments
            .getDocuments(i, u)
            .next((c) => ({ Ts: c, removedBatchIds: a, addedBatchIds: l }));
        });
    }
  );
}
function qk(t, e) {
  const n = X(t);
  return n.persistence.runTransaction(
    "Acknowledge batch",
    "readwrite-primary",
    (i) => {
      const r = e.batch.keys(),
        s = n.hs.newChangeBuffer({ trackRemovals: !0 });
      return (function (l, u, c, f) {
        const p = c.batch,
          m = p.keys();
        let _ = P.resolve();
        return (
          m.forEach((b) => {
            _ = _.next(() => f.getEntry(u, b)).next((C) => {
              const D = c.docVersions.get(b);
              ce(D !== null),
                C.version.compareTo(D) < 0 &&
                  (p.applyToRemoteDocument(C, c),
                  C.isValidDocument() &&
                    (C.setReadTime(c.commitVersion), f.addEntry(C)));
            });
          }),
          _.next(() => l.mutationQueue.removeMutationBatch(u, p))
        );
      })(n, i, e, s)
        .next(() => s.apply(i))
        .next(() => n.mutationQueue.performConsistencyCheck(i))
        .next(() =>
          n.documentOverlayCache.removeOverlaysForBatchId(i, r, e.batch.batchId)
        )
        .next(() =>
          n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(
            i,
            (function (l) {
              let u = ie();
              for (let c = 0; c < l.mutationResults.length; ++c)
                l.mutationResults[c].transformResults.length > 0 &&
                  (u = u.add(l.batch.mutations[c].key));
              return u;
            })(e)
          )
        )
        .next(() => n.localDocuments.getDocuments(i, r));
    }
  );
}
function wS(t) {
  const e = X(t);
  return e.persistence.runTransaction(
    "Get last remote snapshot version",
    "readonly",
    (n) => e.Gr.getLastRemoteSnapshotVersion(n)
  );
}
function Hk(t, e) {
  const n = X(t),
    i = e.snapshotVersion;
  let r = n.us;
  return n.persistence
    .runTransaction("Apply remote event", "readwrite-primary", (s) => {
      const a = n.hs.newChangeBuffer({ trackRemovals: !0 });
      r = n.us;
      const l = [];
      e.targetChanges.forEach((f, p) => {
        const m = r.get(p);
        if (!m) return;
        l.push(
          n.Gr.removeMatchingKeys(s, f.removedDocuments, p).next(() =>
            n.Gr.addMatchingKeys(s, f.addedDocuments, p)
          )
        );
        let _ = m.withSequenceNumber(s.currentSequenceNumber);
        e.targetMismatches.get(p) !== null
          ? (_ = _.withResumeToken(
              at.EMPTY_BYTE_STRING,
              $.min()
            ).withLastLimboFreeSnapshotVersion($.min()))
          : f.resumeToken.approximateByteSize() > 0 &&
            (_ = _.withResumeToken(f.resumeToken, i)),
          (r = r.insert(p, _)),
          (function (C, D, E) {
            return C.resumeToken.approximateByteSize() === 0 ||
              D.snapshotVersion.toMicroseconds() -
                C.snapshotVersion.toMicroseconds() >=
                3e8
              ? !0
              : E.addedDocuments.size +
                  E.modifiedDocuments.size +
                  E.removedDocuments.size >
                  0;
          })(m, _, f) && l.push(n.Gr.updateTargetData(s, _));
      });
      let u = ci(),
        c = ie();
      if (
        (e.documentUpdates.forEach((f) => {
          e.resolvedLimboDocuments.has(f) &&
            l.push(n.persistence.referenceDelegate.updateLimboDocument(s, f));
        }),
        l.push(
          Fk(s, a, e.documentUpdates).next((f) => {
            (u = f.Is), (c = f.Es);
          })
        ),
        !i.isEqual($.min()))
      ) {
        const f = n.Gr.getLastRemoteSnapshotVersion(s).next((p) =>
          n.Gr.setTargetsMetadata(s, s.currentSequenceNumber, i)
        );
        l.push(f);
      }
      return P.waitFor(l)
        .next(() => a.apply(s))
        .next(() => n.localDocuments.getLocalViewOfDocuments(s, u, c))
        .next(() => u);
    })
    .then((s) => ((n.us = r), s));
}
function Fk(t, e, n) {
  let i = ie(),
    r = ie();
  return (
    n.forEach((s) => (i = i.add(s))),
    e.getEntries(t, i).next((s) => {
      let a = ci();
      return (
        n.forEach((l, u) => {
          const c = s.get(l);
          u.isFoundDocument() !== c.isFoundDocument() && (r = r.add(l)),
            u.isNoDocument() && u.version.isEqual($.min())
              ? (e.removeEntry(l, u.readTime), (a = a.insert(l, u)))
              : !c.isValidDocument() ||
                u.version.compareTo(c.version) > 0 ||
                (u.version.compareTo(c.version) === 0 && c.hasPendingWrites)
              ? (e.addEntry(u), (a = a.insert(l, u)))
              : H(
                  "LocalStore",
                  "Ignoring outdated watch update for ",
                  l,
                  ". Current version:",
                  c.version,
                  " Watch version:",
                  u.version
                );
        }),
        { Is: a, Es: r }
      );
    })
  );
}
function Gk(t, e) {
  const n = X(t);
  return n.persistence.runTransaction(
    "Get next mutation batch",
    "readonly",
    (i) => (
      e === void 0 && (e = -1),
      n.mutationQueue.getNextMutationBatchAfterBatchId(i, e)
    )
  );
}
function Kk(t, e) {
  const n = X(t);
  return n.persistence
    .runTransaction("Allocate target", "readwrite", (i) => {
      let r;
      return n.Gr.getTargetData(i, e).next((s) =>
        s
          ? ((r = s), P.resolve(r))
          : n.Gr.allocateTargetId(i).next(
              (a) => (
                (r = new ki(
                  e,
                  a,
                  "TargetPurposeListen",
                  i.currentSequenceNumber
                )),
                n.Gr.addTargetData(i, r).next(() => r)
              )
            )
      );
    })
    .then((i) => {
      const r = n.us.get(i.targetId);
      return (
        (r === null || i.snapshotVersion.compareTo(r.snapshotVersion) > 0) &&
          ((n.us = n.us.insert(i.targetId, i)), n.cs.set(e, i.targetId)),
        i
      );
    });
}
async function cm(t, e, n) {
  const i = X(t),
    r = i.us.get(e),
    s = n ? "readwrite" : "readwrite-primary";
  try {
    n ||
      (await i.persistence.runTransaction("Release target", s, (a) =>
        i.persistence.referenceDelegate.removeTarget(a, r)
      ));
  } catch (a) {
    if (!da(a)) throw a;
    H("LocalStore", `Failed to update sequence numbers for target ${e}: ${a}`);
  }
  (i.us = i.us.remove(e)), i.cs.delete(r.target);
}
function $v(t, e, n) {
  const i = X(t);
  let r = $.min(),
    s = ie();
  return i.persistence.runTransaction("Execute query", "readwrite", (a) =>
    (function (u, c, f) {
      const p = X(u),
        m = p.cs.get(f);
      return m !== void 0 ? P.resolve(p.us.get(m)) : p.Gr.getTargetData(c, f);
    })(i, a, Sn(e))
      .next((l) => {
        if (l)
          return (
            (r = l.lastLimboFreeSnapshotVersion),
            i.Gr.getMatchingKeysForTargetId(a, l.targetId).next((u) => {
              s = u;
            })
          );
      })
      .next(() =>
        i._s.getDocumentsMatchingQuery(a, e, n ? r : $.min(), n ? s : ie())
      )
      .next((l) => (Qk(i, xM(e), l), { documents: l, ds: s }))
  );
}
function Qk(t, e, n) {
  let i = t.ls.get(e) || $.min();
  n.forEach((r, s) => {
    s.readTime.compareTo(i) > 0 && (i = s.readTime);
  }),
    t.ls.set(e, i);
}
class Yv {
  constructor() {
    this.activeTargetIds = zM();
  }
  ps(e) {
    this.activeTargetIds = this.activeTargetIds.add(e);
  }
  ys(e) {
    this.activeTargetIds = this.activeTargetIds.delete(e);
  }
  gs() {
    const e = {
      activeTargetIds: this.activeTargetIds.toArray(),
      updateTimeMs: Date.now(),
    };
    return JSON.stringify(e);
  }
}
class $k {
  constructor() {
    (this._o = new Yv()),
      (this.ao = {}),
      (this.onlineStateHandler = null),
      (this.sequenceNumberHandler = null);
  }
  addPendingMutation(e) {}
  updateMutationState(e, n, i) {}
  addLocalQueryTarget(e, n = !0) {
    return n && this._o.ps(e), this.ao[e] || "not-current";
  }
  updateQueryState(e, n, i) {
    this.ao[e] = n;
  }
  removeLocalQueryTarget(e) {
    this._o.ys(e);
  }
  isLocalQueryTarget(e) {
    return this._o.activeTargetIds.has(e);
  }
  clearQueryState(e) {
    delete this.ao[e];
  }
  getAllActiveQueryTargets() {
    return this._o.activeTargetIds;
  }
  isActiveQueryTarget(e) {
    return this._o.activeTargetIds.has(e);
  }
  start() {
    return (this._o = new Yv()), Promise.resolve();
  }
  handleUserChange(e, n, i) {}
  setOnlineState(e) {}
  shutdown() {}
  writeSequenceNumber(e) {}
  notifyBundleLoaded(e) {}
}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class Yk {
  uo(e) {}
  shutdown() {}
}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class Xv {
  constructor() {
    (this.co = () => this.lo()),
      (this.ho = () => this.Po()),
      (this.To = []),
      this.Io();
  }
  uo(e) {
    this.To.push(e);
  }
  shutdown() {
    window.removeEventListener("online", this.co),
      window.removeEventListener("offline", this.ho);
  }
  Io() {
    window.addEventListener("online", this.co),
      window.addEventListener("offline", this.ho);
  }
  lo() {
    H("ConnectivityMonitor", "Network connectivity changed: AVAILABLE");
    for (const e of this.To) e(0);
  }
  Po() {
    H("ConnectivityMonitor", "Network connectivity changed: UNAVAILABLE");
    for (const e of this.To) e(1);
  }
  static p() {
    return (
      typeof window < "u" &&
      window.addEventListener !== void 0 &&
      window.removeEventListener !== void 0
    );
  }
}
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ let du = null;
function Ff() {
  return (
    du === null
      ? (du = (function () {
          return 268435456 + Math.round(2147483648 * Math.random());
        })())
      : du++,
    "0x" + du.toString(16)
  );
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ const Xk = {
  BatchGetDocuments: "batchGet",
  Commit: "commit",
  RunQuery: "runQuery",
  RunAggregationQuery: "runAggregationQuery",
};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class Wk {
  constructor(e) {
    (this.Eo = e.Eo), (this.Ao = e.Ao);
  }
  Ro(e) {
    this.Vo = e;
  }
  mo(e) {
    this.fo = e;
  }
  po(e) {
    this.yo = e;
  }
  onMessage(e) {
    this.wo = e;
  }
  close() {
    this.Ao();
  }
  send(e) {
    this.Eo(e);
  }
  So() {
    this.Vo();
  }
  bo() {
    this.fo();
  }
  Do(e) {
    this.yo(e);
  }
  vo(e) {
    this.wo(e);
  }
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ const ct = "WebChannelConnection";
class Zk extends class {
  get Co() {
    return !1;
  }
  constructor(n) {
    (this.databaseInfo = n), (this.databaseId = n.databaseId);
    const i = n.ssl ? "https" : "http",
      r = encodeURIComponent(this.databaseId.projectId),
      s = encodeURIComponent(this.databaseId.database);
    (this.Fo = i + "://" + n.host),
      (this.Mo = `projects/${r}/databases/${s}`),
      (this.xo =
        this.databaseId.database === "(default)"
          ? `project_id=${r}`
          : `project_id=${r}&database_id=${s}`);
  }
  Oo(n, i, r, s, a) {
    const l = Ff(),
      u = this.No(n, i.toUriEncodedString());
    H("RestConnection", `Sending RPC '${n}' ${l}:`, u, r);
    const c = {
      "google-cloud-resource-prefix": this.Mo,
      "x-goog-request-params": this.xo,
    };
    return (
      this.Lo(c, s, a),
      this.Bo(n, u, c, r).then(
        (f) => (H("RestConnection", `Received RPC '${n}' ${l}: `, f), f),
        (f) => {
          throw (
            ($s(
              "RestConnection",
              `RPC '${n}' ${l} failed with error: `,
              f,
              "url: ",
              u,
              "request:",
              r
            ),
            f)
          );
        }
      )
    );
  }
  ko(n, i, r, s, a, l) {
    return this.Oo(n, i, r, s, a);
  }
  Lo(n, i, r) {
    (n["X-Goog-Api-Client"] = (function () {
      return "gl-js/ fire/" + ha;
    })()),
      (n["Content-Type"] = "text/plain"),
      this.databaseInfo.appId &&
        (n["X-Firebase-GMPID"] = this.databaseInfo.appId),
      i && i.headers.forEach((s, a) => (n[a] = s)),
      r && r.headers.forEach((s, a) => (n[a] = s));
  }
  No(n, i) {
    const r = Xk[n];
    return `${this.Fo}/v1/${i}:${r}`;
  }
  terminate() {}
} {
  constructor(e) {
    super(e),
      (this.forceLongPolling = e.forceLongPolling),
      (this.autoDetectLongPolling = e.autoDetectLongPolling),
      (this.useFetchStreams = e.useFetchStreams),
      (this.longPollingOptions = e.longPollingOptions);
  }
  Bo(e, n, i, r) {
    const s = Ff();
    return new Promise((a, l) => {
      const u = new xw();
      u.setWithCredentials(!0),
        u.listenOnce(Vw.COMPLETE, () => {
          try {
            switch (u.getLastErrorCode()) {
              case Nu.NO_ERROR:
                const f = u.getResponseJson();
                H(ct, `XHR for RPC '${e}' ${s} received:`, JSON.stringify(f)),
                  a(f);
                break;
              case Nu.TIMEOUT:
                H(ct, `RPC '${e}' ${s} timed out`),
                  l(new F(L.DEADLINE_EXCEEDED, "Request time out"));
                break;
              case Nu.HTTP_ERROR:
                const p = u.getStatus();
                if (
                  (H(
                    ct,
                    `RPC '${e}' ${s} failed with status:`,
                    p,
                    "response text:",
                    u.getResponseText()
                  ),
                  p > 0)
                ) {
                  let m = u.getResponseJson();
                  Array.isArray(m) && (m = m[0]);
                  const _ = m == null ? void 0 : m.error;
                  if (_ && _.status && _.message) {
                    const b = (function (D) {
                      const E = D.toLowerCase().replace(/_/g, "-");
                      return Object.values(L).indexOf(E) >= 0 ? E : L.UNKNOWN;
                    })(_.status);
                    l(new F(b, _.message));
                  } else
                    l(
                      new F(
                        L.UNKNOWN,
                        "Server responded with status " + u.getStatus()
                      )
                    );
                } else l(new F(L.UNAVAILABLE, "Connection failed."));
                break;
              default:
                Q();
            }
          } finally {
            H(ct, `RPC '${e}' ${s} completed.`);
          }
        });
      const c = JSON.stringify(r);
      H(ct, `RPC '${e}' ${s} sending request:`, r), u.send(n, "POST", c, i, 15);
    });
  }
  qo(e, n, i) {
    const r = Ff(),
      s = [this.Fo, "/", "google.firestore.v1.Firestore", "/", e, "/channel"],
      a = Lw(),
      l = Uw(),
      u = {
        httpSessionIdParam: "gsessionid",
        initMessageHeaders: {},
        messageUrlParams: {
          database: `projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`,
        },
        sendRawJson: !0,
        supportsCrossDomainXhr: !0,
        internalChannelParams: { forwardChannelRequestTimeoutMs: 6e5 },
        forceLongPolling: this.forceLongPolling,
        detectBufferingProxy: this.autoDetectLongPolling,
      },
      c = this.longPollingOptions.timeoutSeconds;
    c !== void 0 && (u.longPollingTimeout = Math.round(1e3 * c)),
      this.useFetchStreams && (u.useFetchStreams = !0),
      this.Lo(u.initMessageHeaders, n, i),
      (u.encodeInitMessageHeaders = !0);
    const f = s.join("");
    H(ct, `Creating RPC '${e}' stream ${r}: ${f}`, u);
    const p = a.createWebChannel(f, u);
    let m = !1,
      _ = !1;
    const b = new Wk({
        Eo: (D) => {
          _
            ? H(ct, `Not sending because RPC '${e}' stream ${r} is closed:`, D)
            : (m ||
                (H(ct, `Opening RPC '${e}' stream ${r} transport.`),
                p.open(),
                (m = !0)),
              H(ct, `RPC '${e}' stream ${r} sending:`, D),
              p.send(D));
        },
        Ao: () => p.close(),
      }),
      C = (D, E, v) => {
        D.listen(E, (w) => {
          try {
            v(w);
          } catch (O) {
            setTimeout(() => {
              throw O;
            }, 0);
          }
        });
      };
    return (
      C(p, Za.EventType.OPEN, () => {
        _ || (H(ct, `RPC '${e}' stream ${r} transport opened.`), b.So());
      }),
      C(p, Za.EventType.CLOSE, () => {
        _ ||
          ((_ = !0), H(ct, `RPC '${e}' stream ${r} transport closed`), b.Do());
      }),
      C(p, Za.EventType.ERROR, (D) => {
        _ ||
          ((_ = !0),
          $s(ct, `RPC '${e}' stream ${r} transport errored:`, D),
          b.Do(new F(L.UNAVAILABLE, "The operation could not be completed")));
      }),
      C(p, Za.EventType.MESSAGE, (D) => {
        var E;
        if (!_) {
          const v = D.data[0];
          ce(!!v);
          const w = v,
            O =
              (w == null ? void 0 : w.error) ||
              ((E = w[0]) === null || E === void 0 ? void 0 : E.error);
          if (O) {
            H(ct, `RPC '${e}' stream ${r} received error:`, O);
            const B = O.status;
            let j = (function (T) {
                const S = Le[T];
                if (S !== void 0) return hS(S);
              })(B),
              A = O.message;
            j === void 0 &&
              ((j = L.INTERNAL),
              (A =
                "Unknown error status: " + B + " with message " + O.message)),
              (_ = !0),
              b.Do(new F(j, A)),
              p.close();
          } else H(ct, `RPC '${e}' stream ${r} received:`, v), b.vo(v);
        }
      }),
      C(l, Pw.STAT_EVENT, (D) => {
        D.stat === Jd.PROXY
          ? H(ct, `RPC '${e}' stream ${r} detected buffering proxy`)
          : D.stat === Jd.NOPROXY &&
            H(ct, `RPC '${e}' stream ${r} detected no buffering proxy`);
      }),
      setTimeout(() => {
        b.bo();
      }, 0),
      b
    );
  }
}
function Gf() {
  return typeof document < "u" ? document : null;
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ function hh(t) {
  return new sk(t, !0);
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class SS {
  constructor(e, n, i = 1e3, r = 1.5, s = 6e4) {
    (this.li = e),
      (this.timerId = n),
      (this.Qo = i),
      (this.Ko = r),
      (this.$o = s),
      (this.Uo = 0),
      (this.Wo = null),
      (this.Go = Date.now()),
      this.reset();
  }
  reset() {
    this.Uo = 0;
  }
  zo() {
    this.Uo = this.$o;
  }
  jo(e) {
    this.cancel();
    const n = Math.floor(this.Uo + this.Ho()),
      i = Math.max(0, Date.now() - this.Go),
      r = Math.max(0, n - i);
    r > 0 &&
      H(
        "ExponentialBackoff",
        `Backing off for ${r} ms (base delay: ${this.Uo} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`
      ),
      (this.Wo = this.li.enqueueAfterDelay(
        this.timerId,
        r,
        () => ((this.Go = Date.now()), e())
      )),
      (this.Uo *= this.Ko),
      this.Uo < this.Qo && (this.Uo = this.Qo),
      this.Uo > this.$o && (this.Uo = this.$o);
  }
  Jo() {
    this.Wo !== null && (this.Wo.skipDelay(), (this.Wo = null));
  }
  cancel() {
    this.Wo !== null && (this.Wo.cancel(), (this.Wo = null));
  }
  Ho() {
    return (Math.random() - 0.5) * this.Uo;
  }
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class RS {
  constructor(e, n, i, r, s, a, l, u) {
    (this.li = e),
      (this.Yo = i),
      (this.Zo = r),
      (this.connection = s),
      (this.authCredentialsProvider = a),
      (this.appCheckCredentialsProvider = l),
      (this.listener = u),
      (this.state = 0),
      (this.Xo = 0),
      (this.e_ = null),
      (this.t_ = null),
      (this.stream = null),
      (this.n_ = 0),
      (this.r_ = new SS(e, n));
  }
  i_() {
    return this.state === 1 || this.state === 5 || this.s_();
  }
  s_() {
    return this.state === 2 || this.state === 3;
  }
  start() {
    (this.n_ = 0), this.state !== 4 ? this.auth() : this.o_();
  }
  async stop() {
    this.i_() && (await this.close(0));
  }
  __() {
    (this.state = 0), this.r_.reset();
  }
  a_() {
    this.s_() &&
      this.e_ === null &&
      (this.e_ = this.li.enqueueAfterDelay(this.Yo, 6e4, () => this.u_()));
  }
  c_(e) {
    this.l_(), this.stream.send(e);
  }
  async u_() {
    if (this.s_()) return this.close(0);
  }
  l_() {
    this.e_ && (this.e_.cancel(), (this.e_ = null));
  }
  h_() {
    this.t_ && (this.t_.cancel(), (this.t_ = null));
  }
  async close(e, n) {
    this.l_(),
      this.h_(),
      this.r_.cancel(),
      this.Xo++,
      e !== 4
        ? this.r_.reset()
        : n && n.code === L.RESOURCE_EXHAUSTED
        ? (ui(n.toString()),
          ui("Using maximum backoff delay to prevent overloading the backend."),
          this.r_.zo())
        : n &&
          n.code === L.UNAUTHENTICATED &&
          this.state !== 3 &&
          (this.authCredentialsProvider.invalidateToken(),
          this.appCheckCredentialsProvider.invalidateToken()),
      this.stream !== null &&
        (this.P_(), this.stream.close(), (this.stream = null)),
      (this.state = e),
      await this.listener.po(n);
  }
  P_() {}
  auth() {
    this.state = 1;
    const e = this.T_(this.Xo),
      n = this.Xo;
    Promise.all([
      this.authCredentialsProvider.getToken(),
      this.appCheckCredentialsProvider.getToken(),
    ]).then(
      ([i, r]) => {
        this.Xo === n && this.I_(i, r);
      },
      (i) => {
        e(() => {
          const r = new F(
            L.UNKNOWN,
            "Fetching auth token failed: " + i.message
          );
          return this.E_(r);
        });
      }
    );
  }
  I_(e, n) {
    const i = this.T_(this.Xo);
    (this.stream = this.d_(e, n)),
      this.stream.Ro(() => {
        i(() => this.listener.Ro());
      }),
      this.stream.mo(() => {
        i(
          () => (
            (this.state = 2),
            (this.t_ = this.li.enqueueAfterDelay(
              this.Zo,
              1e4,
              () => (this.s_() && (this.state = 3), Promise.resolve())
            )),
            this.listener.mo()
          )
        );
      }),
      this.stream.po((r) => {
        i(() => this.E_(r));
      }),
      this.stream.onMessage((r) => {
        i(() => (++this.n_ == 1 ? this.A_(r) : this.onNext(r)));
      });
  }
  o_() {
    (this.state = 5),
      this.r_.jo(async () => {
        (this.state = 0), this.start();
      });
  }
  E_(e) {
    return (
      H("PersistentStream", `close with error: ${e}`),
      (this.stream = null),
      this.close(4, e)
    );
  }
  T_(e) {
    return (n) => {
      this.li.enqueueAndForget(() =>
        this.Xo === e
          ? n()
          : (H(
              "PersistentStream",
              "stream callback skipped by getCloseGuardedDispatcher."
            ),
            Promise.resolve())
      );
    };
  }
}
class Jk extends RS {
  constructor(e, n, i, r, s, a) {
    super(
      e,
      "listen_stream_connection_backoff",
      "listen_stream_idle",
      "health_check_timeout",
      n,
      i,
      r,
      a
    ),
      (this.serializer = s);
  }
  d_(e, n) {
    return this.connection.qo("Listen", e, n);
  }
  A_(e) {
    return this.onNext(e);
  }
  onNext(e) {
    this.r_.reset();
    const n = lk(this.serializer, e),
      i = (function (s) {
        if (!("targetChange" in s)) return $.min();
        const a = s.targetChange;
        return a.targetIds && a.targetIds.length
          ? $.min()
          : a.readTime
          ? bn(a.readTime)
          : $.min();
      })(e);
    return this.listener.R_(n, i);
  }
  V_(e) {
    const n = {};
    (n.database = um(this.serializer)),
      (n.addTarget = (function (s, a) {
        let l;
        const u = a.target;
        if (
          ((l = im(u) ? { documents: hk(s, u) } : { query: fk(s, u).ct }),
          (l.targetId = a.targetId),
          a.resumeToken.approximateByteSize() > 0)
        ) {
          l.resumeToken = mS(s, a.resumeToken);
          const c = am(s, a.expectedCount);
          c !== null && (l.expectedCount = c);
        } else if (a.snapshotVersion.compareTo($.min()) > 0) {
          l.readTime = Rc(s, a.snapshotVersion.toTimestamp());
          const c = am(s, a.expectedCount);
          c !== null && (l.expectedCount = c);
        }
        return l;
      })(this.serializer, e));
    const i = mk(this.serializer, e);
    i && (n.labels = i), this.c_(n);
  }
  m_(e) {
    const n = {};
    (n.database = um(this.serializer)), (n.removeTarget = e), this.c_(n);
  }
}
class ex extends RS {
  constructor(e, n, i, r, s, a) {
    super(
      e,
      "write_stream_connection_backoff",
      "write_stream_idle",
      "health_check_timeout",
      n,
      i,
      r,
      a
    ),
      (this.serializer = s);
  }
  get f_() {
    return this.n_ > 0;
  }
  start() {
    (this.lastStreamToken = void 0), super.start();
  }
  P_() {
    this.f_ && this.g_([]);
  }
  d_(e, n) {
    return this.connection.qo("Write", e, n);
  }
  A_(e) {
    return (
      ce(!!e.streamToken),
      (this.lastStreamToken = e.streamToken),
      ce(!e.writeResults || e.writeResults.length === 0),
      this.listener.p_()
    );
  }
  onNext(e) {
    ce(!!e.streamToken),
      (this.lastStreamToken = e.streamToken),
      this.r_.reset();
    const n = ck(e.writeResults, e.commitTime),
      i = bn(e.commitTime);
    return this.listener.y_(i, n);
  }
  w_() {
    const e = {};
    (e.database = um(this.serializer)), this.c_(e);
  }
  g_(e) {
    const n = {
      streamToken: this.lastStreamToken,
      writes: e.map((i) => uk(this.serializer, i)),
    };
    this.c_(n);
  }
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class tx extends class {} {
  constructor(e, n, i, r) {
    super(),
      (this.authCredentials = e),
      (this.appCheckCredentials = n),
      (this.connection = i),
      (this.serializer = r),
      (this.S_ = !1);
  }
  b_() {
    if (this.S_)
      throw new F(
        L.FAILED_PRECONDITION,
        "The client has already been terminated."
      );
  }
  Oo(e, n, i, r) {
    return (
      this.b_(),
      Promise.all([
        this.authCredentials.getToken(),
        this.appCheckCredentials.getToken(),
      ])
        .then(([s, a]) => this.connection.Oo(e, om(n, i), r, s, a))
        .catch((s) => {
          throw s.name === "FirebaseError"
            ? (s.code === L.UNAUTHENTICATED &&
                (this.authCredentials.invalidateToken(),
                this.appCheckCredentials.invalidateToken()),
              s)
            : new F(L.UNKNOWN, s.toString());
        })
    );
  }
  ko(e, n, i, r, s) {
    return (
      this.b_(),
      Promise.all([
        this.authCredentials.getToken(),
        this.appCheckCredentials.getToken(),
      ])
        .then(([a, l]) => this.connection.ko(e, om(n, i), r, a, l, s))
        .catch((a) => {
          throw a.name === "FirebaseError"
            ? (a.code === L.UNAUTHENTICATED &&
                (this.authCredentials.invalidateToken(),
                this.appCheckCredentials.invalidateToken()),
              a)
            : new F(L.UNKNOWN, a.toString());
        })
    );
  }
  terminate() {
    (this.S_ = !0), this.connection.terminate();
  }
}
class nx {
  constructor(e, n) {
    (this.asyncQueue = e),
      (this.onlineStateHandler = n),
      (this.state = "Unknown"),
      (this.D_ = 0),
      (this.v_ = null),
      (this.C_ = !0);
  }
  F_() {
    this.D_ === 0 &&
      (this.M_("Unknown"),
      (this.v_ = this.asyncQueue.enqueueAfterDelay(
        "online_state_timeout",
        1e4,
        () => (
          (this.v_ = null),
          this.x_("Backend didn't respond within 10 seconds."),
          this.M_("Offline"),
          Promise.resolve()
        )
      )));
  }
  O_(e) {
    this.state === "Online"
      ? this.M_("Unknown")
      : (this.D_++,
        this.D_ >= 1 &&
          (this.N_(),
          this.x_(
            `Connection failed 1 times. Most recent error: ${e.toString()}`
          ),
          this.M_("Offline")));
  }
  set(e) {
    this.N_(), (this.D_ = 0), e === "Online" && (this.C_ = !1), this.M_(e);
  }
  M_(e) {
    e !== this.state && ((this.state = e), this.onlineStateHandler(e));
  }
  x_(e) {
    const n = `Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;
    this.C_ ? (ui(n), (this.C_ = !1)) : H("OnlineStateTracker", n);
  }
  N_() {
    this.v_ !== null && (this.v_.cancel(), (this.v_ = null));
  }
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class ix {
  constructor(e, n, i, r, s) {
    (this.localStore = e),
      (this.datastore = n),
      (this.asyncQueue = i),
      (this.remoteSyncer = {}),
      (this.L_ = []),
      (this.B_ = new Map()),
      (this.k_ = new Set()),
      (this.q_ = []),
      (this.Q_ = s),
      this.Q_.uo((a) => {
        i.enqueueAndForget(async () => {
          Yr(this) &&
            (H(
              "RemoteStore",
              "Restarting streams for network reachability change."
            ),
            await (async function (u) {
              const c = X(u);
              c.k_.add(4),
                await Tl(c),
                c.K_.set("Unknown"),
                c.k_.delete(4),
                await fh(c);
            })(this));
        });
      }),
      (this.K_ = new nx(i, r));
  }
}
async function fh(t) {
  if (Yr(t)) for (const e of t.q_) await e(!0);
}
async function Tl(t) {
  for (const e of t.q_) await e(!1);
}
function bS(t, e) {
  const n = X(t);
  n.B_.has(e.targetId) ||
    (n.B_.set(e.targetId, e), Qp(n) ? Kp(n) : ma(n).s_() && Gp(n, e));
}
function Fp(t, e) {
  const n = X(t),
    i = ma(n);
  n.B_.delete(e),
    i.s_() && IS(n, e),
    n.B_.size === 0 && (i.s_() ? i.a_() : Yr(n) && n.K_.set("Unknown"));
}
function Gp(t, e) {
  if (
    (t.U_.xe(e.targetId),
    e.resumeToken.approximateByteSize() > 0 ||
      e.snapshotVersion.compareTo($.min()) > 0)
  ) {
    const n = t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;
    e = e.withExpectedCount(n);
  }
  ma(t).V_(e);
}
function IS(t, e) {
  t.U_.xe(e), ma(t).m_(e);
}
function Kp(t) {
  (t.U_ = new tk({
    getRemoteKeysForTarget: (e) => t.remoteSyncer.getRemoteKeysForTarget(e),
    ut: (e) => t.B_.get(e) || null,
    nt: () => t.datastore.serializer.databaseId,
  })),
    ma(t).start(),
    t.K_.F_();
}
function Qp(t) {
  return Yr(t) && !ma(t).i_() && t.B_.size > 0;
}
function Yr(t) {
  return X(t).k_.size === 0;
}
function CS(t) {
  t.U_ = void 0;
}
async function rx(t) {
  t.K_.set("Online");
}
async function sx(t) {
  t.B_.forEach((e, n) => {
    Gp(t, e);
  });
}
async function ax(t, e) {
  CS(t), Qp(t) ? (t.K_.O_(e), Kp(t)) : t.K_.set("Unknown");
}
async function ox(t, e, n) {
  if ((t.K_.set("Online"), e instanceof dS && e.state === 2 && e.cause))
    try {
      await (async function (r, s) {
        const a = s.cause;
        for (const l of s.targetIds)
          r.B_.has(l) &&
            (await r.remoteSyncer.rejectListen(l, a),
            r.B_.delete(l),
            r.U_.removeTarget(l));
      })(t, e);
    } catch (i) {
      H(
        "RemoteStore",
        "Failed to remove targets %s: %s ",
        e.targetIds.join(","),
        i
      ),
        await Ic(t, i);
    }
  else if (
    (e instanceof Vu ? t.U_.$e(e) : e instanceof fS ? t.U_.Je(e) : t.U_.Ge(e),
    !n.isEqual($.min()))
  )
    try {
      const i = await wS(t.localStore);
      n.compareTo(i) >= 0 &&
        (await (function (s, a) {
          const l = s.U_.it(a);
          return (
            l.targetChanges.forEach((u, c) => {
              if (u.resumeToken.approximateByteSize() > 0) {
                const f = s.B_.get(c);
                f && s.B_.set(c, f.withResumeToken(u.resumeToken, a));
              }
            }),
            l.targetMismatches.forEach((u, c) => {
              const f = s.B_.get(u);
              if (!f) return;
              s.B_.set(
                u,
                f.withResumeToken(at.EMPTY_BYTE_STRING, f.snapshotVersion)
              ),
                IS(s, u);
              const p = new ki(f.target, u, c, f.sequenceNumber);
              Gp(s, p);
            }),
            s.remoteSyncer.applyRemoteEvent(l)
          );
        })(t, n));
    } catch (i) {
      H("RemoteStore", "Failed to raise snapshot:", i), await Ic(t, i);
    }
}
async function Ic(t, e, n) {
  if (!da(e)) throw e;
  t.k_.add(1),
    await Tl(t),
    t.K_.set("Offline"),
    n || (n = () => wS(t.localStore)),
    t.asyncQueue.enqueueRetryable(async () => {
      H("RemoteStore", "Retrying IndexedDB access"),
        await n(),
        t.k_.delete(1),
        await fh(t);
    });
}
function DS(t, e) {
  return e().catch((n) => Ic(t, n, e));
}
async function dh(t) {
  const e = X(t),
    n = er(e);
  let i = e.L_.length > 0 ? e.L_[e.L_.length - 1].batchId : -1;
  for (; lx(e); )
    try {
      const r = await Gk(e.localStore, i);
      if (r === null) {
        e.L_.length === 0 && n.a_();
        break;
      }
      (i = r.batchId), ux(e, r);
    } catch (r) {
      await Ic(e, r);
    }
  OS(e) && NS(e);
}
function lx(t) {
  return Yr(t) && t.L_.length < 10;
}
function ux(t, e) {
  t.L_.push(e);
  const n = er(t);
  n.s_() && n.f_ && n.g_(e.mutations);
}
function OS(t) {
  return Yr(t) && !er(t).i_() && t.L_.length > 0;
}
function NS(t) {
  er(t).start();
}
async function cx(t) {
  er(t).w_();
}
async function hx(t) {
  const e = er(t);
  for (const n of t.L_) e.g_(n.mutations);
}
async function fx(t, e, n) {
  const i = t.L_.shift(),
    r = Lp.from(i, e, n);
  await DS(t, () => t.remoteSyncer.applySuccessfulWrite(r)), await dh(t);
}
async function dx(t, e) {
  e &&
    er(t).f_ &&
    (await (async function (i, r) {
      if (
        (function (a) {
          return ZM(a) && a !== L.ABORTED;
        })(r.code)
      ) {
        const s = i.L_.shift();
        er(i).__(),
          await DS(i, () => i.remoteSyncer.rejectFailedWrite(s.batchId, r)),
          await dh(i);
      }
    })(t, e)),
    OS(t) && NS(t);
}
async function Wv(t, e) {
  const n = X(t);
  n.asyncQueue.verifyOperationInProgress(),
    H("RemoteStore", "RemoteStore received new credentials");
  const i = Yr(n);
  n.k_.add(3),
    await Tl(n),
    i && n.K_.set("Unknown"),
    await n.remoteSyncer.handleCredentialChange(e),
    n.k_.delete(3),
    await fh(n);
}
async function mx(t, e) {
  const n = X(t);
  e
    ? (n.k_.delete(2), await fh(n))
    : e || (n.k_.add(2), await Tl(n), n.K_.set("Unknown"));
}
function ma(t) {
  return (
    t.W_ ||
      ((t.W_ = (function (n, i, r) {
        const s = X(n);
        return (
          s.b_(),
          new Jk(
            i,
            s.connection,
            s.authCredentials,
            s.appCheckCredentials,
            s.serializer,
            r
          )
        );
      })(t.datastore, t.asyncQueue, {
        Ro: rx.bind(null, t),
        mo: sx.bind(null, t),
        po: ax.bind(null, t),
        R_: ox.bind(null, t),
      })),
      t.q_.push(async (e) => {
        e
          ? (t.W_.__(), Qp(t) ? Kp(t) : t.K_.set("Unknown"))
          : (await t.W_.stop(), CS(t));
      })),
    t.W_
  );
}
function er(t) {
  return (
    t.G_ ||
      ((t.G_ = (function (n, i, r) {
        const s = X(n);
        return (
          s.b_(),
          new ex(
            i,
            s.connection,
            s.authCredentials,
            s.appCheckCredentials,
            s.serializer,
            r
          )
        );
      })(t.datastore, t.asyncQueue, {
        Ro: () => Promise.resolve(),
        mo: cx.bind(null, t),
        po: dx.bind(null, t),
        p_: hx.bind(null, t),
        y_: fx.bind(null, t),
      })),
      t.q_.push(async (e) => {
        e
          ? (t.G_.__(), await dh(t))
          : (await t.G_.stop(),
            t.L_.length > 0 &&
              (H(
                "RemoteStore",
                `Stopping write stream with ${t.L_.length} pending writes`
              ),
              (t.L_ = [])));
      })),
    t.G_
  );
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class $p {
  constructor(e, n, i, r, s) {
    (this.asyncQueue = e),
      (this.timerId = n),
      (this.targetTimeMs = i),
      (this.op = r),
      (this.removalCallback = s),
      (this.deferred = new ti()),
      (this.then = this.deferred.promise.then.bind(this.deferred.promise)),
      this.deferred.promise.catch((a) => {});
  }
  get promise() {
    return this.deferred.promise;
  }
  static createAndSchedule(e, n, i, r, s) {
    const a = Date.now() + i,
      l = new $p(e, n, a, r, s);
    return l.start(i), l;
  }
  start(e) {
    this.timerHandle = setTimeout(() => this.handleDelayElapsed(), e);
  }
  skipDelay() {
    return this.handleDelayElapsed();
  }
  cancel(e) {
    this.timerHandle !== null &&
      (this.clearTimeout(),
      this.deferred.reject(
        new F(L.CANCELLED, "Operation cancelled" + (e ? ": " + e : ""))
      ));
  }
  handleDelayElapsed() {
    this.asyncQueue.enqueueAndForget(() =>
      this.timerHandle !== null
        ? (this.clearTimeout(), this.op().then((e) => this.deferred.resolve(e)))
        : Promise.resolve()
    );
  }
  clearTimeout() {
    this.timerHandle !== null &&
      (this.removalCallback(this),
      clearTimeout(this.timerHandle),
      (this.timerHandle = null));
  }
}
function Yp(t, e) {
  if ((ui("AsyncQueue", `${e}: ${t}`), da(t)))
    return new F(L.UNAVAILABLE, `${e}: ${t}`);
  throw t;
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class Us {
  static emptySet(e) {
    return new Us(e.comparator);
  }
  constructor(e) {
    (this.comparator = e
      ? (n, i) => e(n, i) || G.comparator(n.key, i.key)
      : (n, i) => G.comparator(n.key, i.key)),
      (this.keyedMap = Ja()),
      (this.sortedSet = new De(this.comparator));
  }
  has(e) {
    return this.keyedMap.get(e) != null;
  }
  get(e) {
    return this.keyedMap.get(e);
  }
  first() {
    return this.sortedSet.minKey();
  }
  last() {
    return this.sortedSet.maxKey();
  }
  isEmpty() {
    return this.sortedSet.isEmpty();
  }
  indexOf(e) {
    const n = this.keyedMap.get(e);
    return n ? this.sortedSet.indexOf(n) : -1;
  }
  get size() {
    return this.sortedSet.size;
  }
  forEach(e) {
    this.sortedSet.inorderTraversal((n, i) => (e(n), !1));
  }
  add(e) {
    const n = this.delete(e.key);
    return n.copy(n.keyedMap.insert(e.key, e), n.sortedSet.insert(e, null));
  }
  delete(e) {
    const n = this.get(e);
    return n
      ? this.copy(this.keyedMap.remove(e), this.sortedSet.remove(n))
      : this;
  }
  isEqual(e) {
    if (!(e instanceof Us) || this.size !== e.size) return !1;
    const n = this.sortedSet.getIterator(),
      i = e.sortedSet.getIterator();
    for (; n.hasNext(); ) {
      const r = n.getNext().key,
        s = i.getNext().key;
      if (!r.isEqual(s)) return !1;
    }
    return !0;
  }
  toString() {
    const e = [];
    return (
      this.forEach((n) => {
        e.push(n.toString());
      }),
      e.length === 0
        ? "DocumentSet ()"
        : `DocumentSet (
  ` +
          e.join(`  
`) +
          `
)`
    );
  }
  copy(e, n) {
    const i = new Us();
    return (
      (i.comparator = this.comparator), (i.keyedMap = e), (i.sortedSet = n), i
    );
  }
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class Zv {
  constructor() {
    this.z_ = new De(G.comparator);
  }
  track(e) {
    const n = e.doc.key,
      i = this.z_.get(n);
    i
      ? e.type !== 0 && i.type === 3
        ? (this.z_ = this.z_.insert(n, e))
        : e.type === 3 && i.type !== 1
        ? (this.z_ = this.z_.insert(n, { type: i.type, doc: e.doc }))
        : e.type === 2 && i.type === 2
        ? (this.z_ = this.z_.insert(n, { type: 2, doc: e.doc }))
        : e.type === 2 && i.type === 0
        ? (this.z_ = this.z_.insert(n, { type: 0, doc: e.doc }))
        : e.type === 1 && i.type === 0
        ? (this.z_ = this.z_.remove(n))
        : e.type === 1 && i.type === 2
        ? (this.z_ = this.z_.insert(n, { type: 1, doc: i.doc }))
        : e.type === 0 && i.type === 1
        ? (this.z_ = this.z_.insert(n, { type: 2, doc: e.doc }))
        : Q()
      : (this.z_ = this.z_.insert(n, e));
  }
  j_() {
    const e = [];
    return (
      this.z_.inorderTraversal((n, i) => {
        e.push(i);
      }),
      e
    );
  }
}
class ea {
  constructor(e, n, i, r, s, a, l, u, c) {
    (this.query = e),
      (this.docs = n),
      (this.oldDocs = i),
      (this.docChanges = r),
      (this.mutatedKeys = s),
      (this.fromCache = a),
      (this.syncStateChanged = l),
      (this.excludesMetadataChanges = u),
      (this.hasCachedResults = c);
  }
  static fromInitialDocuments(e, n, i, r, s) {
    const a = [];
    return (
      n.forEach((l) => {
        a.push({ type: 0, doc: l });
      }),
      new ea(e, n, Us.emptySet(n), a, i, r, !0, !1, s)
    );
  }
  get hasPendingWrites() {
    return !this.mutatedKeys.isEmpty();
  }
  isEqual(e) {
    if (
      !(
        this.fromCache === e.fromCache &&
        this.hasCachedResults === e.hasCachedResults &&
        this.syncStateChanged === e.syncStateChanged &&
        this.mutatedKeys.isEqual(e.mutatedKeys) &&
        ah(this.query, e.query) &&
        this.docs.isEqual(e.docs) &&
        this.oldDocs.isEqual(e.oldDocs)
      )
    )
      return !1;
    const n = this.docChanges,
      i = e.docChanges;
    if (n.length !== i.length) return !1;
    for (let r = 0; r < n.length; r++)
      if (n[r].type !== i[r].type || !n[r].doc.isEqual(i[r].doc)) return !1;
    return !0;
  }
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class px {
  constructor() {
    (this.H_ = void 0), (this.J_ = []);
  }
  Y_() {
    return this.J_.some((e) => e.Z_());
  }
}
class gx {
  constructor() {
    (this.queries = Jv()),
      (this.onlineState = "Unknown"),
      (this.X_ = new Set());
  }
  terminate() {
    (function (n, i) {
      const r = X(n),
        s = r.queries;
      (r.queries = Jv()),
        s.forEach((a, l) => {
          for (const u of l.J_) u.onError(i);
        });
    })(this, new F(L.ABORTED, "Firestore shutting down"));
  }
}
function Jv() {
  return new $r((t) => Ww(t), ah);
}
async function Xp(t, e) {
  const n = X(t);
  let i = 3;
  const r = e.query;
  let s = n.queries.get(r);
  s ? !s.Y_() && e.Z_() && (i = 2) : ((s = new px()), (i = e.Z_() ? 0 : 1));
  try {
    switch (i) {
      case 0:
        s.H_ = await n.onListen(r, !0);
        break;
      case 1:
        s.H_ = await n.onListen(r, !1);
        break;
      case 2:
        await n.onFirstRemoteStoreListen(r);
    }
  } catch (a) {
    const l = Yp(a, `Initialization of query '${hs(e.query)}' failed`);
    return void e.onError(l);
  }
  n.queries.set(r, s),
    s.J_.push(e),
    e.ea(n.onlineState),
    s.H_ && e.ta(s.H_) && Zp(n);
}
async function Wp(t, e) {
  const n = X(t),
    i = e.query;
  let r = 3;
  const s = n.queries.get(i);
  if (s) {
    const a = s.J_.indexOf(e);
    a >= 0 &&
      (s.J_.splice(a, 1),
      s.J_.length === 0 ? (r = e.Z_() ? 0 : 1) : !s.Y_() && e.Z_() && (r = 2));
  }
  switch (r) {
    case 0:
      return n.queries.delete(i), n.onUnlisten(i, !0);
    case 1:
      return n.queries.delete(i), n.onUnlisten(i, !1);
    case 2:
      return n.onLastRemoteStoreUnlisten(i);
    default:
      return;
  }
}
function _x(t, e) {
  const n = X(t);
  let i = !1;
  for (const r of e) {
    const s = r.query,
      a = n.queries.get(s);
    if (a) {
      for (const l of a.J_) l.ta(r) && (i = !0);
      a.H_ = r;
    }
  }
  i && Zp(n);
}
function yx(t, e, n) {
  const i = X(t),
    r = i.queries.get(e);
  if (r) for (const s of r.J_) s.onError(n);
  i.queries.delete(e);
}
function Zp(t) {
  t.X_.forEach((e) => {
    e.next();
  });
}
var hm, e0;
((e0 = hm || (hm = {})).na = "default"), (e0.Cache = "cache");
class Jp {
  constructor(e, n, i) {
    (this.query = e),
      (this.ra = n),
      (this.ia = !1),
      (this.sa = null),
      (this.onlineState = "Unknown"),
      (this.options = i || {});
  }
  ta(e) {
    if (!this.options.includeMetadataChanges) {
      const i = [];
      for (const r of e.docChanges) r.type !== 3 && i.push(r);
      e = new ea(
        e.query,
        e.docs,
        e.oldDocs,
        i,
        e.mutatedKeys,
        e.fromCache,
        e.syncStateChanged,
        !0,
        e.hasCachedResults
      );
    }
    let n = !1;
    return (
      this.ia
        ? this.oa(e) && (this.ra.next(e), (n = !0))
        : this._a(e, this.onlineState) && (this.aa(e), (n = !0)),
      (this.sa = e),
      n
    );
  }
  onError(e) {
    this.ra.error(e);
  }
  ea(e) {
    this.onlineState = e;
    let n = !1;
    return (
      this.sa &&
        !this.ia &&
        this._a(this.sa, e) &&
        (this.aa(this.sa), (n = !0)),
      n
    );
  }
  _a(e, n) {
    if (!e.fromCache || !this.Z_()) return !0;
    const i = n !== "Offline";
    return (
      (!this.options.ua || !i) &&
      (!e.docs.isEmpty() || e.hasCachedResults || n === "Offline")
    );
  }
  oa(e) {
    if (e.docChanges.length > 0) return !0;
    const n = this.sa && this.sa.hasPendingWrites !== e.hasPendingWrites;
    return (
      !(!e.syncStateChanged && !n) && this.options.includeMetadataChanges === !0
    );
  }
  aa(e) {
    (e = ea.fromInitialDocuments(
      e.query,
      e.docs,
      e.mutatedKeys,
      e.fromCache,
      e.hasCachedResults
    )),
      (this.ia = !0),
      this.ra.next(e);
  }
  Z_() {
    return this.options.source !== hm.Cache;
  }
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class MS {
  constructor(e) {
    this.key = e;
  }
}
class kS {
  constructor(e) {
    this.key = e;
  }
}
class vx {
  constructor(e, n) {
    (this.query = e),
      (this.da = n),
      (this.Aa = null),
      (this.hasCachedResults = !1),
      (this.current = !1),
      (this.Ra = ie()),
      (this.mutatedKeys = ie()),
      (this.Va = Zw(e)),
      (this.ma = new Us(this.Va));
  }
  get fa() {
    return this.da;
  }
  ga(e, n) {
    const i = n ? n.pa : new Zv(),
      r = n ? n.ma : this.ma;
    let s = n ? n.mutatedKeys : this.mutatedKeys,
      a = r,
      l = !1;
    const u =
        this.query.limitType === "F" && r.size === this.query.limit
          ? r.last()
          : null,
      c =
        this.query.limitType === "L" && r.size === this.query.limit
          ? r.first()
          : null;
    if (
      (e.inorderTraversal((f, p) => {
        const m = r.get(f),
          _ = oh(this.query, p) ? p : null,
          b = !!m && this.mutatedKeys.has(m.key),
          C =
            !!_ &&
            (_.hasLocalMutations ||
              (this.mutatedKeys.has(_.key) && _.hasCommittedMutations));
        let D = !1;
        m && _
          ? m.data.isEqual(_.data)
            ? b !== C && (i.track({ type: 3, doc: _ }), (D = !0))
            : this.ya(m, _) ||
              (i.track({ type: 2, doc: _ }),
              (D = !0),
              ((u && this.Va(_, u) > 0) || (c && this.Va(_, c) < 0)) &&
                (l = !0))
          : !m && _
          ? (i.track({ type: 0, doc: _ }), (D = !0))
          : m &&
            !_ &&
            (i.track({ type: 1, doc: m }), (D = !0), (u || c) && (l = !0)),
          D &&
            (_
              ? ((a = a.add(_)), (s = C ? s.add(f) : s.delete(f)))
              : ((a = a.delete(f)), (s = s.delete(f))));
      }),
      this.query.limit !== null)
    )
      for (; a.size > this.query.limit; ) {
        const f = this.query.limitType === "F" ? a.last() : a.first();
        (a = a.delete(f.key)),
          (s = s.delete(f.key)),
          i.track({ type: 1, doc: f });
      }
    return { ma: a, pa: i, ss: l, mutatedKeys: s };
  }
  ya(e, n) {
    return (
      e.hasLocalMutations && n.hasCommittedMutations && !n.hasLocalMutations
    );
  }
  applyChanges(e, n, i, r) {
    const s = this.ma;
    (this.ma = e.ma), (this.mutatedKeys = e.mutatedKeys);
    const a = e.pa.j_();
    a.sort(
      (f, p) =>
        (function (_, b) {
          const C = (D) => {
            switch (D) {
              case 0:
                return 1;
              case 2:
              case 3:
                return 2;
              case 1:
                return 0;
              default:
                return Q();
            }
          };
          return C(_) - C(b);
        })(f.type, p.type) || this.Va(f.doc, p.doc)
    ),
      this.wa(i),
      (r = r != null && r);
    const l = n && !r ? this.Sa() : [],
      u = this.Ra.size === 0 && this.current && !r ? 1 : 0,
      c = u !== this.Aa;
    return (
      (this.Aa = u),
      a.length !== 0 || c
        ? {
            snapshot: new ea(
              this.query,
              e.ma,
              s,
              a,
              e.mutatedKeys,
              u === 0,
              c,
              !1,
              !!i && i.resumeToken.approximateByteSize() > 0
            ),
            ba: l,
          }
        : { ba: l }
    );
  }
  ea(e) {
    return this.current && e === "Offline"
      ? ((this.current = !1),
        this.applyChanges(
          { ma: this.ma, pa: new Zv(), mutatedKeys: this.mutatedKeys, ss: !1 },
          !1
        ))
      : { ba: [] };
  }
  Da(e) {
    return (
      !this.da.has(e) && !!this.ma.has(e) && !this.ma.get(e).hasLocalMutations
    );
  }
  wa(e) {
    e &&
      (e.addedDocuments.forEach((n) => (this.da = this.da.add(n))),
      e.modifiedDocuments.forEach((n) => {}),
      e.removedDocuments.forEach((n) => (this.da = this.da.delete(n))),
      (this.current = e.current));
  }
  Sa() {
    if (!this.current) return [];
    const e = this.Ra;
    (this.Ra = ie()),
      this.ma.forEach((i) => {
        this.Da(i.key) && (this.Ra = this.Ra.add(i.key));
      });
    const n = [];
    return (
      e.forEach((i) => {
        this.Ra.has(i) || n.push(new kS(i));
      }),
      this.Ra.forEach((i) => {
        e.has(i) || n.push(new MS(i));
      }),
      n
    );
  }
  va(e) {
    (this.da = e.ds), (this.Ra = ie());
    const n = this.ga(e.documents);
    return this.applyChanges(n, !0);
  }
  Ca() {
    return ea.fromInitialDocuments(
      this.query,
      this.ma,
      this.mutatedKeys,
      this.Aa === 0,
      this.hasCachedResults
    );
  }
}
class Ex {
  constructor(e, n, i) {
    (this.query = e), (this.targetId = n), (this.view = i);
  }
}
class Tx {
  constructor(e) {
    (this.key = e), (this.Fa = !1);
  }
}
class Ax {
  constructor(e, n, i, r, s, a) {
    (this.localStore = e),
      (this.remoteStore = n),
      (this.eventManager = i),
      (this.sharedClientState = r),
      (this.currentUser = s),
      (this.maxConcurrentLimboResolutions = a),
      (this.Ma = {}),
      (this.xa = new $r((l) => Ww(l), ah)),
      (this.Oa = new Map()),
      (this.Na = new Set()),
      (this.La = new De(G.comparator)),
      (this.Ba = new Map()),
      (this.ka = new jp()),
      (this.qa = {}),
      (this.Qa = new Map()),
      (this.Ka = Js.Qn()),
      (this.onlineState = "Unknown"),
      (this.$a = void 0);
  }
  get isPrimaryClient() {
    return this.$a === !0;
  }
}
async function wx(t, e, n = !0) {
  const i = BS(t);
  let r;
  const s = i.xa.get(e);
  return (
    s
      ? (i.sharedClientState.addLocalQueryTarget(s.targetId), (r = s.view.Ca()))
      : (r = await xS(i, e, n, !0)),
    r
  );
}
async function Sx(t, e) {
  const n = BS(t);
  await xS(n, e, !0, !1);
}
async function xS(t, e, n, i) {
  const r = await Kk(t.localStore, Sn(e)),
    s = r.targetId,
    a = t.sharedClientState.addLocalQueryTarget(s, n);
  let l;
  return (
    i && (l = await Rx(t, e, s, a === "current", r.resumeToken)),
    t.isPrimaryClient && n && bS(t.remoteStore, r),
    l
  );
}
async function Rx(t, e, n, i, r) {
  t.Ua = (p, m, _) =>
    (async function (C, D, E, v) {
      let w = D.view.ga(E);
      w.ss &&
        (w = await $v(C.localStore, D.query, !1).then(({ documents: A }) =>
          D.view.ga(A, w)
        ));
      const O = v && v.targetChanges.get(D.targetId),
        B = v && v.targetMismatches.get(D.targetId) != null,
        j = D.view.applyChanges(w, C.isPrimaryClient, O, B);
      return n0(C, D.targetId, j.ba), j.snapshot;
    })(t, p, m, _);
  const s = await $v(t.localStore, e, !0),
    a = new vx(e, s.ds),
    l = a.ga(s.documents),
    u = El.createSynthesizedTargetChangeForCurrentChange(
      n,
      i && t.onlineState !== "Offline",
      r
    ),
    c = a.applyChanges(l, t.isPrimaryClient, u);
  n0(t, n, c.ba);
  const f = new Ex(e, n, a);
  return (
    t.xa.set(e, f),
    t.Oa.has(n) ? t.Oa.get(n).push(e) : t.Oa.set(n, [e]),
    c.snapshot
  );
}
async function bx(t, e, n) {
  const i = X(t),
    r = i.xa.get(e),
    s = i.Oa.get(r.targetId);
  if (s.length > 1)
    return (
      i.Oa.set(
        r.targetId,
        s.filter((a) => !ah(a, e))
      ),
      void i.xa.delete(e)
    );
  i.isPrimaryClient
    ? (i.sharedClientState.removeLocalQueryTarget(r.targetId),
      i.sharedClientState.isActiveQueryTarget(r.targetId) ||
        (await cm(i.localStore, r.targetId, !1)
          .then(() => {
            i.sharedClientState.clearQueryState(r.targetId),
              n && Fp(i.remoteStore, r.targetId),
              fm(i, r.targetId);
          })
          .catch(fa)))
    : (fm(i, r.targetId), await cm(i.localStore, r.targetId, !0));
}
async function Ix(t, e) {
  const n = X(t),
    i = n.xa.get(e),
    r = n.Oa.get(i.targetId);
  n.isPrimaryClient &&
    r.length === 1 &&
    (n.sharedClientState.removeLocalQueryTarget(i.targetId),
    Fp(n.remoteStore, i.targetId));
}
async function Cx(t, e, n) {
  const i = Vx(t);
  try {
    const r = await (function (a, l) {
      const u = X(a),
        c = He.now(),
        f = l.reduce((_, b) => _.add(b.key), ie());
      let p, m;
      return u.persistence
        .runTransaction("Locally write mutations", "readwrite", (_) => {
          let b = ci(),
            C = ie();
          return u.hs
            .getEntries(_, f)
            .next((D) => {
              (b = D),
                b.forEach((E, v) => {
                  v.isValidDocument() || (C = C.add(E));
                });
            })
            .next(() => u.localDocuments.getOverlayedDocuments(_, b))
            .next((D) => {
              p = D;
              const E = [];
              for (const v of l) {
                const w = QM(v, p.get(v.key).overlayedDocument);
                w != null &&
                  E.push(new ar(v.key, w, Hw(w.value.mapValue), Rn.exists(!0)));
              }
              return u.mutationQueue.addMutationBatch(_, c, E, l);
            })
            .next((D) => {
              m = D;
              const E = D.applyToLocalDocumentSet(p, C);
              return u.documentOverlayCache.saveOverlays(_, D.batchId, E);
            });
        })
        .then(() => ({ batchId: m.batchId, changes: eS(p) }));
    })(i.localStore, e);
    i.sharedClientState.addPendingMutation(r.batchId),
      (function (a, l, u) {
        let c = a.qa[a.currentUser.toKey()];
        c || (c = new De(se)),
          (c = c.insert(l, u)),
          (a.qa[a.currentUser.toKey()] = c);
      })(i, r.batchId, n),
      await Al(i, r.changes),
      await dh(i.remoteStore);
  } catch (r) {
    const s = Yp(r, "Failed to persist write");
    n.reject(s);
  }
}
async function VS(t, e) {
  const n = X(t);
  try {
    const i = await Hk(n.localStore, e);
    e.targetChanges.forEach((r, s) => {
      const a = n.Ba.get(s);
      a &&
        (ce(
          r.addedDocuments.size +
            r.modifiedDocuments.size +
            r.removedDocuments.size <=
            1
        ),
        r.addedDocuments.size > 0
          ? (a.Fa = !0)
          : r.modifiedDocuments.size > 0
          ? ce(a.Fa)
          : r.removedDocuments.size > 0 && (ce(a.Fa), (a.Fa = !1)));
    }),
      await Al(n, i, e);
  } catch (i) {
    await fa(i);
  }
}
function t0(t, e, n) {
  const i = X(t);
  if ((i.isPrimaryClient && n === 0) || (!i.isPrimaryClient && n === 1)) {
    const r = [];
    i.xa.forEach((s, a) => {
      const l = a.view.ea(e);
      l.snapshot && r.push(l.snapshot);
    }),
      (function (a, l) {
        const u = X(a);
        u.onlineState = l;
        let c = !1;
        u.queries.forEach((f, p) => {
          for (const m of p.J_) m.ea(l) && (c = !0);
        }),
          c && Zp(u);
      })(i.eventManager, e),
      r.length && i.Ma.R_(r),
      (i.onlineState = e),
      i.isPrimaryClient && i.sharedClientState.setOnlineState(e);
  }
}
async function Dx(t, e, n) {
  const i = X(t);
  i.sharedClientState.updateQueryState(e, "rejected", n);
  const r = i.Ba.get(e),
    s = r && r.key;
  if (s) {
    let a = new De(G.comparator);
    a = a.insert(s, ft.newNoDocument(s, $.min()));
    const l = ie().add(s),
      u = new ch($.min(), new Map(), new De(se), a, l);
    await VS(i, u), (i.La = i.La.remove(s)), i.Ba.delete(e), eg(i);
  } else
    await cm(i.localStore, e, !1)
      .then(() => fm(i, e, n))
      .catch(fa);
}
async function Ox(t, e) {
  const n = X(t),
    i = e.batch.batchId;
  try {
    const r = await qk(n.localStore, e);
    US(n, i, null),
      PS(n, i),
      n.sharedClientState.updateMutationState(i, "acknowledged"),
      await Al(n, r);
  } catch (r) {
    await fa(r);
  }
}
async function Nx(t, e, n) {
  const i = X(t);
  try {
    const r = await (function (a, l) {
      const u = X(a);
      return u.persistence.runTransaction(
        "Reject batch",
        "readwrite-primary",
        (c) => {
          let f;
          return u.mutationQueue
            .lookupMutationBatch(c, l)
            .next(
              (p) => (
                ce(p !== null),
                (f = p.keys()),
                u.mutationQueue.removeMutationBatch(c, p)
              )
            )
            .next(() => u.mutationQueue.performConsistencyCheck(c))
            .next(() =>
              u.documentOverlayCache.removeOverlaysForBatchId(c, f, l)
            )
            .next(() =>
              u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c, f)
            )
            .next(() => u.localDocuments.getDocuments(c, f));
        }
      );
    })(i.localStore, e);
    US(i, e, n),
      PS(i, e),
      i.sharedClientState.updateMutationState(e, "rejected", n),
      await Al(i, r);
  } catch (r) {
    await fa(r);
  }
}
function PS(t, e) {
  (t.Qa.get(e) || []).forEach((n) => {
    n.resolve();
  }),
    t.Qa.delete(e);
}
function US(t, e, n) {
  const i = X(t);
  let r = i.qa[i.currentUser.toKey()];
  if (r) {
    const s = r.get(e);
    s && (n ? s.reject(n) : s.resolve(), (r = r.remove(e))),
      (i.qa[i.currentUser.toKey()] = r);
  }
}
function fm(t, e, n = null) {
  t.sharedClientState.removeLocalQueryTarget(e);
  for (const i of t.Oa.get(e)) t.xa.delete(i), n && t.Ma.Wa(i, n);
  t.Oa.delete(e),
    t.isPrimaryClient &&
      t.ka.yr(e).forEach((i) => {
        t.ka.containsKey(i) || LS(t, i);
      });
}
function LS(t, e) {
  t.Na.delete(e.path.canonicalString());
  const n = t.La.get(e);
  n !== null &&
    (Fp(t.remoteStore, n), (t.La = t.La.remove(e)), t.Ba.delete(n), eg(t));
}
function n0(t, e, n) {
  for (const i of n)
    i instanceof MS
      ? (t.ka.addReference(i.key, e), Mx(t, i))
      : i instanceof kS
      ? (H("SyncEngine", "Document no longer in limbo: " + i.key),
        t.ka.removeReference(i.key, e),
        t.ka.containsKey(i.key) || LS(t, i.key))
      : Q();
}
function Mx(t, e) {
  const n = e.key,
    i = n.path.canonicalString();
  t.La.get(n) ||
    t.Na.has(i) ||
    (H("SyncEngine", "New document in limbo: " + n), t.Na.add(i), eg(t));
}
function eg(t) {
  for (; t.Na.size > 0 && t.La.size < t.maxConcurrentLimboResolutions; ) {
    const e = t.Na.values().next().value;
    t.Na.delete(e);
    const n = new G(ve.fromString(e)),
      i = t.Ka.next();
    t.Ba.set(i, new Tx(n)),
      (t.La = t.La.insert(n, i)),
      bS(
        t.remoteStore,
        new ki(Sn(sh(n.path)), i, "TargetPurposeLimboResolution", nh.oe)
      );
  }
}
async function Al(t, e, n) {
  const i = X(t),
    r = [],
    s = [],
    a = [];
  i.xa.isEmpty() ||
    (i.xa.forEach((l, u) => {
      a.push(
        i.Ua(u, e, n).then((c) => {
          var f;
          if ((c || n) && i.isPrimaryClient) {
            const p = c
              ? !c.fromCache
              : (f = n == null ? void 0 : n.targetChanges.get(u.targetId)) ===
                  null || f === void 0
              ? void 0
              : f.current;
            i.sharedClientState.updateQueryState(
              u.targetId,
              p ? "current" : "not-current"
            );
          }
          if (c) {
            r.push(c);
            const p = Hp.zi(u.targetId, c);
            s.push(p);
          }
        })
      );
    }),
    await Promise.all(a),
    i.Ma.R_(r),
    await (async function (u, c) {
      const f = X(u);
      try {
        await f.persistence.runTransaction(
          "notifyLocalViewChanges",
          "readwrite",
          (p) =>
            P.forEach(c, (m) =>
              P.forEach(m.Wi, (_) =>
                f.persistence.referenceDelegate.addReference(p, m.targetId, _)
              ).next(() =>
                P.forEach(m.Gi, (_) =>
                  f.persistence.referenceDelegate.removeReference(
                    p,
                    m.targetId,
                    _
                  )
                )
              )
            )
        );
      } catch (p) {
        if (!da(p)) throw p;
        H("LocalStore", "Failed to update sequence numbers: " + p);
      }
      for (const p of c) {
        const m = p.targetId;
        if (!p.fromCache) {
          const _ = f.us.get(m),
            b = _.snapshotVersion,
            C = _.withLastLimboFreeSnapshotVersion(b);
          f.us = f.us.insert(m, C);
        }
      }
    })(i.localStore, s));
}
async function kx(t, e) {
  const n = X(t);
  if (!n.currentUser.isEqual(e)) {
    H("SyncEngine", "User change. New user:", e.toKey());
    const i = await AS(n.localStore, e);
    (n.currentUser = e),
      (function (s, a) {
        s.Qa.forEach((l) => {
          l.forEach((u) => {
            u.reject(new F(L.CANCELLED, a));
          });
        }),
          s.Qa.clear();
      })(n, "'waitForPendingWrites' promise is rejected due to a user change."),
      n.sharedClientState.handleUserChange(
        e,
        i.removedBatchIds,
        i.addedBatchIds
      ),
      await Al(n, i.Ts);
  }
}
function xx(t, e) {
  const n = X(t),
    i = n.Ba.get(e);
  if (i && i.Fa) return ie().add(i.key);
  {
    let r = ie();
    const s = n.Oa.get(e);
    if (!s) return r;
    for (const a of s) {
      const l = n.xa.get(a);
      r = r.unionWith(l.view.fa);
    }
    return r;
  }
}
function BS(t) {
  const e = X(t);
  return (
    (e.remoteStore.remoteSyncer.applyRemoteEvent = VS.bind(null, e)),
    (e.remoteStore.remoteSyncer.getRemoteKeysForTarget = xx.bind(null, e)),
    (e.remoteStore.remoteSyncer.rejectListen = Dx.bind(null, e)),
    (e.Ma.R_ = _x.bind(null, e.eventManager)),
    (e.Ma.Wa = yx.bind(null, e.eventManager)),
    e
  );
}
function Vx(t) {
  const e = X(t);
  return (
    (e.remoteStore.remoteSyncer.applySuccessfulWrite = Ox.bind(null, e)),
    (e.remoteStore.remoteSyncer.rejectFailedWrite = Nx.bind(null, e)),
    e
  );
}
class Cc {
  constructor() {
    (this.kind = "memory"), (this.synchronizeTabs = !1);
  }
  async initialize(e) {
    (this.serializer = hh(e.databaseInfo.databaseId)),
      (this.sharedClientState = this.za(e)),
      (this.persistence = this.ja(e)),
      await this.persistence.start(),
      (this.localStore = this.Ha(e)),
      (this.gcScheduler = this.Ja(e, this.localStore)),
      (this.indexBackfillerScheduler = this.Ya(e, this.localStore));
  }
  Ja(e, n) {
    return null;
  }
  Ya(e, n) {
    return null;
  }
  Ha(e) {
    return jk(this.persistence, new Bk(), e.initialUser, this.serializer);
  }
  ja(e) {
    return new TS(qp.ei, this.serializer);
  }
  za(e) {
    return new $k();
  }
  async terminate() {
    var e, n;
    (e = this.gcScheduler) === null || e === void 0 || e.stop(),
      (n = this.indexBackfillerScheduler) === null || n === void 0 || n.stop(),
      this.sharedClientState.shutdown(),
      await this.persistence.shutdown();
  }
}
Cc.provider = { build: () => new Cc() };
class Px extends Cc {
  constructor(e) {
    super(), (this.cacheSizeBytes = e);
  }
  Ja(e, n) {
    ce(this.persistence.referenceDelegate instanceof bc);
    const i = this.persistence.referenceDelegate.garbageCollector;
    return new Sk(i, e.asyncQueue, n);
  }
  ja(e) {
    const n =
      this.cacheSizeBytes !== void 0
        ? bt.withCacheSize(this.cacheSizeBytes)
        : bt.DEFAULT;
    return new TS((i) => bc.ei(i, n), this.serializer);
  }
}
class dm {
  async initialize(e, n) {
    this.localStore ||
      ((this.localStore = e.localStore),
      (this.sharedClientState = e.sharedClientState),
      (this.datastore = this.createDatastore(n)),
      (this.remoteStore = this.createRemoteStore(n)),
      (this.eventManager = this.createEventManager(n)),
      (this.syncEngine = this.createSyncEngine(n, !e.synchronizeTabs)),
      (this.sharedClientState.onlineStateHandler = (i) =>
        t0(this.syncEngine, i, 1)),
      (this.remoteStore.remoteSyncer.handleCredentialChange = kx.bind(
        null,
        this.syncEngine
      )),
      await mx(this.remoteStore, this.syncEngine.isPrimaryClient));
  }
  createEventManager(e) {
    return (function () {
      return new gx();
    })();
  }
  createDatastore(e) {
    const n = hh(e.databaseInfo.databaseId),
      i = (function (s) {
        return new Zk(s);
      })(e.databaseInfo);
    return (function (s, a, l, u) {
      return new tx(s, a, l, u);
    })(e.authCredentials, e.appCheckCredentials, i, n);
  }
  createRemoteStore(e) {
    return (function (i, r, s, a, l) {
      return new ix(i, r, s, a, l);
    })(
      this.localStore,
      this.datastore,
      e.asyncQueue,
      (n) => t0(this.syncEngine, n, 0),
      (function () {
        return Xv.p() ? new Xv() : new Yk();
      })()
    );
  }
  createSyncEngine(e, n) {
    return (function (r, s, a, l, u, c, f) {
      const p = new Ax(r, s, a, l, u, c);
      return f && (p.$a = !0), p;
    })(
      this.localStore,
      this.remoteStore,
      this.eventManager,
      this.sharedClientState,
      e.initialUser,
      e.maxConcurrentLimboResolutions,
      n
    );
  }
  async terminate() {
    var e, n;
    await (async function (r) {
      const s = X(r);
      H("RemoteStore", "RemoteStore shutting down."),
        s.k_.add(5),
        await Tl(s),
        s.Q_.shutdown(),
        s.K_.set("Unknown");
    })(this.remoteStore),
      (e = this.datastore) === null || e === void 0 || e.terminate(),
      (n = this.eventManager) === null || n === void 0 || n.terminate();
  }
}
dm.provider = { build: () => new dm() };
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ /**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class tg {
  constructor(e) {
    (this.observer = e), (this.muted = !1);
  }
  next(e) {
    this.muted || (this.observer.next && this.Xa(this.observer.next, e));
  }
  error(e) {
    this.muted ||
      (this.observer.error
        ? this.Xa(this.observer.error, e)
        : ui("Uncaught Error in snapshot listener:", e.toString()));
  }
  eu() {
    this.muted = !0;
  }
  Xa(e, n) {
    setTimeout(() => {
      this.muted || e(n);
    }, 0);
  }
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class Ux {
  constructor(e, n, i, r, s) {
    (this.authCredentials = e),
      (this.appCheckCredentials = n),
      (this.asyncQueue = i),
      (this.databaseInfo = r),
      (this.user = ht.UNAUTHENTICATED),
      (this.clientId = zw.newId()),
      (this.authCredentialListener = () => Promise.resolve()),
      (this.appCheckCredentialListener = () => Promise.resolve()),
      (this._uninitializedComponentsProvider = s),
      this.authCredentials.start(i, async (a) => {
        H("FirestoreClient", "Received user=", a.uid),
          await this.authCredentialListener(a),
          (this.user = a);
      }),
      this.appCheckCredentials.start(
        i,
        (a) => (
          H("FirestoreClient", "Received new app check token=", a),
          this.appCheckCredentialListener(a, this.user)
        )
      );
  }
  get configuration() {
    return {
      asyncQueue: this.asyncQueue,
      databaseInfo: this.databaseInfo,
      clientId: this.clientId,
      authCredentials: this.authCredentials,
      appCheckCredentials: this.appCheckCredentials,
      initialUser: this.user,
      maxConcurrentLimboResolutions: 100,
    };
  }
  setCredentialChangeListener(e) {
    this.authCredentialListener = e;
  }
  setAppCheckTokenChangeListener(e) {
    this.appCheckCredentialListener = e;
  }
  terminate() {
    this.asyncQueue.enterRestrictedMode();
    const e = new ti();
    return (
      this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async () => {
        try {
          this._onlineComponents && (await this._onlineComponents.terminate()),
            this._offlineComponents &&
              (await this._offlineComponents.terminate()),
            this.authCredentials.shutdown(),
            this.appCheckCredentials.shutdown(),
            e.resolve();
        } catch (n) {
          const i = Yp(n, "Failed to shutdown persistence");
          e.reject(i);
        }
      }),
      e.promise
    );
  }
}
async function Kf(t, e) {
  t.asyncQueue.verifyOperationInProgress(),
    H("FirestoreClient", "Initializing OfflineComponentProvider");
  const n = t.configuration;
  await e.initialize(n);
  let i = n.initialUser;
  t.setCredentialChangeListener(async (r) => {
    i.isEqual(r) || (await AS(e.localStore, r), (i = r));
  }),
    e.persistence.setDatabaseDeletedListener(() => t.terminate()),
    (t._offlineComponents = e);
}
async function i0(t, e) {
  t.asyncQueue.verifyOperationInProgress();
  const n = await Lx(t);
  H("FirestoreClient", "Initializing OnlineComponentProvider"),
    await e.initialize(n, t.configuration),
    t.setCredentialChangeListener((i) => Wv(e.remoteStore, i)),
    t.setAppCheckTokenChangeListener((i, r) => Wv(e.remoteStore, r)),
    (t._onlineComponents = e);
}
async function Lx(t) {
  if (!t._offlineComponents)
    if (t._uninitializedComponentsProvider) {
      H("FirestoreClient", "Using user provided OfflineComponentProvider");
      try {
        await Kf(t, t._uninitializedComponentsProvider._offline);
      } catch (e) {
        const n = e;
        if (
          !(function (r) {
            return r.name === "FirebaseError"
              ? r.code === L.FAILED_PRECONDITION || r.code === L.UNIMPLEMENTED
              : !(typeof DOMException < "u" && r instanceof DOMException) ||
                  r.code === 22 ||
                  r.code === 20 ||
                  r.code === 11;
          })(n)
        )
          throw n;
        $s(
          "Error using user provided cache. Falling back to memory cache: " + n
        ),
          await Kf(t, new Cc());
      }
    } else
      H("FirestoreClient", "Using default OfflineComponentProvider"),
        await Kf(t, new Px(void 0));
  return t._offlineComponents;
}
async function zS(t) {
  return (
    t._onlineComponents ||
      (t._uninitializedComponentsProvider
        ? (H("FirestoreClient", "Using user provided OnlineComponentProvider"),
          await i0(t, t._uninitializedComponentsProvider._online))
        : (H("FirestoreClient", "Using default OnlineComponentProvider"),
          await i0(t, new dm()))),
    t._onlineComponents
  );
}
function Bx(t) {
  return zS(t).then((e) => e.syncEngine);
}
async function Dc(t) {
  const e = await zS(t),
    n = e.eventManager;
  return (
    (n.onListen = wx.bind(null, e.syncEngine)),
    (n.onUnlisten = bx.bind(null, e.syncEngine)),
    (n.onFirstRemoteStoreListen = Sx.bind(null, e.syncEngine)),
    (n.onLastRemoteStoreUnlisten = Ix.bind(null, e.syncEngine)),
    n
  );
}
function zx(t, e, n = {}) {
  const i = new ti();
  return (
    t.asyncQueue.enqueueAndForget(async () =>
      (function (s, a, l, u, c) {
        const f = new tg({
            next: (m) => {
              f.eu(), a.enqueueAndForget(() => Wp(s, p));
              const _ = m.docs.has(l);
              !_ && m.fromCache
                ? c.reject(
                    new F(
                      L.UNAVAILABLE,
                      "Failed to get document because the client is offline."
                    )
                  )
                : _ && m.fromCache && u && u.source === "server"
                ? c.reject(
                    new F(
                      L.UNAVAILABLE,
                      'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)'
                    )
                  )
                : c.resolve(m);
            },
            error: (m) => c.reject(m),
          }),
          p = new Jp(sh(l.path), f, { includeMetadataChanges: !0, ua: !0 });
        return Xp(s, p);
      })(await Dc(t), t.asyncQueue, e, n, i)
    ),
    i.promise
  );
}
function jx(t, e, n = {}) {
  const i = new ti();
  return (
    t.asyncQueue.enqueueAndForget(async () =>
      (function (s, a, l, u, c) {
        const f = new tg({
            next: (m) => {
              f.eu(),
                a.enqueueAndForget(() => Wp(s, p)),
                m.fromCache && u.source === "server"
                  ? c.reject(
                      new F(
                        L.UNAVAILABLE,
                        'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)'
                      )
                    )
                  : c.resolve(m);
            },
            error: (m) => c.reject(m),
          }),
          p = new Jp(l, f, { includeMetadataChanges: !0, ua: !0 });
        return Xp(s, p);
      })(await Dc(t), t.asyncQueue, e, n, i)
    ),
    i.promise
  );
}
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ function jS(t) {
  const e = {};
  return (
    t.timeoutSeconds !== void 0 && (e.timeoutSeconds = t.timeoutSeconds), e
  );
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ const r0 = new Map();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ function qS(t, e, n) {
  if (!n)
    throw new F(
      L.INVALID_ARGUMENT,
      `Function ${t}() cannot be called with an empty ${e}.`
    );
}
function qx(t, e, n, i) {
  if (e === !0 && i === !0)
    throw new F(L.INVALID_ARGUMENT, `${t} and ${n} cannot be used together.`);
}
function s0(t) {
  if (!G.isDocumentKey(t))
    throw new F(
      L.INVALID_ARGUMENT,
      `Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`
    );
}
function a0(t) {
  if (G.isDocumentKey(t))
    throw new F(
      L.INVALID_ARGUMENT,
      `Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`
    );
}
function mh(t) {
  if (t === void 0) return "undefined";
  if (t === null) return "null";
  if (typeof t == "string")
    return t.length > 20 && (t = `${t.substring(0, 20)}...`), JSON.stringify(t);
  if (typeof t == "number" || typeof t == "boolean") return "" + t;
  if (typeof t == "object") {
    if (t instanceof Array) return "an array";
    {
      const e = (function (i) {
        return i.constructor ? i.constructor.name : null;
      })(t);
      return e ? `a custom ${e} object` : "an object";
    }
  }
  return typeof t == "function" ? "a function" : Q();
}
function Jt(t, e) {
  if (("_delegate" in t && (t = t._delegate), !(t instanceof e))) {
    if (e.name === t.constructor.name)
      throw new F(
        L.INVALID_ARGUMENT,
        "Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?"
      );
    {
      const n = mh(t);
      throw new F(
        L.INVALID_ARGUMENT,
        `Expected type '${e.name}', but it was: ${n}`
      );
    }
  }
  return t;
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class o0 {
  constructor(e) {
    var n, i;
    if (e.host === void 0) {
      if (e.ssl !== void 0)
        throw new F(
          L.INVALID_ARGUMENT,
          "Can't provide ssl option if host option is not set"
        );
      (this.host = "firestore.googleapis.com"), (this.ssl = !0);
    } else
      (this.host = e.host),
        (this.ssl = (n = e.ssl) === null || n === void 0 || n);
    if (
      ((this.credentials = e.credentials),
      (this.ignoreUndefinedProperties = !!e.ignoreUndefinedProperties),
      (this.localCache = e.localCache),
      e.cacheSizeBytes === void 0)
    )
      this.cacheSizeBytes = 41943040;
    else {
      if (e.cacheSizeBytes !== -1 && e.cacheSizeBytes < 1048576)
        throw new F(
          L.INVALID_ARGUMENT,
          "cacheSizeBytes must be at least 1048576"
        );
      this.cacheSizeBytes = e.cacheSizeBytes;
    }
    qx(
      "experimentalForceLongPolling",
      e.experimentalForceLongPolling,
      "experimentalAutoDetectLongPolling",
      e.experimentalAutoDetectLongPolling
    ),
      (this.experimentalForceLongPolling = !!e.experimentalForceLongPolling),
      this.experimentalForceLongPolling
        ? (this.experimentalAutoDetectLongPolling = !1)
        : e.experimentalAutoDetectLongPolling === void 0
        ? (this.experimentalAutoDetectLongPolling = !0)
        : (this.experimentalAutoDetectLongPolling =
            !!e.experimentalAutoDetectLongPolling),
      (this.experimentalLongPollingOptions = jS(
        (i = e.experimentalLongPollingOptions) !== null && i !== void 0 ? i : {}
      )),
      (function (s) {
        if (s.timeoutSeconds !== void 0) {
          if (isNaN(s.timeoutSeconds))
            throw new F(
              L.INVALID_ARGUMENT,
              `invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`
            );
          if (s.timeoutSeconds < 5)
            throw new F(
              L.INVALID_ARGUMENT,
              `invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`
            );
          if (s.timeoutSeconds > 30)
            throw new F(
              L.INVALID_ARGUMENT,
              `invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`
            );
        }
      })(this.experimentalLongPollingOptions),
      (this.useFetchStreams = !!e.useFetchStreams);
  }
  isEqual(e) {
    return (
      this.host === e.host &&
      this.ssl === e.ssl &&
      this.credentials === e.credentials &&
      this.cacheSizeBytes === e.cacheSizeBytes &&
      this.experimentalForceLongPolling === e.experimentalForceLongPolling &&
      this.experimentalAutoDetectLongPolling ===
        e.experimentalAutoDetectLongPolling &&
      (function (i, r) {
        return i.timeoutSeconds === r.timeoutSeconds;
      })(
        this.experimentalLongPollingOptions,
        e.experimentalLongPollingOptions
      ) &&
      this.ignoreUndefinedProperties === e.ignoreUndefinedProperties &&
      this.useFetchStreams === e.useFetchStreams
    );
  }
}
class ph {
  constructor(e, n, i, r) {
    (this._authCredentials = e),
      (this._appCheckCredentials = n),
      (this._databaseId = i),
      (this._app = r),
      (this.type = "firestore-lite"),
      (this._persistenceKey = "(lite)"),
      (this._settings = new o0({})),
      (this._settingsFrozen = !1),
      (this._terminateTask = "notTerminated");
  }
  get app() {
    if (!this._app)
      throw new F(
        L.FAILED_PRECONDITION,
        "Firestore was not initialized using the Firebase SDK. 'app' is not available"
      );
    return this._app;
  }
  get _initialized() {
    return this._settingsFrozen;
  }
  get _terminated() {
    return this._terminateTask !== "notTerminated";
  }
  _setSettings(e) {
    if (this._settingsFrozen)
      throw new F(
        L.FAILED_PRECONDITION,
        "Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object."
      );
    (this._settings = new o0(e)),
      e.credentials !== void 0 &&
        (this._authCredentials = (function (i) {
          if (!i) return new eM();
          switch (i.type) {
            case "firstParty":
              return new rM(
                i.sessionIndex || "0",
                i.iamToken || null,
                i.authTokenFactory || null
              );
            case "provider":
              return i.client;
            default:
              throw new F(
                L.INVALID_ARGUMENT,
                "makeAuthCredentialsProvider failed due to invalid credential type"
              );
          }
        })(e.credentials));
  }
  _getSettings() {
    return this._settings;
  }
  _freezeSettings() {
    return (this._settingsFrozen = !0), this._settings;
  }
  _delete() {
    return (
      this._terminateTask === "notTerminated" &&
        (this._terminateTask = this._terminate()),
      this._terminateTask
    );
  }
  async _restart() {
    this._terminateTask === "notTerminated"
      ? await this._terminate()
      : (this._terminateTask = "notTerminated");
  }
  toJSON() {
    return {
      app: this._app,
      databaseId: this._databaseId,
      settings: this._settings,
    };
  }
  _terminate() {
    return (
      (function (n) {
        const i = r0.get(n);
        i &&
          (H("ComponentProvider", "Removing Datastore"),
          r0.delete(n),
          i.terminate());
      })(this),
      Promise.resolve()
    );
  }
}
function Hx(t, e, n, i = {}) {
  var r;
  const s = (t = Jt(t, ph))._getSettings(),
    a = `${e}:${n}`;
  if (
    (s.host !== "firestore.googleapis.com" &&
      s.host !== a &&
      $s(
        "Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."
      ),
    t._setSettings(Object.assign(Object.assign({}, s), { host: a, ssl: !1 })),
    i.mockUserToken)
  ) {
    let l, u;
    if (typeof i.mockUserToken == "string")
      (l = i.mockUserToken), (u = ht.MOCK_USER);
    else {
      l = wA(
        i.mockUserToken,
        (r = t._app) === null || r === void 0 ? void 0 : r.options.projectId
      );
      const c = i.mockUserToken.sub || i.mockUserToken.user_id;
      if (!c)
        throw new F(
          L.INVALID_ARGUMENT,
          "mockUserToken must contain 'sub' or 'user_id' field!"
        );
      u = new ht(c);
    }
    t._authCredentials = new tM(new Bw(l, u));
  }
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class Xr {
  constructor(e, n, i) {
    (this.converter = n),
      (this._query = i),
      (this.type = "query"),
      (this.firestore = e);
  }
  withConverter(e) {
    return new Xr(this.firestore, e, this._query);
  }
}
class pt {
  constructor(e, n, i) {
    (this.converter = n),
      (this._key = i),
      (this.type = "document"),
      (this.firestore = e);
  }
  get _path() {
    return this._key.path;
  }
  get id() {
    return this._key.path.lastSegment();
  }
  get path() {
    return this._key.path.canonicalString();
  }
  get parent() {
    return new Fi(this.firestore, this.converter, this._key.path.popLast());
  }
  withConverter(e) {
    return new pt(this.firestore, e, this._key);
  }
}
class Fi extends Xr {
  constructor(e, n, i) {
    super(e, n, sh(i)), (this._path = i), (this.type = "collection");
  }
  get id() {
    return this._query.path.lastSegment();
  }
  get path() {
    return this._query.path.canonicalString();
  }
  get parent() {
    const e = this._path.popLast();
    return e.isEmpty() ? null : new pt(this.firestore, null, new G(e));
  }
  withConverter(e) {
    return new Fi(this.firestore, e, this._path);
  }
}
function Fx(t, e, ...n) {
  if (((t = Re(t)), qS("collection", "path", e), t instanceof ph)) {
    const i = ve.fromString(e, ...n);
    return a0(i), new Fi(t, null, i);
  }
  {
    if (!(t instanceof pt || t instanceof Fi))
      throw new F(
        L.INVALID_ARGUMENT,
        "Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore"
      );
    const i = t._path.child(ve.fromString(e, ...n));
    return a0(i), new Fi(t.firestore, null, i);
  }
}
function an(t, e, ...n) {
  if (
    ((t = Re(t)),
    arguments.length === 1 && (e = zw.newId()),
    qS("doc", "path", e),
    t instanceof ph)
  ) {
    const i = ve.fromString(e, ...n);
    return s0(i), new pt(t, null, new G(i));
  }
  {
    if (!(t instanceof pt || t instanceof Fi))
      throw new F(
        L.INVALID_ARGUMENT,
        "Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore"
      );
    const i = t._path.child(ve.fromString(e, ...n));
    return (
      s0(i), new pt(t.firestore, t instanceof Fi ? t.converter : null, new G(i))
    );
  }
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class l0 {
  constructor(e = Promise.resolve()) {
    (this.Iu = []),
      (this.Eu = !1),
      (this.du = []),
      (this.Au = null),
      (this.Ru = !1),
      (this.Vu = !1),
      (this.mu = []),
      (this.r_ = new SS(this, "async_queue_retry")),
      (this.fu = () => {
        const i = Gf();
        i &&
          H("AsyncQueue", "Visibility state changed to " + i.visibilityState),
          this.r_.Jo();
      }),
      (this.gu = e);
    const n = Gf();
    n &&
      typeof n.addEventListener == "function" &&
      n.addEventListener("visibilitychange", this.fu);
  }
  get isShuttingDown() {
    return this.Eu;
  }
  enqueueAndForget(e) {
    this.enqueue(e);
  }
  enqueueAndForgetEvenWhileRestricted(e) {
    this.pu(), this.yu(e);
  }
  enterRestrictedMode(e) {
    if (!this.Eu) {
      (this.Eu = !0), (this.Vu = e || !1);
      const n = Gf();
      n &&
        typeof n.removeEventListener == "function" &&
        n.removeEventListener("visibilitychange", this.fu);
    }
  }
  enqueue(e) {
    if ((this.pu(), this.Eu)) return new Promise(() => {});
    const n = new ti();
    return this.yu(() =>
      this.Eu && this.Vu
        ? Promise.resolve()
        : (e().then(n.resolve, n.reject), n.promise)
    ).then(() => n.promise);
  }
  enqueueRetryable(e) {
    this.enqueueAndForget(() => (this.Iu.push(e), this.wu()));
  }
  async wu() {
    if (this.Iu.length !== 0) {
      try {
        await this.Iu[0](), this.Iu.shift(), this.r_.reset();
      } catch (e) {
        if (!da(e)) throw e;
        H("AsyncQueue", "Operation failed with retryable error: " + e);
      }
      this.Iu.length > 0 && this.r_.jo(() => this.wu());
    }
  }
  yu(e) {
    const n = this.gu.then(
      () => (
        (this.Ru = !0),
        e()
          .catch((i) => {
            (this.Au = i), (this.Ru = !1);
            const r = (function (a) {
              let l = a.message || "";
              return (
                a.stack &&
                  (l = a.stack.includes(a.message)
                    ? a.stack
                    : a.message +
                      `
` +
                      a.stack),
                l
              );
            })(i);
            throw (ui("INTERNAL UNHANDLED ERROR: ", r), i);
          })
          .then((i) => ((this.Ru = !1), i))
      )
    );
    return (this.gu = n), n;
  }
  enqueueAfterDelay(e, n, i) {
    this.pu(), this.mu.indexOf(e) > -1 && (n = 0);
    const r = $p.createAndSchedule(this, e, n, i, (s) => this.Su(s));
    return this.du.push(r), r;
  }
  pu() {
    this.Au && Q();
  }
  verifyOperationInProgress() {}
  async bu() {
    let e;
    do (e = this.gu), await e;
    while (e !== this.gu);
  }
  Du(e) {
    for (const n of this.du) if (n.timerId === e) return !0;
    return !1;
  }
  vu(e) {
    return this.bu().then(() => {
      this.du.sort((n, i) => n.targetTimeMs - i.targetTimeMs);
      for (const n of this.du)
        if ((n.skipDelay(), e !== "all" && n.timerId === e)) break;
      return this.bu();
    });
  }
  Cu(e) {
    this.mu.push(e);
  }
  Su(e) {
    const n = this.du.indexOf(e);
    this.du.splice(n, 1);
  }
}
function u0(t) {
  return (function (n, i) {
    if (typeof n != "object" || n === null) return !1;
    const r = n;
    for (const s of i) if (s in r && typeof r[s] == "function") return !0;
    return !1;
  })(t, ["next", "error", "complete"]);
}
class Br extends ph {
  constructor(e, n, i, r) {
    super(e, n, i, r),
      (this.type = "firestore"),
      (this._queue = new l0()),
      (this._persistenceKey = (r == null ? void 0 : r.name) || "[DEFAULT]");
  }
  async _terminate() {
    if (this._firestoreClient) {
      const e = this._firestoreClient.terminate();
      (this._queue = new l0(e)), (this._firestoreClient = void 0), await e;
    }
  }
}
function Gx(t, e) {
  const n = typeof t == "object" ? t : _p(),
    i = typeof t == "string" ? t : e || "(default)",
    r = Wc(n, "firestore").getImmediate({ identifier: i });
  if (!r._initialized) {
    const s = EA("firestore");
    s && Hx(r, ...s);
  }
  return r;
}
function gh(t) {
  if (t._terminated)
    throw new F(
      L.FAILED_PRECONDITION,
      "The client has already been terminated."
    );
  return t._firestoreClient || Kx(t), t._firestoreClient;
}
function Kx(t) {
  var e, n, i;
  const r = t._freezeSettings(),
    s = (function (l, u, c, f) {
      return new vM(
        l,
        u,
        c,
        f.host,
        f.ssl,
        f.experimentalForceLongPolling,
        f.experimentalAutoDetectLongPolling,
        jS(f.experimentalLongPollingOptions),
        f.useFetchStreams
      );
    })(
      t._databaseId,
      ((e = t._app) === null || e === void 0 ? void 0 : e.options.appId) || "",
      t._persistenceKey,
      r
    );
  t._componentsProvider ||
    (!((n = r.localCache) === null || n === void 0) &&
      n._offlineComponentProvider &&
      !((i = r.localCache) === null || i === void 0) &&
      i._onlineComponentProvider &&
      (t._componentsProvider = {
        _offline: r.localCache._offlineComponentProvider,
        _online: r.localCache._onlineComponentProvider,
      })),
    (t._firestoreClient = new Ux(
      t._authCredentials,
      t._appCheckCredentials,
      t._queue,
      s,
      t._componentsProvider &&
        (function (l) {
          const u = l == null ? void 0 : l._online.build();
          return {
            _offline: l == null ? void 0 : l._offline.build(u),
            _online: u,
          };
        })(t._componentsProvider)
    ));
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class ta {
  constructor(e) {
    this._byteString = e;
  }
  static fromBase64String(e) {
    try {
      return new ta(at.fromBase64String(e));
    } catch (n) {
      throw new F(
        L.INVALID_ARGUMENT,
        "Failed to construct data from Base64 string: " + n
      );
    }
  }
  static fromUint8Array(e) {
    return new ta(at.fromUint8Array(e));
  }
  toBase64() {
    return this._byteString.toBase64();
  }
  toUint8Array() {
    return this._byteString.toUint8Array();
  }
  toString() {
    return "Bytes(base64: " + this.toBase64() + ")";
  }
  isEqual(e) {
    return this._byteString.isEqual(e._byteString);
  }
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class _h {
  constructor(...e) {
    for (let n = 0; n < e.length; ++n)
      if (e[n].length === 0)
        throw new F(
          L.INVALID_ARGUMENT,
          "Invalid field name at argument $(i + 1). Field names must not be empty."
        );
    this._internalPath = new rt(e);
  }
  isEqual(e) {
    return this._internalPath.isEqual(e._internalPath);
  }
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class wl {
  constructor(e) {
    this._methodName = e;
  }
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class ng {
  constructor(e, n) {
    if (!isFinite(e) || e < -90 || e > 90)
      throw new F(
        L.INVALID_ARGUMENT,
        "Latitude must be a number between -90 and 90, but was: " + e
      );
    if (!isFinite(n) || n < -180 || n > 180)
      throw new F(
        L.INVALID_ARGUMENT,
        "Longitude must be a number between -180 and 180, but was: " + n
      );
    (this._lat = e), (this._long = n);
  }
  get latitude() {
    return this._lat;
  }
  get longitude() {
    return this._long;
  }
  isEqual(e) {
    return this._lat === e._lat && this._long === e._long;
  }
  toJSON() {
    return { latitude: this._lat, longitude: this._long };
  }
  _compareTo(e) {
    return se(this._lat, e._lat) || se(this._long, e._long);
  }
}
/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class ig {
  constructor(e) {
    this._values = (e || []).map((n) => n);
  }
  toArray() {
    return this._values.map((e) => e);
  }
  isEqual(e) {
    return (function (i, r) {
      if (i.length !== r.length) return !1;
      for (let s = 0; s < i.length; ++s) if (i[s] !== r[s]) return !1;
      return !0;
    })(this._values, e._values);
  }
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ const Qx = /^__.*__$/;
class $x {
  constructor(e, n, i) {
    (this.data = e), (this.fieldMask = n), (this.fieldTransforms = i);
  }
  toMutation(e, n) {
    return this.fieldMask !== null
      ? new ar(e, this.data, this.fieldMask, n, this.fieldTransforms)
      : new vl(e, this.data, n, this.fieldTransforms);
  }
}
class HS {
  constructor(e, n, i) {
    (this.data = e), (this.fieldMask = n), (this.fieldTransforms = i);
  }
  toMutation(e, n) {
    return new ar(e, this.data, this.fieldMask, n, this.fieldTransforms);
  }
}
function FS(t) {
  switch (t) {
    case 0:
    case 2:
    case 1:
      return !0;
    case 3:
    case 4:
      return !1;
    default:
      throw Q();
  }
}
class yh {
  constructor(e, n, i, r, s, a) {
    (this.settings = e),
      (this.databaseId = n),
      (this.serializer = i),
      (this.ignoreUndefinedProperties = r),
      s === void 0 && this.Fu(),
      (this.fieldTransforms = s || []),
      (this.fieldMask = a || []);
  }
  get path() {
    return this.settings.path;
  }
  get Mu() {
    return this.settings.Mu;
  }
  xu(e) {
    return new yh(
      Object.assign(Object.assign({}, this.settings), e),
      this.databaseId,
      this.serializer,
      this.ignoreUndefinedProperties,
      this.fieldTransforms,
      this.fieldMask
    );
  }
  Ou(e) {
    var n;
    const i = (n = this.path) === null || n === void 0 ? void 0 : n.child(e),
      r = this.xu({ path: i, Nu: !1 });
    return r.Lu(e), r;
  }
  Bu(e) {
    var n;
    const i = (n = this.path) === null || n === void 0 ? void 0 : n.child(e),
      r = this.xu({ path: i, Nu: !1 });
    return r.Fu(), r;
  }
  ku(e) {
    return this.xu({ path: void 0, Nu: !0 });
  }
  qu(e) {
    return Oc(
      e,
      this.settings.methodName,
      this.settings.Qu || !1,
      this.path,
      this.settings.Ku
    );
  }
  contains(e) {
    return (
      this.fieldMask.find((n) => e.isPrefixOf(n)) !== void 0 ||
      this.fieldTransforms.find((n) => e.isPrefixOf(n.field)) !== void 0
    );
  }
  Fu() {
    if (this.path)
      for (let e = 0; e < this.path.length; e++) this.Lu(this.path.get(e));
  }
  Lu(e) {
    if (e.length === 0) throw this.qu("Document fields must not be empty");
    if (FS(this.Mu) && Qx.test(e))
      throw this.qu('Document fields cannot begin and end with "__"');
  }
}
class Yx {
  constructor(e, n, i) {
    (this.databaseId = e),
      (this.ignoreUndefinedProperties = n),
      (this.serializer = i || hh(e));
  }
  $u(e, n, i, r = !1) {
    return new yh(
      { Mu: e, methodName: n, Ku: i, path: rt.emptyPath(), Nu: !1, Qu: r },
      this.databaseId,
      this.serializer,
      this.ignoreUndefinedProperties
    );
  }
}
function rg(t) {
  const e = t._freezeSettings(),
    n = hh(t._databaseId);
  return new Yx(t._databaseId, !!e.ignoreUndefinedProperties, n);
}
function Xx(t, e, n, i, r, s = {}) {
  const a = t.$u(s.merge || s.mergeFields ? 2 : 0, e, n, r);
  og("Data must be an object, but it was:", a, i);
  const l = GS(i, a);
  let u, c;
  if (s.merge) (u = new Ut(a.fieldMask)), (c = a.fieldTransforms);
  else if (s.mergeFields) {
    const f = [];
    for (const p of s.mergeFields) {
      const m = mm(e, p, n);
      if (!a.contains(m))
        throw new F(
          L.INVALID_ARGUMENT,
          `Field '${m}' is specified in your field mask but missing from your input data.`
        );
      QS(f, m) || f.push(m);
    }
    (u = new Ut(f)), (c = a.fieldTransforms.filter((p) => u.covers(p.field)));
  } else (u = null), (c = a.fieldTransforms);
  return new $x(new It(l), u, c);
}
class vh extends wl {
  _toFieldTransform(e) {
    if (e.Mu !== 2)
      throw e.Mu === 1
        ? e.qu(
            `${this._methodName}() can only appear at the top level of your update data`
          )
        : e.qu(
            `${this._methodName}() cannot be used with set() unless you pass {merge:true}`
          );
    return e.fieldMask.push(e.path), null;
  }
  isEqual(e) {
    return e instanceof vh;
  }
}
function Wx(t, e, n) {
  return new yh(
    { Mu: 3, Ku: e.settings.Ku, methodName: t._methodName, Nu: n },
    e.databaseId,
    e.serializer,
    e.ignoreUndefinedProperties
  );
}
class sg extends wl {
  _toFieldTransform(e) {
    return new oS(e.path, new Yo());
  }
  isEqual(e) {
    return e instanceof sg;
  }
}
class ag extends wl {
  constructor(e, n) {
    super(e), (this.Uu = n);
  }
  _toFieldTransform(e) {
    const n = Wx(this, e, !0),
      i = this.Uu.map((s) => pa(s, n)),
      r = new Zs(i);
    return new oS(e.path, r);
  }
  isEqual(e) {
    return e instanceof ag && qo(this.Uu, e.Uu);
  }
}
function Zx(t, e, n, i) {
  const r = t.$u(1, e, n);
  og("Data must be an object, but it was:", r, i);
  const s = [],
    a = It.empty();
  sr(i, (u, c) => {
    const f = lg(e, u, n);
    c = Re(c);
    const p = r.Bu(f);
    if (c instanceof vh) s.push(f);
    else {
      const m = pa(c, p);
      m != null && (s.push(f), a.set(f, m));
    }
  });
  const l = new Ut(s);
  return new HS(a, l, r.fieldTransforms);
}
function Jx(t, e, n, i, r, s) {
  const a = t.$u(1, e, n),
    l = [mm(e, i, n)],
    u = [r];
  if (s.length % 2 != 0)
    throw new F(
      L.INVALID_ARGUMENT,
      `Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`
    );
  for (let m = 0; m < s.length; m += 2) l.push(mm(e, s[m])), u.push(s[m + 1]);
  const c = [],
    f = It.empty();
  for (let m = l.length - 1; m >= 0; --m)
    if (!QS(c, l[m])) {
      const _ = l[m];
      let b = u[m];
      b = Re(b);
      const C = a.Bu(_);
      if (b instanceof vh) c.push(_);
      else {
        const D = pa(b, C);
        D != null && (c.push(_), f.set(_, D));
      }
    }
  const p = new Ut(c);
  return new HS(f, p, a.fieldTransforms);
}
function eV(t, e, n, i = !1) {
  return pa(n, t.$u(i ? 4 : 3, e));
}
function pa(t, e) {
  if (KS((t = Re(t)))) return og("Unsupported field value:", e, t), GS(t, e);
  if (t instanceof wl)
    return (
      (function (i, r) {
        if (!FS(r.Mu))
          throw r.qu(
            `${i._methodName}() can only be used with update() and set()`
          );
        if (!r.path)
          throw r.qu(
            `${i._methodName}() is not currently supported inside arrays`
          );
        const s = i._toFieldTransform(r);
        s && r.fieldTransforms.push(s);
      })(t, e),
      null
    );
  if (t === void 0 && e.ignoreUndefinedProperties) return null;
  if ((e.path && e.fieldMask.push(e.path), t instanceof Array)) {
    if (e.settings.Nu && e.Mu !== 4)
      throw e.qu("Nested arrays are not supported");
    return (function (i, r) {
      const s = [];
      let a = 0;
      for (const l of i) {
        let u = pa(l, r.ku(a));
        u == null && (u = { nullValue: "NULL_VALUE" }), s.push(u), a++;
      }
      return { arrayValue: { values: s } };
    })(t, e);
  }
  return (function (i, r) {
    if ((i = Re(i)) === null) return { nullValue: "NULL_VALUE" };
    if (typeof i == "number") return jM(r.serializer, i);
    if (typeof i == "boolean") return { booleanValue: i };
    if (typeof i == "string") return { stringValue: i };
    if (i instanceof Date) {
      const s = He.fromDate(i);
      return { timestampValue: Rc(r.serializer, s) };
    }
    if (i instanceof He) {
      const s = new He(i.seconds, 1e3 * Math.floor(i.nanoseconds / 1e3));
      return { timestampValue: Rc(r.serializer, s) };
    }
    if (i instanceof ng)
      return {
        geoPointValue: { latitude: i.latitude, longitude: i.longitude },
      };
    if (i instanceof ta) return { bytesValue: mS(r.serializer, i._byteString) };
    if (i instanceof pt) {
      const s = r.databaseId,
        a = i.firestore._databaseId;
      if (!a.isEqual(s))
        throw r.qu(
          `Document reference is for database ${a.projectId}/${a.database} but should be for database ${s.projectId}/${s.database}`
        );
      return {
        referenceValue: zp(
          i.firestore._databaseId || r.databaseId,
          i._key.path
        ),
      };
    }
    if (i instanceof ig)
      return (function (a, l) {
        return {
          mapValue: {
            fields: {
              __type__: { stringValue: "__vector__" },
              value: {
                arrayValue: {
                  values: a.toArray().map((u) => {
                    if (typeof u != "number")
                      throw l.qu(
                        "VectorValues must only contain numeric values."
                      );
                    return Up(l.serializer, u);
                  }),
                },
              },
            },
          },
        };
      })(i, r);
    throw r.qu(`Unsupported field value: ${mh(i)}`);
  })(t, e);
}
function GS(t, e) {
  const n = {};
  return (
    jw(t)
      ? e.path && e.path.length > 0 && e.fieldMask.push(e.path)
      : sr(t, (i, r) => {
          const s = pa(r, e.Ou(i));
          s != null && (n[i] = s);
        }),
    { mapValue: { fields: n } }
  );
}
function KS(t) {
  return !(
    typeof t != "object" ||
    t === null ||
    t instanceof Array ||
    t instanceof Date ||
    t instanceof He ||
    t instanceof ng ||
    t instanceof ta ||
    t instanceof pt ||
    t instanceof wl ||
    t instanceof ig
  );
}
function og(t, e, n) {
  if (
    !KS(n) ||
    !(function (r) {
      return (
        typeof r == "object" &&
        r !== null &&
        (Object.getPrototypeOf(r) === Object.prototype ||
          Object.getPrototypeOf(r) === null)
      );
    })(n)
  ) {
    const i = mh(n);
    throw i === "an object" ? e.qu(t + " a custom object") : e.qu(t + " " + i);
  }
}
function mm(t, e, n) {
  if ((e = Re(e)) instanceof _h) return e._internalPath;
  if (typeof e == "string") return lg(t, e);
  throw Oc("Field path arguments must be of type string or ", t, !1, void 0, n);
}
const tV = new RegExp("[~\\*/\\[\\]]");
function lg(t, e, n) {
  if (e.search(tV) >= 0)
    throw Oc(
      `Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,
      t,
      !1,
      void 0,
      n
    );
  try {
    return new _h(...e.split("."))._internalPath;
  } catch {
    throw Oc(
      `Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,
      t,
      !1,
      void 0,
      n
    );
  }
}
function Oc(t, e, n, i, r) {
  const s = i && !i.isEmpty(),
    a = r !== void 0;
  let l = `Function ${e}() called with invalid data`;
  n && (l += " (via `toFirestore()`)"), (l += ". ");
  let u = "";
  return (
    (s || a) &&
      ((u += " (found"),
      s && (u += ` in field ${i}`),
      a && (u += ` in document ${r}`),
      (u += ")")),
    new F(L.INVALID_ARGUMENT, l + t + u)
  );
}
function QS(t, e) {
  return t.some((n) => n.isEqual(e));
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class $S {
  constructor(e, n, i, r, s) {
    (this._firestore = e),
      (this._userDataWriter = n),
      (this._key = i),
      (this._document = r),
      (this._converter = s);
  }
  get id() {
    return this._key.path.lastSegment();
  }
  get ref() {
    return new pt(this._firestore, this._converter, this._key);
  }
  exists() {
    return this._document !== null;
  }
  data() {
    if (this._document) {
      if (this._converter) {
        const e = new nV(
          this._firestore,
          this._userDataWriter,
          this._key,
          this._document,
          null
        );
        return this._converter.fromFirestore(e);
      }
      return this._userDataWriter.convertValue(this._document.data.value);
    }
  }
  get(e) {
    if (this._document) {
      const n = this._document.data.field(ug("DocumentSnapshot.get", e));
      if (n !== null) return this._userDataWriter.convertValue(n);
    }
  }
}
class nV extends $S {
  data() {
    return super.data();
  }
}
function ug(t, e) {
  return typeof e == "string"
    ? lg(t, e)
    : e instanceof _h
    ? e._internalPath
    : e._delegate._internalPath;
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ function YS(t) {
  if (t.limitType === "L" && t.explicitOrderBy.length === 0)
    throw new F(
      L.UNIMPLEMENTED,
      "limitToLast() queries require specifying at least one orderBy() clause"
    );
}
class cg {}
class iV extends cg {}
function rV(t, e, ...n) {
  let i = [];
  e instanceof cg && i.push(e),
    (i = i.concat(n)),
    (function (s) {
      const a = s.filter((u) => u instanceof hg).length,
        l = s.filter((u) => u instanceof Eh).length;
      if (a > 1 || (a > 0 && l > 0))
        throw new F(
          L.INVALID_ARGUMENT,
          "InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`."
        );
    })(i);
  for (const r of i) t = r._apply(t);
  return t;
}
class Eh extends iV {
  constructor(e, n, i) {
    super(),
      (this._field = e),
      (this._op = n),
      (this._value = i),
      (this.type = "where");
  }
  static _create(e, n, i) {
    return new Eh(e, n, i);
  }
  _apply(e) {
    const n = this._parse(e);
    return XS(e._query, n), new Xr(e.firestore, e.converter, rm(e._query, n));
  }
  _parse(e) {
    const n = rg(e.firestore);
    return (function (s, a, l, u, c, f, p) {
      let m;
      if (c.isKeyField()) {
        if (f === "array-contains" || f === "array-contains-any")
          throw new F(
            L.INVALID_ARGUMENT,
            `Invalid Query. You can't perform '${f}' queries on documentId().`
          );
        if (f === "in" || f === "not-in") {
          h0(p, f);
          const _ = [];
          for (const b of p) _.push(c0(u, s, b));
          m = { arrayValue: { values: _ } };
        } else m = c0(u, s, p);
      } else
        (f !== "in" && f !== "not-in" && f !== "array-contains-any") ||
          h0(p, f),
          (m = eV(l, a, p, f === "in" || f === "not-in"));
      return je.create(c, f, m);
    })(
      e._query,
      "where",
      n,
      e.firestore._databaseId,
      this._field,
      this._op,
      this._value
    );
  }
}
function sV(t, e, n) {
  const i = e,
    r = ug("where", t);
  return Eh._create(r, i, n);
}
class hg extends cg {
  constructor(e, n) {
    super(), (this.type = e), (this._queryConstraints = n);
  }
  static _create(e, n) {
    return new hg(e, n);
  }
  _parse(e) {
    const n = this._queryConstraints
      .map((i) => i._parse(e))
      .filter((i) => i.getFilters().length > 0);
    return n.length === 1 ? n[0] : un.create(n, this._getOperator());
  }
  _apply(e) {
    const n = this._parse(e);
    return n.getFilters().length === 0
      ? e
      : ((function (r, s) {
          let a = r;
          const l = s.getFlattenedFilters();
          for (const u of l) XS(a, u), (a = rm(a, u));
        })(e._query, n),
        new Xr(e.firestore, e.converter, rm(e._query, n)));
  }
  _getQueryConstraints() {
    return this._queryConstraints;
  }
  _getOperator() {
    return this.type === "and" ? "and" : "or";
  }
}
function c0(t, e, n) {
  if (typeof (n = Re(n)) == "string") {
    if (n === "")
      throw new F(
        L.INVALID_ARGUMENT,
        "Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string."
      );
    if (!Xw(e) && n.indexOf("/") !== -1)
      throw new F(
        L.INVALID_ARGUMENT,
        `Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`
      );
    const i = e.path.child(ve.fromString(n));
    if (!G.isDocumentKey(i))
      throw new F(
        L.INVALID_ARGUMENT,
        `Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`
      );
    return Ov(t, new G(i));
  }
  if (n instanceof pt) return Ov(t, n._key);
  throw new F(
    L.INVALID_ARGUMENT,
    `Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${mh(
      n
    )}.`
  );
}
function h0(t, e) {
  if (!Array.isArray(t) || t.length === 0)
    throw new F(
      L.INVALID_ARGUMENT,
      `Invalid Query. A non-empty array is required for '${e.toString()}' filters.`
    );
}
function XS(t, e) {
  const n = (function (r, s) {
    for (const a of r)
      for (const l of a.getFlattenedFilters())
        if (s.indexOf(l.op) >= 0) return l.op;
    return null;
  })(
    t.filters,
    (function (r) {
      switch (r) {
        case "!=":
          return ["!=", "not-in"];
        case "array-contains-any":
        case "in":
          return ["not-in"];
        case "not-in":
          return ["array-contains-any", "in", "not-in", "!="];
        default:
          return [];
      }
    })(e.op)
  );
  if (n !== null)
    throw n === e.op
      ? new F(
          L.INVALID_ARGUMENT,
          `Invalid query. You cannot use more than one '${e.op.toString()}' filter.`
        )
      : new F(
          L.INVALID_ARGUMENT,
          `Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`
        );
}
class aV {
  convertValue(e, n = "none") {
    switch (Ji(e)) {
      case 0:
        return null;
      case 1:
        return e.booleanValue;
      case 2:
        return Pe(e.integerValue || e.doubleValue);
      case 3:
        return this.convertTimestamp(e.timestampValue);
      case 4:
        return this.convertServerTimestamp(e, n);
      case 5:
        return e.stringValue;
      case 6:
        return this.convertBytes(Zi(e.bytesValue));
      case 7:
        return this.convertReference(e.referenceValue);
      case 8:
        return this.convertGeoPoint(e.geoPointValue);
      case 9:
        return this.convertArray(e.arrayValue, n);
      case 11:
        return this.convertObject(e.mapValue, n);
      case 10:
        return this.convertVectorValue(e.mapValue);
      default:
        throw Q();
    }
  }
  convertObject(e, n) {
    return this.convertObjectMap(e.fields, n);
  }
  convertObjectMap(e, n = "none") {
    const i = {};
    return (
      sr(e, (r, s) => {
        i[r] = this.convertValue(s, n);
      }),
      i
    );
  }
  convertVectorValue(e) {
    var n, i, r;
    const s =
      (r =
        (i =
          (n = e.fields) === null || n === void 0
            ? void 0
            : n.value.arrayValue) === null || i === void 0
          ? void 0
          : i.values) === null || r === void 0
        ? void 0
        : r.map((a) => Pe(a.doubleValue));
    return new ig(s);
  }
  convertGeoPoint(e) {
    return new ng(Pe(e.latitude), Pe(e.longitude));
  }
  convertArray(e, n) {
    return (e.values || []).map((i) => this.convertValue(i, n));
  }
  convertServerTimestamp(e, n) {
    switch (n) {
      case "previous":
        const i = rh(e);
        return i == null ? null : this.convertValue(i, n);
      case "estimate":
        return this.convertTimestamp(Ko(e));
      default:
        return null;
    }
  }
  convertTimestamp(e) {
    const n = Wi(e);
    return new He(n.seconds, n.nanos);
  }
  convertDocumentKey(e, n) {
    const i = ve.fromString(e);
    ce(ES(i));
    const r = new Qo(i.get(1), i.get(3)),
      s = new G(i.popFirst(5));
    return (
      r.isEqual(n) ||
        ui(
          `Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`
        ),
      s
    );
  }
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ function oV(t, e, n) {
  let i;
  return (
    (i = t
      ? n && (n.merge || n.mergeFields)
        ? t.toFirestore(e, n)
        : t.toFirestore(e)
      : e),
    i
  );
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class to {
  constructor(e, n) {
    (this.hasPendingWrites = e), (this.fromCache = n);
  }
  isEqual(e) {
    return (
      this.hasPendingWrites === e.hasPendingWrites &&
      this.fromCache === e.fromCache
    );
  }
}
class WS extends $S {
  constructor(e, n, i, r, s, a) {
    super(e, n, i, r, a),
      (this._firestore = e),
      (this._firestoreImpl = e),
      (this.metadata = s);
  }
  exists() {
    return super.exists();
  }
  data(e = {}) {
    if (this._document) {
      if (this._converter) {
        const n = new Pu(
          this._firestore,
          this._userDataWriter,
          this._key,
          this._document,
          this.metadata,
          null
        );
        return this._converter.fromFirestore(n, e);
      }
      return this._userDataWriter.convertValue(
        this._document.data.value,
        e.serverTimestamps
      );
    }
  }
  get(e, n = {}) {
    if (this._document) {
      const i = this._document.data.field(ug("DocumentSnapshot.get", e));
      if (i !== null)
        return this._userDataWriter.convertValue(i, n.serverTimestamps);
    }
  }
}
class Pu extends WS {
  data(e = {}) {
    return super.data(e);
  }
}
class ZS {
  constructor(e, n, i, r) {
    (this._firestore = e),
      (this._userDataWriter = n),
      (this._snapshot = r),
      (this.metadata = new to(r.hasPendingWrites, r.fromCache)),
      (this.query = i);
  }
  get docs() {
    const e = [];
    return this.forEach((n) => e.push(n)), e;
  }
  get size() {
    return this._snapshot.docs.size;
  }
  get empty() {
    return this.size === 0;
  }
  forEach(e, n) {
    this._snapshot.docs.forEach((i) => {
      e.call(
        n,
        new Pu(
          this._firestore,
          this._userDataWriter,
          i.key,
          i,
          new to(
            this._snapshot.mutatedKeys.has(i.key),
            this._snapshot.fromCache
          ),
          this.query.converter
        )
      );
    });
  }
  docChanges(e = {}) {
    const n = !!e.includeMetadataChanges;
    if (n && this._snapshot.excludesMetadataChanges)
      throw new F(
        L.INVALID_ARGUMENT,
        "To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot()."
      );
    return (
      (this._cachedChanges &&
        this._cachedChangesIncludeMetadataChanges === n) ||
        ((this._cachedChanges = (function (r, s) {
          if (r._snapshot.oldDocs.isEmpty()) {
            let a = 0;
            return r._snapshot.docChanges.map((l) => {
              const u = new Pu(
                r._firestore,
                r._userDataWriter,
                l.doc.key,
                l.doc,
                new to(
                  r._snapshot.mutatedKeys.has(l.doc.key),
                  r._snapshot.fromCache
                ),
                r.query.converter
              );
              return (
                l.doc, { type: "added", doc: u, oldIndex: -1, newIndex: a++ }
              );
            });
          }
          {
            let a = r._snapshot.oldDocs;
            return r._snapshot.docChanges
              .filter((l) => s || l.type !== 3)
              .map((l) => {
                const u = new Pu(
                  r._firestore,
                  r._userDataWriter,
                  l.doc.key,
                  l.doc,
                  new to(
                    r._snapshot.mutatedKeys.has(l.doc.key),
                    r._snapshot.fromCache
                  ),
                  r.query.converter
                );
                let c = -1,
                  f = -1;
                return (
                  l.type !== 0 &&
                    ((c = a.indexOf(l.doc.key)), (a = a.delete(l.doc.key))),
                  l.type !== 1 &&
                    ((a = a.add(l.doc)), (f = a.indexOf(l.doc.key))),
                  { type: lV(l.type), doc: u, oldIndex: c, newIndex: f }
                );
              });
          }
        })(this, n)),
        (this._cachedChangesIncludeMetadataChanges = n)),
      this._cachedChanges
    );
  }
}
function lV(t) {
  switch (t) {
    case 0:
      return "added";
    case 2:
    case 3:
      return "modified";
    case 1:
      return "removed";
    default:
      return Q();
  }
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ function uV(t) {
  t = Jt(t, pt);
  const e = Jt(t.firestore, Br);
  return zx(gh(e), t._key).then((n) => tR(e, t, n));
}
class fg extends aV {
  constructor(e) {
    super(), (this.firestore = e);
  }
  convertBytes(e) {
    return new ta(e);
  }
  convertReference(e) {
    const n = this.convertDocumentKey(e, this.firestore._databaseId);
    return new pt(this.firestore, null, n);
  }
}
function cV(t) {
  t = Jt(t, Xr);
  const e = Jt(t.firestore, Br),
    n = gh(e),
    i = new fg(e);
  return YS(t._query), jx(n, t._query).then((r) => new ZS(e, i, t, r));
}
function pm(t, e, n) {
  t = Jt(t, pt);
  const i = Jt(t.firestore, Br),
    r = oV(t.converter, e, n);
  return eR(i, [
    Xx(rg(i), "setDoc", t._key, r, t.converter !== null, n).toMutation(
      t._key,
      Rn.none()
    ),
  ]);
}
function bo(t, e, n, ...i) {
  t = Jt(t, pt);
  const r = Jt(t.firestore, Br),
    s = rg(r);
  let a;
  return (
    (a =
      typeof (e = Re(e)) == "string" || e instanceof _h
        ? Jx(s, "updateDoc", t._key, e, n, i)
        : Zx(s, "updateDoc", t._key, e)),
    eR(r, [a.toMutation(t._key, Rn.exists(!0))])
  );
}
function JS(t, ...e) {
  var n, i, r;
  t = Re(t);
  let s = { includeMetadataChanges: !1, source: "default" },
    a = 0;
  typeof e[a] != "object" || u0(e[a]) || ((s = e[a]), a++);
  const l = {
    includeMetadataChanges: s.includeMetadataChanges,
    source: s.source,
  };
  if (u0(e[a])) {
    const p = e[a];
    (e[a] = (n = p.next) === null || n === void 0 ? void 0 : n.bind(p)),
      (e[a + 1] = (i = p.error) === null || i === void 0 ? void 0 : i.bind(p)),
      (e[a + 2] =
        (r = p.complete) === null || r === void 0 ? void 0 : r.bind(p));
  }
  let u, c, f;
  if (t instanceof pt)
    (c = Jt(t.firestore, Br)),
      (f = sh(t._key.path)),
      (u = {
        next: (p) => {
          e[a] && e[a](tR(c, t, p));
        },
        error: e[a + 1],
        complete: e[a + 2],
      });
  else {
    const p = Jt(t, Xr);
    (c = Jt(p.firestore, Br)), (f = p._query);
    const m = new fg(c);
    (u = {
      next: (_) => {
        e[a] && e[a](new ZS(c, m, p, _));
      },
      error: e[a + 1],
      complete: e[a + 2],
    }),
      YS(t._query);
  }
  return (function (m, _, b, C) {
    const D = new tg(C),
      E = new Jp(_, D, b);
    return (
      m.asyncQueue.enqueueAndForget(async () => Xp(await Dc(m), E)),
      () => {
        D.eu(), m.asyncQueue.enqueueAndForget(async () => Wp(await Dc(m), E));
      }
    );
  })(gh(c), f, l, u);
}
function eR(t, e) {
  return (function (i, r) {
    const s = new ti();
    return (
      i.asyncQueue.enqueueAndForget(async () => Cx(await Bx(i), r, s)),
      s.promise
    );
  })(gh(t), e);
}
function tR(t, e, n) {
  const i = n.docs.get(e._key),
    r = new fg(t);
  return new WS(
    t,
    r,
    e._key,
    i,
    new to(n.hasPendingWrites, n.fromCache),
    e.converter
  );
}
function Nc() {
  return new sg("serverTimestamp");
}
function hV(...t) {
  return new ag("arrayUnion", t);
}
(function (e, n = !0) {
  (function (r) {
    ha = r;
  })(Kr),
    xr(
      new Yi(
        "firestore",
        (i, { instanceIdentifier: r, options: s }) => {
          const a = i.getProvider("app").getImmediate(),
            l = new Br(
              new nM(i.getProvider("auth-internal")),
              new aM(i.getProvider("app-check-internal")),
              (function (c, f) {
                if (
                  !Object.prototype.hasOwnProperty.apply(c.options, [
                    "projectId",
                  ])
                )
                  throw new F(
                    L.INVALID_ARGUMENT,
                    '"projectId" not provided in firebase.initializeApp.'
                  );
                return new Qo(c.options.projectId, f);
              })(a, r),
              a
            );
          return (
            (s = Object.assign({ useFetchStreams: n }, s)), l._setSettings(s), l
          );
        },
        "PUBLIC"
      ).setMultipleInstances(!0)
    ),
    Tn(Sv, "4.7.5", e),
    Tn(Sv, "4.7.5", "esm2017");
})();
const fV = {
    apiKey: "AIzaSyDsBtr7QkkixQ5_AhDwTHw8bJ9qLy99P7A",
    authDomain: "sipher-8111f.firebaseapp.com",
    projectId: "sipher-8111f",
    storageBucket: "sipher-8111f.firebasestorage.app",
    messagingSenderId: "405326267288",
    appId: "1:405326267288:web:e2dc170e914dadf577e1ed",
  },
  dg = bA(fV),
  Th = LN(dg),
  nR = X2(dg),
  Xt = Gx(dg),
  or = k.createContext(),
  dV = ({ children: t }) => {
    const [e, n] = k.useState({});
    return (
      k.useEffect(() => {
        const i = bO(Th, (r) => {
          n(r), console.log(r);
        });
        return () => {
          i();
        };
      }, []),
      V.jsx(or.Provider, { value: { currentUser: e }, children: t })
    );
  },
  mV = () => {
    const { currentUser: t } = k.useContext(or);
    return V.jsxs("div", {
      className: "navbar",
      children: [
        V.jsx("span", { className: "logo", children: "Sipher" }),
        V.jsxs("div", {
          className: "user",
          children: [
            V.jsx("img", { src: t.photoURL, alt: "" }),
            V.jsx("span", { children: t.displayName }),
            V.jsx("button", { onClick: () => IO(Th), children: "logout" }),
          ],
        }),
      ],
    });
  },
  pV = () => {
    const [t, e] = k.useState(""),
      [n, i] = k.useState(null),
      [r, s] = k.useState(!1),
      [a, l] = k.useState(!1),
      { currentUser: u } = k.useContext(or),
      c = async () => {
        if (!t) return;
        l(!0);
        const m = rV(Fx(Xt, "users"), sV("displayName", "==", t));
        try {
          const _ = await cV(m);
          _.empty ? (s(!0), i(null)) : (_.forEach((b) => i(b.data())), s(!1));
        } catch (_) {
          console.error("Error fetching user:", _), s(!0);
        } finally {
          l(!1);
        }
      },
      f = (m) => {
        m.key === "Enter" && c();
      },
      p = async () => {
        if (!n) return;
        const m = u.uid > n.uid ? u.uid + n.uid : n.uid + u.uid;
        try {
          (await uV(an(Xt, "chats", m))).exists() ||
            (await pm(an(Xt, "chats", m), { messages: [] }),
            await bo(an(Xt, "userChats", u.uid), {
              [m + ".userInfo"]: {
                uid: n.uid,
                displayName: n.displayName,
                photoURL: n.photoURL,
              },
              [m + ".date"]: Nc(),
            }),
            await bo(an(Xt, "userChats", n.uid), {
              [m + ".userInfo"]: {
                uid: u.uid,
                displayName: u.displayName,
                photoURL: u.photoURL,
              },
              [m + ".date"]: Nc(),
            }));
        } catch (_) {
          console.error("Error creating/updating chat:", _);
        }
        i(null), e("");
      };
    return V.jsxs("div", {
      className: "search",
      children: [
        V.jsxs("div", {
          className: "searchForm",
          children: [
            V.jsx("input", {
              type: "text",
              placeholder: "Find a user",
              onKeyDown: f,
              onChange: (m) => e(m.target.value),
              value: t,
            }),
            a && V.jsx("span", { children: "Searching..." }),
            " ",
          ],
        }),
        r && V.jsx("span", { children: "User not found!" }),
        n &&
          V.jsxs("div", {
            className: "userChat",
            onClick: p,
            children: [
              V.jsx("img", { src: n.photoURL, alt: "" }),
              V.jsx("div", {
                className: "userChatInfo",
                children: V.jsx("span", { children: n.displayName }),
              }),
            ],
          }),
      ],
    });
  },
  ga = k.createContext(),
  gV = ({ children: t }) => {
    const { currentUser: e } = k.useContext(or),
      n = { chatId: "null", user: {} },
      i = (a, l) => {
        switch (l.type) {
          case "CHANGE_USER":
            return {
              user: l.payload,
              chatId:
                e.uid > l.payload.uid
                  ? e.uid + l.payload.uid
                  : l.payload.uid + e.uid,
            };
          default:
            return a;
        }
      },
      [r, s] = k.useReducer(i, n);
    return V.jsx(ga.Provider, { value: { data: r, dispatch: s }, children: t });
  };
/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */ const _V = (t) => t.replace(/([a-z0-9])([A-Z])/g, "$1-$2").toLowerCase(),
  iR = (...t) =>
    t
      .filter((e, n, i) => !!e && e.trim() !== "" && i.indexOf(e) === n)
      .join(" ")
      .trim();
/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */ var yV = {
  xmlns: "http://www.w3.org/2000/svg",
  width: 24,
  height: 24,
  viewBox: "0 0 24 24",
  fill: "none",
  stroke: "currentColor",
  strokeWidth: 2,
  strokeLinecap: "round",
  strokeLinejoin: "round",
};
/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */ const vV = k.forwardRef(
  (
    {
      color: t = "currentColor",
      size: e = 24,
      strokeWidth: n = 2,
      absoluteStrokeWidth: i,
      className: r = "",
      children: s,
      iconNode: a,
      ...l
    },
    u
  ) =>
    k.createElement(
      "svg",
      {
        ref: u,
        ...yV,
        width: e,
        height: e,
        stroke: t,
        strokeWidth: i ? (Number(n) * 24) / Number(e) : n,
        className: iR("lucide", r),
        ...l,
      },
      [
        ...a.map(([c, f]) => k.createElement(c, f)),
        ...(Array.isArray(s) ? s : [s]),
      ]
    )
);
/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */ const Ah = (t, e) => {
  const n = k.forwardRef(({ className: i, ...r }, s) =>
    k.createElement(vV, {
      ref: s,
      iconNode: e,
      className: iR(`lucide-${_V(t)}`, i),
      ...r,
    })
  );
  return (n.displayName = `${t}`), n;
};
/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */ const EV = [
    ["path", { d: "m5 12 7-7 7 7", key: "hav0vg" }],
    ["path", { d: "M12 19V5", key: "x0mq9r" }],
  ],
  f0 = Ah("ArrowUp", EV);
/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */ const TV = [
    ["path", { d: "M18 6 7 17l-5-5", key: "116fxf" }],
    ["path", { d: "m22 10-7.5 7.5L13 16", key: "ke71qq" }],
  ],
  AV = Ah("CheckCheck", TV);
/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */ const wV = [
    [
      "rect",
      {
        width: "18",
        height: "18",
        x: "3",
        y: "3",
        rx: "2",
        ry: "2",
        key: "1m3agn",
      },
    ],
    ["circle", { cx: "9", cy: "9", r: "2", key: "af1f0g" }],
    ["path", { d: "m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21", key: "1xmnt7" }],
  ],
  SV = Ah("Image", wV);
/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */ const RV = [
    [
      "path",
      {
        d: "M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",
        key: "v9h5vc",
      },
    ],
    ["path", { d: "M21 3v5h-5", key: "1q7to0" }],
    [
      "path",
      {
        d: "M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",
        key: "3uifl3",
      },
    ],
    ["path", { d: "M8 16H3v5", key: "1cv678" }],
  ],
  bV = Ah("RefreshCw", RV),
  IV = () => {
    var a;
    const [t, e] = k.useState([]),
      { currentUser: n } = k.useContext(or),
      { dispatch: i } = k.useContext(ga),
      r = (l) => {
        if (!l) return "";
        const u = l.toDate(),
          f = new Date() - u,
          p = Math.floor(f / 6e4),
          m = Math.floor(p / 60),
          _ = Math.floor(m / 24);
        return p < 1
          ? "Now"
          : p < 60
          ? `${p}m`
          : m < 24
          ? `${m}h`
          : _ < 7
          ? `${_}d`
          : u.toLocaleDateString();
      };
    k.useEffect(() => {
      if (!(n != null && n.uid)) return;
      const l = JS(an(Xt, "userChats", n.uid), (u) => {
        u.exists() && e(u.data());
      });
      return () => l();
    }, [n == null ? void 0 : n.uid]);
    const s = (l) => {
      i({ type: "CHANGE_USER", payload: l });
    };
    return V.jsx("div", {
      className: "chats",
      children:
        (a = Object.entries(t)) == null
          ? void 0
          : a
              .sort((l, u) => u[1].date - l[1].date)
              .map(([l, u]) => {
                var c;
                return V.jsxs(
                  "div",
                  {
                    className: "userChat",
                    onClick: () => s(u.userInfo),
                    children: [
                      V.jsx("img", {
                        src: u.userInfo.photoURL,
                        alt: u.userInfo.displayName,
                      }),
                      V.jsxs("div", {
                        className: "userChatInfo",
                        children: [
                          V.jsxs("div", {
                            className: "chat-header",
                            children: [
                              V.jsx("span", {
                                children: u.userInfo.displayName,
                              }),
                              V.jsx("span", {
                                className: "timestamp",
                                children: r(u.date),
                              }),
                            ],
                          }),
                          V.jsx("p", {
                            children:
                              ((c = u.lastMessage) == null ? void 0 : c.text) ||
                              "No messages yet",
                          }),
                        ],
                      }),
                    ],
                  },
                  l
                );
              }),
    });
  },
  CV = () =>
    V.jsxs("div", {
      className: "sidebar",
      children: [V.jsx(mV, {}), V.jsx(pV, {}), V.jsx(IV, {})],
    }),
  DV =
    "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAZxJREFUSIm9lb1u1EAURs+MVvSYHwlayoWKBrE7uzI8Btq8BBKJBAoSvEkCPWnogljPmNDQZSUK6ghRzANEy3wUayMTkayNs3yVZV2fozszvgMbjgFYLBZXYoyvgRlwqyfzBNjPsmx3OByeDgBijK+AZz3BdW4D2zFGgJ1B9XIGkFIaTafTT33oIYSxJF8xd2zDSl84wHg8Dk2mvaD2UjJYXwIhhLmka5KeTyaTgy6CVh1ImgBDY8w77/3RfD5/eKmCM3lgrQ1FUbzx3l/dhADAGGOeAFubEkjSW2BvXWGrTT6Tzymlp22PdFvBR+C6pBddT1ErgXMu7wJtZuM/Wi04gdUc6QsMIbgms16ifWBbkvfeAwTnnGt+WJblzZTSe+D+RQJJ9ePeb0GWZbvVeJ2xGlJ/dFLBD4G7LZqo74OXUF04zXjvBeCcMwBFUdyw1h5Kugd8XS6XeZ7n31uIgDWb3Bd+nuAnQFmWd4wxHyr4sbV22hV+nuALQErpG6s1P7bWPh6NRj+6wv8qMMZsSToCTo0xB5Ie/Sv8v+QXUsGtLZl8zDUAAAAASUVORK5CYII=",
  OV =
    "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAM5JREFUSIntlDFuwkAQRf98uVl8iihFJAs6Q+ODcEYO4spbkVBQwC3MuPFOGku4iPAohgLJr/rFfL3RajUCJzHGlao2ABBC2JZlefP06BV0XfcBoABQDNmFWyAi8ld+muC/LIJFMB+JMa7atv0i+VAmIp9mdhjy3swuj+ZTSinP83Omqg3JYmoTMxvnw9Q8SajqiQBsangGloUQdq94IpK9iJzdN6Wu63VK6Xsob6qq+vH03v+bLoJFcMdGt2Kcp8jcm5DXvu+PAIzk1dv7BfTJVReNhz06AAAAAElFTkSuQmCC",
  NV =
    "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAALJJREFUSIntkD0OgkAQhd/MeomlEhs9A+ECEmsavYHxTppIQ23gAoQz6AXgFLNjwyYbrCiMMdmvenkvefMDRCKR/4fmRtd1W1U9ENEjz/OX9+u6NtbaIwCM41iVZSk+6/t+JyKFMabJsuwZ9q3mA1S1BZCq6hnAxvtJkpxU9TppAnDzmXOuBbB2zl0ApGEfLz15KR8XENHevyj0h2G4W2t10lWYMfNeRApmbr67biQS+Q1vODc8imChf5oAAAAASUVORK5CYII=",
  MV = ({ message: t }) => {
    const { currentUser: e } = k.useContext(or),
      { data: n } = k.useContext(ga),
      i = k.useRef();
    k.useEffect(() => {
      i.current &&
        i.current.scrollIntoView({ behavior: "smooth", block: "nearest" });
    }, [t]);
    const r = (a) => {
        const l = new Date(a * 1e3),
          c = new Date() - l,
          f = l.getHours(),
          p = l.getMinutes(),
          m = f >= 12 ? "PM" : "AM",
          _ = f % 12 || 12,
          b = p < 10 ? "0" + p : p;
        return c < 864e5 ? `${_}:${b} ${m}` : l.toLocaleDateString();
      },
      s = t.senderId === e.uid;
    return V.jsxs("div", {
      ref: i,
      className: `message ${s ? "owner" : ""}`,
      children: [
        V.jsxs("div", {
          className: "messageInfo",
          children: [
            V.jsx("img", { src: s ? e.photoURL : n.user.photoURL, alt: "" }),
            V.jsx("span", {
              className: "timestamp",
              children: r(t.Date.seconds),
            }),
          ],
        }),
        V.jsxs("div", {
          className: "messageContent",
          children: [
            t.text && V.jsx("p", { children: t.text }),
            t.img && V.jsx("img", { src: t.img, alt: "sent image" }),
            s && V.jsx(AV, { size: 16, className: "read-status" }),
          ],
        }),
      ],
    });
  },
  kV = () => {
    const [t, e] = k.useState([]),
      [n, i] = k.useState(!1),
      { data: r } = k.useContext(ga),
      s = k.useRef(null);
    return (
      k.useEffect(() => {
        if (!r.chatId) return;
        i(!0);
        const a = JS(
          an(Xt, "chats", r.chatId),
          (l) => {
            if (l.exists()) {
              const c = l
                .data()
                .messages.filter((f) => {
                  var p;
                  return (
                    (f.senderId === r.userId || f.receiverId === r.userId) &&
                    (f.senderId === r.chatPartnerId ||
                      f.receiverId === r.chatPartnerId) &&
                    ((p = f.Date) == null ? void 0 : p.seconds)
                  );
                })
                .sort((f, p) => f.Date.seconds - p.Date.seconds);
              e(c);
            }
            i(!1);
          },
          (l) => {
            console.error("Error fetching messages:", l), i(!1);
          }
        );
        return () => {
          a();
        };
      }, [r.chatId, r.userId, r.chatPartnerId]),
      k.useEffect(() => {
        s.current && s.current.scrollIntoView({ behavior: "smooth" });
      }, [t]),
      V.jsxs("div", {
        className: "messages",
        children: [
          n &&
            V.jsxs("div", {
              className: "loading-indicator",
              children: [
                V.jsx(bV, { size: 24, className: "spinner" }),
                V.jsx("p", { children: "Loading messages..." }),
              ],
            }),
          t.map((a) => V.jsx(MV, { message: a }, a.id)),
          V.jsx("div", { ref: s }),
        ],
      })
    );
  },
  et = [];
for (let t = 0; t < 256; ++t) et.push((t + 256).toString(16).slice(1));
function xV(t, e = 0) {
  return (
    et[t[e + 0]] +
    et[t[e + 1]] +
    et[t[e + 2]] +
    et[t[e + 3]] +
    "-" +
    et[t[e + 4]] +
    et[t[e + 5]] +
    "-" +
    et[t[e + 6]] +
    et[t[e + 7]] +
    "-" +
    et[t[e + 8]] +
    et[t[e + 9]] +
    "-" +
    et[t[e + 10]] +
    et[t[e + 11]] +
    et[t[e + 12]] +
    et[t[e + 13]] +
    et[t[e + 14]] +
    et[t[e + 15]]
  ).toLowerCase();
}
let Qf;
const VV = new Uint8Array(16);
function PV() {
  if (!Qf) {
    if (typeof crypto > "u" || !crypto.getRandomValues)
      throw new Error(
        "crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported"
      );
    Qf = crypto.getRandomValues.bind(crypto);
  }
  return Qf(VV);
}
const UV =
    typeof crypto < "u" && crypto.randomUUID && crypto.randomUUID.bind(crypto),
  d0 = { randomUUID: UV };
function m0(t, e, n) {
  var r;
  if (d0.randomUUID && !e && !t) return d0.randomUUID();
  t = t || {};
  const i = t.random ?? ((r = t.rng) == null ? void 0 : r.call(t)) ?? PV();
  if (i.length < 16) throw new Error("Random bytes length must be >= 16");
  if (((i[6] = (i[6] & 15) | 64), (i[8] = (i[8] & 63) | 128), e)) {
    if (((n = n || 0), n < 0 || n + 16 > e.length))
      throw new RangeError(
        `UUID byte range ${n}:${n + 15} is out of buffer bounds`
      );
    for (let s = 0; s < 16; ++s) e[n + s] = i[s];
    return e;
  }
  return xV(i);
}
const LV = () => {
    const [t, e] = k.useState(""),
      [n, i] = k.useState(null),
      [r, s] = k.useState(!1),
      a = k.useRef(null),
      l = k.useRef(null),
      { currentUser: u } = k.useContext(or),
      { data: c } = k.useContext(ga),
      f = (C) => {
        (C.style.height = "auto"),
          (C.style.height = `${Math.min(C.scrollHeight, 120)}px`);
      },
      p = (C) => {
        e(C.target.value), f(C.target);
      },
      m = (C) => {
        C.key === "Enter" && !C.shiftKey && (C.preventDefault(), b());
      },
      _ = (C) => {
        const D = C.target.files[0];
        i(D);
      },
      b = async () => {
        if (r) return;
        s(!0);
        const C = t.trim();
        if (C === "" && !n) {
          s(!1);
          return;
        }
        if (!c.chatId) {
          s(!1);
          return;
        }
        try {
          let D = { id: m0(), text: C, senderId: u.uid, Date: He.now() };
          if (n) {
            const E = Mw(nR, m0()),
              v = Ow(E, n);
            await new Promise((w, O) => {
              v.on(
                "state_changed",
                null,
                (B) => {
                  console.error("Upload failed", B), O(B);
                },
                async () => {
                  const B = await Nw(v.snapshot.ref);
                  (D.img = B), w();
                }
              );
            });
          }
          await bo(an(Xt, "chats", c.chatId), { messages: hV(D) }),
            await bo(an(Xt, "userChats", u.uid), {
              [c.chatId + ".lastMessage"]: { text: C || "Image sent!" },
              [c.chatId + ".date"]: Nc(),
            }),
            await bo(an(Xt, "userChats", c.user.uid), {
              [c.chatId + ".lastMessage"]: { text: C || "Image sent!" },
              [c.chatId + ".date"]: Nc(),
            }),
            e(""),
            i(null),
            l.current &&
              ((l.current.style.height = "auto"), (l.current.value = "")),
            a.current && (a.current.value = "");
        } catch (D) {
          console.error("Error sending message:", D);
        } finally {
          s(!1);
        }
      };
    return V.jsxs("div", {
      className: "input",
      children: [
        V.jsx("textarea", {
          ref: l,
          placeholder: "Type a message...",
          onChange: p,
          onKeyDown: m,
          rows: 1,
          style: { resize: "none", overflow: "hidden" },
        }),
        V.jsxs("div", {
          className: "send",
          children: [
            V.jsx("input", {
              type: "file",
              ref: a,
              style: { display: "none" },
              id: "file",
              onChange: _,
              accept: "image/*",
            }),
            V.jsx("label", {
              htmlFor: "file",
              className: "file-label",
              children: V.jsx(SV, { size: 24 }),
            }),
            V.jsx("button", {
              onClick: b,
              disabled: r || (!t.trim() && !n) || !c.chatId,
              children: n ? V.jsx(f0, { size: 20 }) : V.jsx(f0, { size: 20 }),
            }),
          ],
        }),
        n &&
          V.jsx("div", {
            className: "image-preview",
            children: V.jsx("img", {
              src: URL.createObjectURL(n),
              alt: "Preview",
              onLoad: () => URL.revokeObjectURL(n),
            }),
          }),
      ],
    });
  },
  BV = () => {
    var a;
    const { data: t } = k.useContext(ga),
      [e, n] = k.useState(!1),
      i = k.useRef(null),
      r = async () => {
        n(!0);
        try {
          const l = await navigator.mediaDevices.getUserMedia({
            video: !0,
            audio: !0,
          });
          i.current && (i.current.srcObject = l);
        } catch (l) {
          console.error("Error accessing camera: ", l),
            alert(
              "Unable to access your camera or microphone. Please check permissions."
            ),
            n(!1);
        }
      },
      s = () => {
        n(!1),
          i.current &&
            i.current.srcObject &&
            (i.current.srcObject.getTracks().forEach((u) => u.stop()),
            (i.current.srcObject = null));
      };
    return (
      k.useEffect(() => () => s(), []),
      V.jsxs("div", {
        className: "chat",
        children: [
          V.jsxs("div", {
            className: "chatInfo",
            children: [
              V.jsx("span", {
                children: (a = t.user) == null ? void 0 : a.displayName,
              }),
              V.jsxs("div", {
                className: "chatIcons",
                children: [
                  V.jsx("img", { src: DV, alt: "Video Call", onClick: r }),
                  V.jsx("img", { src: OV, alt: "Add" }),
                  V.jsx("img", { src: NV, alt: "More" }),
                ],
              }),
            ],
          }),
          e &&
            V.jsxs("div", {
              className: "videoContainer",
              children: [
                V.jsx("video", {
                  ref: i,
                  className: "videoCall",
                  autoPlay: !0,
                  playsInline: !0,
                }),
                V.jsx("button", {
                  onClick: s,
                  className: "endCallButton",
                  children: "End Call",
                }),
              ],
            }),
          V.jsx(kV, {}),
          V.jsx(LV, {}),
        ],
      })
    );
  },
  zV = () =>
    V.jsx("div", {
      className: "home",
      children: V.jsxs("div", {
        className: "container",
        children: [V.jsx(CV, {}), V.jsx(BV, {})],
      }),
    }),
  jV = "modulepreload",
  qV = function (t) {
    return "/" + t;
  },
  p0 = {},
  HV = function (e, n, i) {
    if (!n || n.length === 0) return e();
    const r = document.getElementsByTagName("link");
    return Promise.all(
      n.map((s) => {
        if (((s = qV(s)), s in p0)) return;
        p0[s] = !0;
        const a = s.endsWith(".css"),
          l = a ? '[rel="stylesheet"]' : "";
        if (!!i)
          for (let f = r.length - 1; f >= 0; f--) {
            const p = r[f];
            if (p.href === s && (!a || p.rel === "stylesheet")) return;
          }
        else if (document.querySelector(`link[href="${s}"]${l}`)) return;
        const c = document.createElement("link");
        if (
          ((c.rel = a ? "stylesheet" : jV),
          a || ((c.as = "script"), (c.crossOrigin = "")),
          (c.href = s),
          document.head.appendChild(c),
          a)
        )
          return new Promise((f, p) => {
            c.addEventListener("load", f),
              c.addEventListener("error", () =>
                p(new Error(`Unable to preload CSS for ${s}`))
              );
          });
      })
    )
      .then(() => e())
      .catch((s) => {
        const a = new Event("vite:preloadError", { cancelable: !0 });
        if (((a.payload = s), window.dispatchEvent(a), !a.defaultPrevented))
          throw s;
      });
  };
var mg = {};
Object.defineProperty(mg, "__esModule", { value: !0 });
mg.parse = XV;
mg.serialize = WV;
const FV = /^[\u0021-\u003A\u003C\u003E-\u007E]+$/,
  GV = /^[\u0021-\u003A\u003C-\u007E]*$/,
  KV =
    /^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,
  QV = /^[\u0020-\u003A\u003D-\u007E]*$/,
  $V = Object.prototype.toString,
  YV = (() => {
    const t = function () {};
    return (t.prototype = Object.create(null)), t;
  })();
function XV(t, e) {
  const n = new YV(),
    i = t.length;
  if (i < 2) return n;
  const r = (e == null ? void 0 : e.decode) || ZV;
  let s = 0;
  do {
    const a = t.indexOf("=", s);
    if (a === -1) break;
    const l = t.indexOf(";", s),
      u = l === -1 ? i : l;
    if (a > u) {
      s = t.lastIndexOf(";", a - 1) + 1;
      continue;
    }
    const c = g0(t, s, a),
      f = _0(t, a, c),
      p = t.slice(c, f);
    if (n[p] === void 0) {
      let m = g0(t, a + 1, u),
        _ = _0(t, u, m);
      const b = r(t.slice(m, _));
      n[p] = b;
    }
    s = u + 1;
  } while (s < i);
  return n;
}
function g0(t, e, n) {
  do {
    const i = t.charCodeAt(e);
    if (i !== 32 && i !== 9) return e;
  } while (++e < n);
  return n;
}
function _0(t, e, n) {
  for (; e > n; ) {
    const i = t.charCodeAt(--e);
    if (i !== 32 && i !== 9) return e + 1;
  }
  return n;
}
function WV(t, e, n) {
  const i = (n == null ? void 0 : n.encode) || encodeURIComponent;
  if (!FV.test(t)) throw new TypeError(`argument name is invalid: ${t}`);
  const r = i(e);
  if (!GV.test(r)) throw new TypeError(`argument val is invalid: ${e}`);
  let s = t + "=" + r;
  if (!n) return s;
  if (n.maxAge !== void 0) {
    if (!Number.isInteger(n.maxAge))
      throw new TypeError(`option maxAge is invalid: ${n.maxAge}`);
    s += "; Max-Age=" + n.maxAge;
  }
  if (n.domain) {
    if (!KV.test(n.domain))
      throw new TypeError(`option domain is invalid: ${n.domain}`);
    s += "; Domain=" + n.domain;
  }
  if (n.path) {
    if (!QV.test(n.path))
      throw new TypeError(`option path is invalid: ${n.path}`);
    s += "; Path=" + n.path;
  }
  if (n.expires) {
    if (!JV(n.expires) || !Number.isFinite(n.expires.valueOf()))
      throw new TypeError(`option expires is invalid: ${n.expires}`);
    s += "; Expires=" + n.expires.toUTCString();
  }
  if (
    (n.httpOnly && (s += "; HttpOnly"),
    n.secure && (s += "; Secure"),
    n.partitioned && (s += "; Partitioned"),
    n.priority)
  )
    switch (typeof n.priority == "string" ? n.priority.toLowerCase() : void 0) {
      case "low":
        s += "; Priority=Low";
        break;
      case "medium":
        s += "; Priority=Medium";
        break;
      case "high":
        s += "; Priority=High";
        break;
      default:
        throw new TypeError(`option priority is invalid: ${n.priority}`);
    }
  if (n.sameSite)
    switch (
      typeof n.sameSite == "string" ? n.sameSite.toLowerCase() : n.sameSite
    ) {
      case !0:
      case "strict":
        s += "; SameSite=Strict";
        break;
      case "lax":
        s += "; SameSite=Lax";
        break;
      case "none":
        s += "; SameSite=None";
        break;
      default:
        throw new TypeError(`option sameSite is invalid: ${n.sameSite}`);
    }
  return s;
}
function ZV(t) {
  if (t.indexOf("%") === -1) return t;
  try {
    return decodeURIComponent(t);
  } catch {
    return t;
  }
}
function JV(t) {
  return $V.call(t) === "[object Date]";
}
var y0 = "popstate";
function eP(t = {}) {
  function e(i, r) {
    let { pathname: s, search: a, hash: l } = i.location;
    return gm(
      "",
      { pathname: s, search: a, hash: l },
      (r.state && r.state.usr) || null,
      (r.state && r.state.key) || "default"
    );
  }
  function n(i, r) {
    return typeof r == "string" ? r : Wo(r);
  }
  return nP(e, n, null, t);
}
function Se(t, e) {
  if (t === !1 || t === null || typeof t > "u") throw new Error(e);
}
function cn(t, e) {
  if (!t) {
    typeof console < "u" && console.warn(e);
    try {
      throw new Error(e);
    } catch {}
  }
}
function tP() {
  return Math.random().toString(36).substring(2, 10);
}
function v0(t, e) {
  return { usr: t.state, key: t.key, idx: e };
}
function gm(t, e, n = null, i) {
  return {
    pathname: typeof t == "string" ? t : t.pathname,
    search: "",
    hash: "",
    ...(typeof e == "string" ? _a(e) : e),
    state: n,
    key: (e && e.key) || i || tP(),
  };
}
function Wo({ pathname: t = "/", search: e = "", hash: n = "" }) {
  return (
    e && e !== "?" && (t += e.charAt(0) === "?" ? e : "?" + e),
    n && n !== "#" && (t += n.charAt(0) === "#" ? n : "#" + n),
    t
  );
}
function _a(t) {
  let e = {};
  if (t) {
    let n = t.indexOf("#");
    n >= 0 && ((e.hash = t.substring(n)), (t = t.substring(0, n)));
    let i = t.indexOf("?");
    i >= 0 && ((e.search = t.substring(i)), (t = t.substring(0, i))),
      t && (e.pathname = t);
  }
  return e;
}
function nP(t, e, n, i = {}) {
  let { window: r = document.defaultView, v5Compat: s = !1 } = i,
    a = r.history,
    l = "POP",
    u = null,
    c = f();
  c == null && ((c = 0), a.replaceState({ ...a.state, idx: c }, ""));
  function f() {
    return (a.state || { idx: null }).idx;
  }
  function p() {
    l = "POP";
    let D = f(),
      E = D == null ? null : D - c;
    (c = D), u && u({ action: l, location: C.location, delta: E });
  }
  function m(D, E) {
    l = "PUSH";
    let v = gm(C.location, D, E);
    n && n(v, D), (c = f() + 1);
    let w = v0(v, c),
      O = C.createHref(v);
    try {
      a.pushState(w, "", O);
    } catch (B) {
      if (B instanceof DOMException && B.name === "DataCloneError") throw B;
      r.location.assign(O);
    }
    s && u && u({ action: l, location: C.location, delta: 1 });
  }
  function _(D, E) {
    l = "REPLACE";
    let v = gm(C.location, D, E);
    n && n(v, D), (c = f());
    let w = v0(v, c),
      O = C.createHref(v);
    a.replaceState(w, "", O),
      s && u && u({ action: l, location: C.location, delta: 0 });
  }
  function b(D) {
    let E = r.location.origin !== "null" ? r.location.origin : r.location.href,
      v = typeof D == "string" ? D : Wo(D);
    return (
      (v = v.replace(/ $/, "%20")),
      Se(
        E,
        `No window.location.(origin|href) available to create URL for href: ${v}`
      ),
      new URL(v, E)
    );
  }
  let C = {
    get action() {
      return l;
    },
    get location() {
      return t(r, a);
    },
    listen(D) {
      if (u) throw new Error("A history only accepts one active listener");
      return (
        r.addEventListener(y0, p),
        (u = D),
        () => {
          r.removeEventListener(y0, p), (u = null);
        }
      );
    },
    createHref(D) {
      return e(r, D);
    },
    createURL: b,
    encodeLocation(D) {
      let E = b(D);
      return { pathname: E.pathname, search: E.search, hash: E.hash };
    },
    push: m,
    replace: _,
    go(D) {
      return a.go(D);
    },
  };
  return C;
}
function rR(t, e, n = "/") {
  return iP(t, e, n, !1);
}
function iP(t, e, n, i) {
  let r = typeof e == "string" ? _a(e) : e,
    s = tr(r.pathname || "/", n);
  if (s == null) return null;
  let a = sR(t);
  rP(a);
  let l = null;
  for (let u = 0; l == null && u < a.length; ++u) {
    let c = pP(s);
    l = dP(a[u], c, i);
  }
  return l;
}
function sR(t, e = [], n = [], i = "") {
  let r = (s, a, l) => {
    let u = {
      relativePath: l === void 0 ? s.path || "" : l,
      caseSensitive: s.caseSensitive === !0,
      childrenIndex: a,
      route: s,
    };
    u.relativePath.startsWith("/") &&
      (Se(
        u.relativePath.startsWith(i),
        `Absolute route path "${u.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`
      ),
      (u.relativePath = u.relativePath.slice(i.length)));
    let c = ni([i, u.relativePath]),
      f = n.concat(u);
    s.children &&
      s.children.length > 0 &&
      (Se(
        s.index !== !0,
        `Index routes must not have child routes. Please remove all child routes from route path "${c}".`
      ),
      sR(s.children, e, f, c)),
      !(s.path == null && !s.index) &&
        e.push({ path: c, score: hP(c, s.index), routesMeta: f });
  };
  return (
    t.forEach((s, a) => {
      var l;
      if (s.path === "" || !((l = s.path) != null && l.includes("?"))) r(s, a);
      else for (let u of aR(s.path)) r(s, a, u);
    }),
    e
  );
}
function aR(t) {
  let e = t.split("/");
  if (e.length === 0) return [];
  let [n, ...i] = e,
    r = n.endsWith("?"),
    s = n.replace(/\?$/, "");
  if (i.length === 0) return r ? [s, ""] : [s];
  let a = aR(i.join("/")),
    l = [];
  return (
    l.push(...a.map((u) => (u === "" ? s : [s, u].join("/")))),
    r && l.push(...a),
    l.map((u) => (t.startsWith("/") && u === "" ? "/" : u))
  );
}
function rP(t) {
  t.sort((e, n) =>
    e.score !== n.score
      ? n.score - e.score
      : fP(
          e.routesMeta.map((i) => i.childrenIndex),
          n.routesMeta.map((i) => i.childrenIndex)
        )
  );
}
var sP = /^:[\w-]+$/,
  aP = 3,
  oP = 2,
  lP = 1,
  uP = 10,
  cP = -2,
  E0 = (t) => t === "*";
function hP(t, e) {
  let n = t.split("/"),
    i = n.length;
  return (
    n.some(E0) && (i += cP),
    e && (i += oP),
    n
      .filter((r) => !E0(r))
      .reduce((r, s) => r + (sP.test(s) ? aP : s === "" ? lP : uP), i)
  );
}
function fP(t, e) {
  return t.length === e.length && t.slice(0, -1).every((i, r) => i === e[r])
    ? t[t.length - 1] - e[e.length - 1]
    : 0;
}
function dP(t, e, n = !1) {
  let { routesMeta: i } = t,
    r = {},
    s = "/",
    a = [];
  for (let l = 0; l < i.length; ++l) {
    let u = i[l],
      c = l === i.length - 1,
      f = s === "/" ? e : e.slice(s.length) || "/",
      p = Mc(
        { path: u.relativePath, caseSensitive: u.caseSensitive, end: c },
        f
      ),
      m = u.route;
    if (
      (!p &&
        c &&
        n &&
        !i[i.length - 1].route.index &&
        (p = Mc(
          { path: u.relativePath, caseSensitive: u.caseSensitive, end: !1 },
          f
        )),
      !p)
    )
      return null;
    Object.assign(r, p.params),
      a.push({
        params: r,
        pathname: ni([s, p.pathname]),
        pathnameBase: vP(ni([s, p.pathnameBase])),
        route: m,
      }),
      p.pathnameBase !== "/" && (s = ni([s, p.pathnameBase]));
  }
  return a;
}
function Mc(t, e) {
  typeof t == "string" && (t = { path: t, caseSensitive: !1, end: !0 });
  let [n, i] = mP(t.path, t.caseSensitive, t.end),
    r = e.match(n);
  if (!r) return null;
  let s = r[0],
    a = s.replace(/(.)\/+$/, "$1"),
    l = r.slice(1);
  return {
    params: i.reduce((c, { paramName: f, isOptional: p }, m) => {
      if (f === "*") {
        let b = l[m] || "";
        a = s.slice(0, s.length - b.length).replace(/(.)\/+$/, "$1");
      }
      const _ = l[m];
      return (
        p && !_ ? (c[f] = void 0) : (c[f] = (_ || "").replace(/%2F/g, "/")), c
      );
    }, {}),
    pathname: s,
    pathnameBase: a,
    pattern: t,
  };
}
function mP(t, e = !1, n = !0) {
  cn(
    t === "*" || !t.endsWith("*") || t.endsWith("/*"),
    `Route path "${t}" will be treated as if it were "${t.replace(
      /\*$/,
      "/*"
    )}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(
      /\*$/,
      "/*"
    )}".`
  );
  let i = [],
    r =
      "^" +
      t
        .replace(/\/*\*?$/, "")
        .replace(/^\/*/, "/")
        .replace(/[\\.*+^${}|()[\]]/g, "\\$&")
        .replace(
          /\/:([\w-]+)(\?)?/g,
          (a, l, u) => (
            i.push({ paramName: l, isOptional: u != null }),
            u ? "/?([^\\/]+)?" : "/([^\\/]+)"
          )
        );
  return (
    t.endsWith("*")
      ? (i.push({ paramName: "*" }),
        (r += t === "*" || t === "/*" ? "(.*)$" : "(?:\\/(.+)|\\/*)$"))
      : n
      ? (r += "\\/*$")
      : t !== "" && t !== "/" && (r += "(?:(?=\\/|$))"),
    [new RegExp(r, e ? void 0 : "i"), i]
  );
}
function pP(t) {
  try {
    return t
      .split("/")
      .map((e) => decodeURIComponent(e).replace(/\//g, "%2F"))
      .join("/");
  } catch (e) {
    return (
      cn(
        !1,
        `The URL path "${t}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`
      ),
      t
    );
  }
}
function tr(t, e) {
  if (e === "/") return t;
  if (!t.toLowerCase().startsWith(e.toLowerCase())) return null;
  let n = e.endsWith("/") ? e.length - 1 : e.length,
    i = t.charAt(n);
  return i && i !== "/" ? null : t.slice(n) || "/";
}
function gP(t, e = "/") {
  let {
    pathname: n,
    search: i = "",
    hash: r = "",
  } = typeof t == "string" ? _a(t) : t;
  return {
    pathname: n ? (n.startsWith("/") ? n : _P(n, e)) : e,
    search: EP(i),
    hash: TP(r),
  };
}
function _P(t, e) {
  let n = e.replace(/\/+$/, "").split("/");
  return (
    t.split("/").forEach((r) => {
      r === ".." ? n.length > 1 && n.pop() : r !== "." && n.push(r);
    }),
    n.length > 1 ? n.join("/") : "/"
  );
}
function $f(t, e, n, i) {
  return `Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(
    i
  )}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`;
}
function yP(t) {
  return t.filter(
    (e, n) => n === 0 || (e.route.path && e.route.path.length > 0)
  );
}
function pg(t) {
  let e = yP(t);
  return e.map((n, i) => (i === e.length - 1 ? n.pathname : n.pathnameBase));
}
function gg(t, e, n, i = !1) {
  let r;
  typeof t == "string"
    ? (r = _a(t))
    : ((r = { ...t }),
      Se(
        !r.pathname || !r.pathname.includes("?"),
        $f("?", "pathname", "search", r)
      ),
      Se(
        !r.pathname || !r.pathname.includes("#"),
        $f("#", "pathname", "hash", r)
      ),
      Se(!r.search || !r.search.includes("#"), $f("#", "search", "hash", r)));
  let s = t === "" || r.pathname === "",
    a = s ? "/" : r.pathname,
    l;
  if (a == null) l = n;
  else {
    let p = e.length - 1;
    if (!i && a.startsWith("..")) {
      let m = a.split("/");
      for (; m[0] === ".."; ) m.shift(), (p -= 1);
      r.pathname = m.join("/");
    }
    l = p >= 0 ? e[p] : "/";
  }
  let u = gP(r, l),
    c = a && a !== "/" && a.endsWith("/"),
    f = (s || a === ".") && n.endsWith("/");
  return !u.pathname.endsWith("/") && (c || f) && (u.pathname += "/"), u;
}
var ni = (t) => t.join("/").replace(/\/\/+/g, "/"),
  vP = (t) => t.replace(/\/+$/, "").replace(/^\/*/, "/"),
  EP = (t) => (!t || t === "?" ? "" : t.startsWith("?") ? t : "?" + t),
  TP = (t) => (!t || t === "#" ? "" : t.startsWith("#") ? t : "#" + t);
function AP(t) {
  return (
    t != null &&
    typeof t.status == "number" &&
    typeof t.statusText == "string" &&
    typeof t.internal == "boolean" &&
    "data" in t
  );
}
var oR = ["POST", "PUT", "PATCH", "DELETE"];
new Set(oR);
var wP = ["GET", ...oR];
new Set(wP);
var ya = k.createContext(null);
ya.displayName = "DataRouter";
var wh = k.createContext(null);
wh.displayName = "DataRouterState";
var lR = k.createContext({ isTransitioning: !1 });
lR.displayName = "ViewTransition";
var SP = k.createContext(new Map());
SP.displayName = "Fetchers";
var RP = k.createContext(null);
RP.displayName = "Await";
var fn = k.createContext(null);
fn.displayName = "Navigation";
var Sl = k.createContext(null);
Sl.displayName = "Location";
var Mn = k.createContext({ outlet: null, matches: [], isDataRoute: !1 });
Mn.displayName = "Route";
var _g = k.createContext(null);
_g.displayName = "RouteError";
function bP(t, { relative: e } = {}) {
  Se(
    va(),
    "useHref() may be used only in the context of a <Router> component."
  );
  let { basename: n, navigator: i } = k.useContext(fn),
    { hash: r, pathname: s, search: a } = Rl(t, { relative: e }),
    l = s;
  return (
    n !== "/" && (l = s === "/" ? n : ni([n, s])),
    i.createHref({ pathname: l, search: a, hash: r })
  );
}
function va() {
  return k.useContext(Sl) != null;
}
function lr() {
  return (
    Se(
      va(),
      "useLocation() may be used only in the context of a <Router> component."
    ),
    k.useContext(Sl).location
  );
}
var uR =
  "You should call navigate() in a React.useEffect(), not when your component is first rendered.";
function cR(t) {
  k.useContext(fn).static || k.useLayoutEffect(t);
}
function Sh() {
  let { isDataRoute: t } = k.useContext(Mn);
  return t ? BP() : IP();
}
function IP() {
  Se(
    va(),
    "useNavigate() may be used only in the context of a <Router> component."
  );
  let t = k.useContext(ya),
    { basename: e, navigator: n } = k.useContext(fn),
    { matches: i } = k.useContext(Mn),
    { pathname: r } = lr(),
    s = JSON.stringify(pg(i)),
    a = k.useRef(!1);
  return (
    cR(() => {
      a.current = !0;
    }),
    k.useCallback(
      (u, c = {}) => {
        if ((cn(a.current, uR), !a.current)) return;
        if (typeof u == "number") {
          n.go(u);
          return;
        }
        let f = gg(u, JSON.parse(s), r, c.relative === "path");
        t == null &&
          e !== "/" &&
          (f.pathname = f.pathname === "/" ? e : ni([e, f.pathname])),
          (c.replace ? n.replace : n.push)(f, c.state, c);
      },
      [e, n, s, r, t]
    )
  );
}
k.createContext(null);
function Rl(t, { relative: e } = {}) {
  let { matches: n } = k.useContext(Mn),
    { pathname: i } = lr(),
    r = JSON.stringify(pg(n));
  return k.useMemo(() => gg(t, JSON.parse(r), i, e === "path"), [t, r, i, e]);
}
function CP(t, e) {
  return hR(t, e);
}
function hR(t, e, n, i) {
  var E;
  Se(
    va(),
    "useRoutes() may be used only in the context of a <Router> component."
  );
  let { navigator: r } = k.useContext(fn),
    { matches: s } = k.useContext(Mn),
    a = s[s.length - 1],
    l = a ? a.params : {},
    u = a ? a.pathname : "/",
    c = a ? a.pathnameBase : "/",
    f = a && a.route;
  {
    let v = (f && f.path) || "";
    fR(
      u,
      !f || v.endsWith("*") || v.endsWith("*?"),
      `You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${v}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${v}"> to <Route path="${
        v === "/" ? "*" : `${v}/*`
      }">.`
    );
  }
  let p = lr(),
    m;
  if (e) {
    let v = typeof e == "string" ? _a(e) : e;
    Se(
      c === "/" || ((E = v.pathname) == null ? void 0 : E.startsWith(c)),
      `When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${c}" but pathname "${v.pathname}" was given in the \`location\` prop.`
    ),
      (m = v);
  } else m = p;
  let _ = m.pathname || "/",
    b = _;
  if (c !== "/") {
    let v = c.replace(/^\//, "").split("/");
    b = "/" + _.replace(/^\//, "").split("/").slice(v.length).join("/");
  }
  let C = rR(t, { pathname: b });
  cn(
    f || C != null,
    `No routes matched location "${m.pathname}${m.search}${m.hash}" `
  ),
    cn(
      C == null ||
        C[C.length - 1].route.element !== void 0 ||
        C[C.length - 1].route.Component !== void 0 ||
        C[C.length - 1].route.lazy !== void 0,
      `Matched leaf route at location "${m.pathname}${m.search}${m.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`
    );
  let D = kP(
    C &&
      C.map((v) =>
        Object.assign({}, v, {
          params: Object.assign({}, l, v.params),
          pathname: ni([
            c,
            r.encodeLocation
              ? r.encodeLocation(v.pathname).pathname
              : v.pathname,
          ]),
          pathnameBase:
            v.pathnameBase === "/"
              ? c
              : ni([
                  c,
                  r.encodeLocation
                    ? r.encodeLocation(v.pathnameBase).pathname
                    : v.pathnameBase,
                ]),
        })
      ),
    s,
    n,
    i
  );
  return e && D
    ? k.createElement(
        Sl.Provider,
        {
          value: {
            location: {
              pathname: "/",
              search: "",
              hash: "",
              state: null,
              key: "default",
              ...m,
            },
            navigationType: "POP",
          },
        },
        D
      )
    : D;
}
function DP() {
  let t = LP(),
    e = AP(t)
      ? `${t.status} ${t.statusText}`
      : t instanceof Error
      ? t.message
      : JSON.stringify(t),
    n = t instanceof Error ? t.stack : null,
    i = "rgba(200,200,200, 0.5)",
    r = { padding: "0.5rem", backgroundColor: i },
    s = { padding: "2px 4px", backgroundColor: i },
    a = null;
  return (
    console.error("Error handled by React Router default ErrorBoundary:", t),
    (a = k.createElement(
      k.Fragment,
      null,
      k.createElement("p", null, "💿 Hey developer 👋"),
      k.createElement(
        "p",
        null,
        "You can provide a way better UX than this when your app throws errors by providing your own ",
        k.createElement("code", { style: s }, "ErrorBoundary"),
        " or",
        " ",
        k.createElement("code", { style: s }, "errorElement"),
        " prop on your route."
      )
    )),
    k.createElement(
      k.Fragment,
      null,
      k.createElement("h2", null, "Unexpected Application Error!"),
      k.createElement("h3", { style: { fontStyle: "italic" } }, e),
      n ? k.createElement("pre", { style: r }, n) : null,
      a
    )
  );
}
var OP = k.createElement(DP, null),
  NP = class extends k.Component {
    constructor(t) {
      super(t),
        (this.state = {
          location: t.location,
          revalidation: t.revalidation,
          error: t.error,
        });
    }
    static getDerivedStateFromError(t) {
      return { error: t };
    }
    static getDerivedStateFromProps(t, e) {
      return e.location !== t.location ||
        (e.revalidation !== "idle" && t.revalidation === "idle")
        ? { error: t.error, location: t.location, revalidation: t.revalidation }
        : {
            error: t.error !== void 0 ? t.error : e.error,
            location: e.location,
            revalidation: t.revalidation || e.revalidation,
          };
    }
    componentDidCatch(t, e) {
      console.error(
        "React Router caught the following error during render",
        t,
        e
      );
    }
    render() {
      return this.state.error !== void 0
        ? k.createElement(
            Mn.Provider,
            { value: this.props.routeContext },
            k.createElement(_g.Provider, {
              value: this.state.error,
              children: this.props.component,
            })
          )
        : this.props.children;
    }
  };
function MP({ routeContext: t, match: e, children: n }) {
  let i = k.useContext(ya);
  return (
    i &&
      i.static &&
      i.staticContext &&
      (e.route.errorElement || e.route.ErrorBoundary) &&
      (i.staticContext._deepestRenderedBoundaryId = e.route.id),
    k.createElement(Mn.Provider, { value: t }, n)
  );
}
function kP(t, e = [], n = null, i = null) {
  if (t == null) {
    if (!n) return null;
    if (n.errors) t = n.matches;
    else if (e.length === 0 && !n.initialized && n.matches.length > 0)
      t = n.matches;
    else return null;
  }
  let r = t,
    s = n == null ? void 0 : n.errors;
  if (s != null) {
    let u = r.findIndex(
      (c) => c.route.id && (s == null ? void 0 : s[c.route.id]) !== void 0
    );
    Se(
      u >= 0,
      `Could not find a matching route for errors on route IDs: ${Object.keys(
        s
      ).join(",")}`
    ),
      (r = r.slice(0, Math.min(r.length, u + 1)));
  }
  let a = !1,
    l = -1;
  if (n)
    for (let u = 0; u < r.length; u++) {
      let c = r[u];
      if (
        ((c.route.HydrateFallback || c.route.hydrateFallbackElement) && (l = u),
        c.route.id)
      ) {
        let { loaderData: f, errors: p } = n,
          m =
            c.route.loader &&
            !f.hasOwnProperty(c.route.id) &&
            (!p || p[c.route.id] === void 0);
        if (c.route.lazy || m) {
          (a = !0), l >= 0 ? (r = r.slice(0, l + 1)) : (r = [r[0]]);
          break;
        }
      }
    }
  return r.reduceRight((u, c, f) => {
    let p,
      m = !1,
      _ = null,
      b = null;
    n &&
      ((p = s && c.route.id ? s[c.route.id] : void 0),
      (_ = c.route.errorElement || OP),
      a &&
        (l < 0 && f === 0
          ? (fR(
              "route-fallback",
              !1,
              "No `HydrateFallback` element provided to render during initial hydration"
            ),
            (m = !0),
            (b = null))
          : l === f &&
            ((m = !0), (b = c.route.hydrateFallbackElement || null))));
    let C = e.concat(r.slice(0, f + 1)),
      D = () => {
        let E;
        return (
          p
            ? (E = _)
            : m
            ? (E = b)
            : c.route.Component
            ? (E = k.createElement(c.route.Component, null))
            : c.route.element
            ? (E = c.route.element)
            : (E = u),
          k.createElement(MP, {
            match: c,
            routeContext: { outlet: u, matches: C, isDataRoute: n != null },
            children: E,
          })
        );
      };
    return n && (c.route.ErrorBoundary || c.route.errorElement || f === 0)
      ? k.createElement(NP, {
          location: n.location,
          revalidation: n.revalidation,
          component: _,
          error: p,
          children: D(),
          routeContext: { outlet: null, matches: C, isDataRoute: !0 },
        })
      : D();
  }, null);
}
function yg(t) {
  return `${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`;
}
function xP(t) {
  let e = k.useContext(ya);
  return Se(e, yg(t)), e;
}
function VP(t) {
  let e = k.useContext(wh);
  return Se(e, yg(t)), e;
}
function PP(t) {
  let e = k.useContext(Mn);
  return Se(e, yg(t)), e;
}
function vg(t) {
  let e = PP(t),
    n = e.matches[e.matches.length - 1];
  return (
    Se(
      n.route.id,
      `${t} can only be used on routes that contain a unique "id"`
    ),
    n.route.id
  );
}
function UP() {
  return vg("useRouteId");
}
function LP() {
  var i;
  let t = k.useContext(_g),
    e = VP("useRouteError"),
    n = vg("useRouteError");
  return t !== void 0 ? t : (i = e.errors) == null ? void 0 : i[n];
}
function BP() {
  let { router: t } = xP("useNavigate"),
    e = vg("useNavigate"),
    n = k.useRef(!1);
  return (
    cR(() => {
      n.current = !0;
    }),
    k.useCallback(
      async (r, s = {}) => {
        cn(n.current, uR),
          n.current &&
            (typeof r == "number"
              ? t.navigate(r)
              : await t.navigate(r, { fromRouteId: e, ...s }));
      },
      [t, e]
    )
  );
}
var T0 = {};
function fR(t, e, n) {
  !e && !T0[t] && ((T0[t] = !0), cn(!1, n));
}
k.memo(zP);
function zP({ routes: t, future: e, state: n }) {
  return hR(t, void 0, n, e);
}
function jP({ to: t, replace: e, state: n, relative: i }) {
  Se(
    va(),
    "<Navigate> may be used only in the context of a <Router> component."
  );
  let { static: r } = k.useContext(fn);
  cn(
    !r,
    "<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change."
  );
  let { matches: s } = k.useContext(Mn),
    { pathname: a } = lr(),
    l = Sh(),
    u = gg(t, pg(s), a, i === "path"),
    c = JSON.stringify(u);
  return (
    k.useEffect(() => {
      l(JSON.parse(c), { replace: e, state: n, relative: i });
    }, [l, c, i, e, n]),
    null
  );
}
function no(t) {
  Se(
    !1,
    "A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>."
  );
}
function qP({
  basename: t = "/",
  children: e = null,
  location: n,
  navigationType: i = "POP",
  navigator: r,
  static: s = !1,
}) {
  Se(
    !va(),
    "You cannot render a <Router> inside another <Router>. You should never have more than one in your app."
  );
  let a = t.replace(/^\/*/, "/"),
    l = k.useMemo(
      () => ({ basename: a, navigator: r, static: s, future: {} }),
      [a, r, s]
    );
  typeof n == "string" && (n = _a(n));
  let {
      pathname: u = "/",
      search: c = "",
      hash: f = "",
      state: p = null,
      key: m = "default",
    } = n,
    _ = k.useMemo(() => {
      let b = tr(u, a);
      return b == null
        ? null
        : {
            location: { pathname: b, search: c, hash: f, state: p, key: m },
            navigationType: i,
          };
    }, [a, u, c, f, p, m, i]);
  return (
    cn(
      _ != null,
      `<Router basename="${a}"> is not able to match the URL "${u}${c}${f}" because it does not start with the basename, so the <Router> won't render anything.`
    ),
    _ == null
      ? null
      : k.createElement(
          fn.Provider,
          { value: l },
          k.createElement(Sl.Provider, { children: e, value: _ })
        )
  );
}
function HP({ children: t, location: e }) {
  return CP(_m(t), e);
}
function _m(t, e = []) {
  let n = [];
  return (
    k.Children.forEach(t, (i, r) => {
      if (!k.isValidElement(i)) return;
      let s = [...e, r];
      if (i.type === k.Fragment) {
        n.push.apply(n, _m(i.props.children, s));
        return;
      }
      Se(
        i.type === no,
        `[${
          typeof i.type == "string" ? i.type : i.type.name
        }] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`
      ),
        Se(
          !i.props.index || !i.props.children,
          "An index route cannot have child routes."
        );
      let a = {
        id: i.props.id || s.join("-"),
        caseSensitive: i.props.caseSensitive,
        element: i.props.element,
        Component: i.props.Component,
        index: i.props.index,
        path: i.props.path,
        loader: i.props.loader,
        action: i.props.action,
        hydrateFallbackElement: i.props.hydrateFallbackElement,
        HydrateFallback: i.props.HydrateFallback,
        errorElement: i.props.errorElement,
        ErrorBoundary: i.props.ErrorBoundary,
        hasErrorBoundary:
          i.props.hasErrorBoundary === !0 ||
          i.props.ErrorBoundary != null ||
          i.props.errorElement != null,
        shouldRevalidate: i.props.shouldRevalidate,
        handle: i.props.handle,
        lazy: i.props.lazy,
      };
      i.props.children && (a.children = _m(i.props.children, s)), n.push(a);
    }),
    n
  );
}
var Uu = "get",
  Lu = "application/x-www-form-urlencoded";
function Rh(t) {
  return t != null && typeof t.tagName == "string";
}
function FP(t) {
  return Rh(t) && t.tagName.toLowerCase() === "button";
}
function GP(t) {
  return Rh(t) && t.tagName.toLowerCase() === "form";
}
function KP(t) {
  return Rh(t) && t.tagName.toLowerCase() === "input";
}
function QP(t) {
  return !!(t.metaKey || t.altKey || t.ctrlKey || t.shiftKey);
}
function $P(t, e) {
  return t.button === 0 && (!e || e === "_self") && !QP(t);
}
var mu = null;
function YP() {
  if (mu === null)
    try {
      new FormData(document.createElement("form"), 0), (mu = !1);
    } catch {
      mu = !0;
    }
  return mu;
}
var XP = new Set([
  "application/x-www-form-urlencoded",
  "multipart/form-data",
  "text/plain",
]);
function Yf(t) {
  return t != null && !XP.has(t)
    ? (cn(
        !1,
        `"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Lu}"`
      ),
      null)
    : t;
}
function WP(t, e) {
  let n, i, r, s, a;
  if (GP(t)) {
    let l = t.getAttribute("action");
    (i = l ? tr(l, e) : null),
      (n = t.getAttribute("method") || Uu),
      (r = Yf(t.getAttribute("enctype")) || Lu),
      (s = new FormData(t));
  } else if (FP(t) || (KP(t) && (t.type === "submit" || t.type === "image"))) {
    let l = t.form;
    if (l == null)
      throw new Error(
        'Cannot submit a <button> or <input type="submit"> without a <form>'
      );
    let u = t.getAttribute("formaction") || l.getAttribute("action");
    if (
      ((i = u ? tr(u, e) : null),
      (n = t.getAttribute("formmethod") || l.getAttribute("method") || Uu),
      (r =
        Yf(t.getAttribute("formenctype")) ||
        Yf(l.getAttribute("enctype")) ||
        Lu),
      (s = new FormData(l, t)),
      !YP())
    ) {
      let { name: c, type: f, value: p } = t;
      if (f === "image") {
        let m = c ? `${c}.` : "";
        s.append(`${m}x`, "0"), s.append(`${m}y`, "0");
      } else c && s.append(c, p);
    }
  } else {
    if (Rh(t))
      throw new Error(
        'Cannot submit element that is not <form>, <button>, or <input type="submit|image">'
      );
    (n = Uu), (i = null), (r = Lu), (a = t);
  }
  return (
    s && r === "text/plain" && ((a = s), (s = void 0)),
    { action: i, method: n.toLowerCase(), encType: r, formData: s, body: a }
  );
}
function Eg(t, e) {
  if (t === !1 || t === null || typeof t > "u") throw new Error(e);
}
async function ZP(t, e) {
  if (t.id in e) return e[t.id];
  try {
    let n = await HV(() => import(t.module), []);
    return (e[t.id] = n), n;
  } catch (n) {
    return (
      console.error(
        `Error loading route module \`${t.module}\`, reloading page...`
      ),
      console.error(n),
      window.__reactRouterContext && window.__reactRouterContext.isSpaMode,
      window.location.reload(),
      new Promise(() => {})
    );
  }
}
function JP(t) {
  return t != null && typeof t.page == "string";
}
function eU(t) {
  return t == null
    ? !1
    : t.href == null
    ? t.rel === "preload" &&
      typeof t.imageSrcSet == "string" &&
      typeof t.imageSizes == "string"
    : typeof t.rel == "string" && typeof t.href == "string";
}
async function tU(t, e, n) {
  let i = await Promise.all(
    t.map(async (r) => {
      let s = e.routes[r.route.id];
      if (s) {
        let a = await ZP(s, n);
        return a.links ? a.links() : [];
      }
      return [];
    })
  );
  return sU(
    i
      .flat(1)
      .filter(eU)
      .filter((r) => r.rel === "stylesheet" || r.rel === "preload")
      .map((r) =>
        r.rel === "stylesheet"
          ? { ...r, rel: "prefetch", as: "style" }
          : { ...r, rel: "prefetch" }
      )
  );
}
function A0(t, e, n, i, r, s) {
  let a = (u, c) => (n[c] ? u.route.id !== n[c].route.id : !0),
    l = (u, c) => {
      var f;
      return (
        n[c].pathname !== u.pathname ||
        (((f = n[c].route.path) == null ? void 0 : f.endsWith("*")) &&
          n[c].params["*"] !== u.params["*"])
      );
    };
  return s === "assets"
    ? e.filter((u, c) => a(u, c) || l(u, c))
    : s === "data"
    ? e.filter((u, c) => {
        var p;
        let f = i.routes[u.route.id];
        if (!f || !f.hasLoader) return !1;
        if (a(u, c) || l(u, c)) return !0;
        if (u.route.shouldRevalidate) {
          let m = u.route.shouldRevalidate({
            currentUrl: new URL(r.pathname + r.search + r.hash, window.origin),
            currentParams: ((p = n[0]) == null ? void 0 : p.params) || {},
            nextUrl: new URL(t, window.origin),
            nextParams: u.params,
            defaultShouldRevalidate: !0,
          });
          if (typeof m == "boolean") return m;
        }
        return !0;
      })
    : [];
}
function nU(t, e) {
  return iU(
    t
      .map((n) => {
        let i = e.routes[n.route.id];
        if (!i) return [];
        let r = [i.module];
        return i.imports && (r = r.concat(i.imports)), r;
      })
      .flat(1)
  );
}
function iU(t) {
  return [...new Set(t)];
}
function rU(t) {
  let e = {},
    n = Object.keys(t).sort();
  for (let i of n) e[i] = t[i];
  return e;
}
function sU(t, e) {
  let n = new Set(),
    i = new Set(e);
  return t.reduce((r, s) => {
    if (e && !JP(s) && s.as === "script" && s.href && i.has(s.href)) return r;
    let l = JSON.stringify(rU(s));
    return n.has(l) || (n.add(l), r.push({ key: l, link: s })), r;
  }, []);
}
function aU(t) {
  let e =
    typeof t == "string"
      ? new URL(
          t,
          typeof window > "u" ? "server://singlefetch/" : window.location.origin
        )
      : t;
  return (
    e.pathname === "/"
      ? (e.pathname = "_root.data")
      : (e.pathname = `${e.pathname.replace(/\/$/, "")}.data`),
    e
  );
}
function oU() {
  let t = k.useContext(ya);
  return (
    Eg(
      t,
      "You must render this element inside a <DataRouterContext.Provider> element"
    ),
    t
  );
}
function lU() {
  let t = k.useContext(wh);
  return (
    Eg(
      t,
      "You must render this element inside a <DataRouterStateContext.Provider> element"
    ),
    t
  );
}
var Tg = k.createContext(void 0);
Tg.displayName = "FrameworkContext";
function dR() {
  let t = k.useContext(Tg);
  return (
    Eg(t, "You must render this element inside a <HydratedRouter> element"), t
  );
}
function uU(t, e) {
  let n = k.useContext(Tg),
    [i, r] = k.useState(!1),
    [s, a] = k.useState(!1),
    {
      onFocus: l,
      onBlur: u,
      onMouseEnter: c,
      onMouseLeave: f,
      onTouchStart: p,
    } = e,
    m = k.useRef(null);
  k.useEffect(() => {
    if ((t === "render" && a(!0), t === "viewport")) {
      let C = (E) => {
          E.forEach((v) => {
            a(v.isIntersecting);
          });
        },
        D = new IntersectionObserver(C, { threshold: 0.5 });
      return (
        m.current && D.observe(m.current),
        () => {
          D.disconnect();
        }
      );
    }
  }, [t]),
    k.useEffect(() => {
      if (i) {
        let C = setTimeout(() => {
          a(!0);
        }, 100);
        return () => {
          clearTimeout(C);
        };
      }
    }, [i]);
  let _ = () => {
      r(!0);
    },
    b = () => {
      r(!1), a(!1);
    };
  return n
    ? t !== "intent"
      ? [s, m, {}]
      : [
          s,
          m,
          {
            onFocus: Fa(l, _),
            onBlur: Fa(u, b),
            onMouseEnter: Fa(c, _),
            onMouseLeave: Fa(f, b),
            onTouchStart: Fa(p, _),
          },
        ]
    : [!1, m, {}];
}
function Fa(t, e) {
  return (n) => {
    t && t(n), n.defaultPrevented || e(n);
  };
}
function cU({ page: t, ...e }) {
  let { router: n } = oU(),
    i = k.useMemo(() => rR(n.routes, t, n.basename), [n.routes, t, n.basename]);
  return i ? k.createElement(fU, { page: t, matches: i, ...e }) : null;
}
function hU(t) {
  let { manifest: e, routeModules: n } = dR(),
    [i, r] = k.useState([]);
  return (
    k.useEffect(() => {
      let s = !1;
      return (
        tU(t, e, n).then((a) => {
          s || r(a);
        }),
        () => {
          s = !0;
        }
      );
    }, [t, e, n]),
    i
  );
}
function fU({ page: t, matches: e, ...n }) {
  let i = lr(),
    { manifest: r, routeModules: s } = dR(),
    { loaderData: a, matches: l } = lU(),
    u = k.useMemo(() => A0(t, e, l, r, i, "data"), [t, e, l, r, i]),
    c = k.useMemo(() => A0(t, e, l, r, i, "assets"), [t, e, l, r, i]),
    f = k.useMemo(() => {
      if (t === i.pathname + i.search + i.hash) return [];
      let _ = new Set(),
        b = !1;
      if (
        (e.forEach((D) => {
          var v;
          let E = r.routes[D.route.id];
          !E ||
            !E.hasLoader ||
            ((!u.some((w) => w.route.id === D.route.id) &&
              D.route.id in a &&
              (v = s[D.route.id]) != null &&
              v.shouldRevalidate) ||
            E.hasClientLoader
              ? (b = !0)
              : _.add(D.route.id));
        }),
        _.size === 0)
      )
        return [];
      let C = aU(t);
      return (
        b &&
          _.size > 0 &&
          C.searchParams.set(
            "_routes",
            e
              .filter((D) => _.has(D.route.id))
              .map((D) => D.route.id)
              .join(",")
          ),
        [C.pathname + C.search]
      );
    }, [a, i, r, u, e, t, s]),
    p = k.useMemo(() => nU(c, r), [c, r]),
    m = hU(c);
  return k.createElement(
    k.Fragment,
    null,
    f.map((_) =>
      k.createElement("link", {
        key: _,
        rel: "prefetch",
        as: "fetch",
        href: _,
        ...n,
      })
    ),
    p.map((_) =>
      k.createElement("link", { key: _, rel: "modulepreload", href: _, ...n })
    ),
    m.map(({ key: _, link: b }) => k.createElement("link", { key: _, ...b }))
  );
}
function dU(...t) {
  return (e) => {
    t.forEach((n) => {
      typeof n == "function" ? n(e) : n != null && (n.current = e);
    });
  };
}
var mR =
  typeof window < "u" &&
  typeof window.document < "u" &&
  typeof window.document.createElement < "u";
try {
  mR && (window.__reactRouterVersion = "7.1.1");
} catch {}
function mU({ basename: t, children: e, window: n }) {
  let i = k.useRef();
  i.current == null && (i.current = eP({ window: n, v5Compat: !0 }));
  let r = i.current,
    [s, a] = k.useState({ action: r.action, location: r.location }),
    l = k.useCallback(
      (u) => {
        k.startTransition(() => a(u));
      },
      [a]
    );
  return (
    k.useLayoutEffect(() => r.listen(l), [r, l]),
    k.createElement(qP, {
      basename: t,
      children: e,
      location: s.location,
      navigationType: s.action,
      navigator: r,
    })
  );
}
var pR = /^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,
  bh = k.forwardRef(function (
    {
      onClick: e,
      discover: n = "render",
      prefetch: i = "none",
      relative: r,
      reloadDocument: s,
      replace: a,
      state: l,
      target: u,
      to: c,
      preventScrollReset: f,
      viewTransition: p,
      ...m
    },
    _
  ) {
    let { basename: b } = k.useContext(fn),
      C = typeof c == "string" && pR.test(c),
      D,
      E = !1;
    if (typeof c == "string" && C && ((D = c), mR))
      try {
        let T = new URL(window.location.href),
          S = c.startsWith("//") ? new URL(T.protocol + c) : new URL(c),
          I = tr(S.pathname, b);
        S.origin === T.origin && I != null
          ? (c = I + S.search + S.hash)
          : (E = !0);
      } catch {
        cn(
          !1,
          `<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`
        );
      }
    let v = bP(c, { relative: r }),
      [w, O, B] = uU(i, m),
      j = yU(c, {
        replace: a,
        state: l,
        target: u,
        preventScrollReset: f,
        relative: r,
        viewTransition: p,
      });
    function A(T) {
      e && e(T), T.defaultPrevented || j(T);
    }
    let y = k.createElement("a", {
      ...m,
      ...B,
      href: D || v,
      onClick: E || s ? e : A,
      ref: dU(_, O),
      target: u,
      "data-discover": !C && n === "render" ? "true" : void 0,
    });
    return w && !C
      ? k.createElement(k.Fragment, null, y, k.createElement(cU, { page: v }))
      : y;
  });
bh.displayName = "Link";
var pU = k.forwardRef(function (
  {
    "aria-current": e = "page",
    caseSensitive: n = !1,
    className: i = "",
    end: r = !1,
    style: s,
    to: a,
    viewTransition: l,
    children: u,
    ...c
  },
  f
) {
  let p = Rl(a, { relative: c.relative }),
    m = lr(),
    _ = k.useContext(wh),
    { navigator: b, basename: C } = k.useContext(fn),
    D = _ != null && wU(p) && l === !0,
    E = b.encodeLocation ? b.encodeLocation(p).pathname : p.pathname,
    v = m.pathname,
    w =
      _ && _.navigation && _.navigation.location
        ? _.navigation.location.pathname
        : null;
  n ||
    ((v = v.toLowerCase()),
    (w = w ? w.toLowerCase() : null),
    (E = E.toLowerCase())),
    w && C && (w = tr(w, C) || w);
  const O = E !== "/" && E.endsWith("/") ? E.length - 1 : E.length;
  let B = v === E || (!r && v.startsWith(E) && v.charAt(O) === "/"),
    j =
      w != null &&
      (w === E || (!r && w.startsWith(E) && w.charAt(E.length) === "/")),
    A = { isActive: B, isPending: j, isTransitioning: D },
    y = B ? e : void 0,
    T;
  typeof i == "function"
    ? (T = i(A))
    : (T = [
        i,
        B ? "active" : null,
        j ? "pending" : null,
        D ? "transitioning" : null,
      ]
        .filter(Boolean)
        .join(" "));
  let S = typeof s == "function" ? s(A) : s;
  return k.createElement(
    bh,
    {
      ...c,
      "aria-current": y,
      className: T,
      ref: f,
      style: S,
      to: a,
      viewTransition: l,
    },
    typeof u == "function" ? u(A) : u
  );
});
pU.displayName = "NavLink";
var gU = k.forwardRef(
  (
    {
      discover: t = "render",
      fetcherKey: e,
      navigate: n,
      reloadDocument: i,
      replace: r,
      state: s,
      method: a = Uu,
      action: l,
      onSubmit: u,
      relative: c,
      preventScrollReset: f,
      viewTransition: p,
      ...m
    },
    _
  ) => {
    let b = TU(),
      C = AU(l, { relative: c }),
      D = a.toLowerCase() === "get" ? "get" : "post",
      E = typeof l == "string" && pR.test(l),
      v = (w) => {
        if ((u && u(w), w.defaultPrevented)) return;
        w.preventDefault();
        let O = w.nativeEvent.submitter,
          B = (O == null ? void 0 : O.getAttribute("formmethod")) || a;
        b(O || w.currentTarget, {
          fetcherKey: e,
          method: B,
          navigate: n,
          replace: r,
          state: s,
          relative: c,
          preventScrollReset: f,
          viewTransition: p,
        });
      };
    return k.createElement("form", {
      ref: _,
      method: D,
      action: C,
      onSubmit: i ? u : v,
      ...m,
      "data-discover": !E && t === "render" ? "true" : void 0,
    });
  }
);
gU.displayName = "Form";
function _U(t) {
  return `${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`;
}
function gR(t) {
  let e = k.useContext(ya);
  return Se(e, _U(t)), e;
}
function yU(
  t,
  {
    target: e,
    replace: n,
    state: i,
    preventScrollReset: r,
    relative: s,
    viewTransition: a,
  } = {}
) {
  let l = Sh(),
    u = lr(),
    c = Rl(t, { relative: s });
  return k.useCallback(
    (f) => {
      if ($P(f, e)) {
        f.preventDefault();
        let p = n !== void 0 ? n : Wo(u) === Wo(c);
        l(t, {
          replace: p,
          state: i,
          preventScrollReset: r,
          relative: s,
          viewTransition: a,
        });
      }
    },
    [u, l, c, n, i, e, t, r, s, a]
  );
}
var vU = 0,
  EU = () => `__${String(++vU)}__`;
function TU() {
  let { router: t } = gR("useSubmit"),
    { basename: e } = k.useContext(fn),
    n = UP();
  return k.useCallback(
    async (i, r = {}) => {
      let { action: s, method: a, encType: l, formData: u, body: c } = WP(i, e);
      if (r.navigate === !1) {
        let f = r.fetcherKey || EU();
        await t.fetch(f, n, r.action || s, {
          preventScrollReset: r.preventScrollReset,
          formData: u,
          body: c,
          formMethod: r.method || a,
          formEncType: r.encType || l,
          flushSync: r.flushSync,
        });
      } else
        await t.navigate(r.action || s, {
          preventScrollReset: r.preventScrollReset,
          formData: u,
          body: c,
          formMethod: r.method || a,
          formEncType: r.encType || l,
          replace: r.replace,
          state: r.state,
          fromRouteId: n,
          flushSync: r.flushSync,
          viewTransition: r.viewTransition,
        });
    },
    [t, e, n]
  );
}
function AU(t, { relative: e } = {}) {
  let { basename: n } = k.useContext(fn),
    i = k.useContext(Mn);
  Se(i, "useFormAction must be used inside a RouteContext");
  let [r] = i.matches.slice(-1),
    s = { ...Rl(t || ".", { relative: e }) },
    a = lr();
  if (t == null) {
    s.search = a.search;
    let l = new URLSearchParams(s.search),
      u = l.getAll("index");
    if (u.some((f) => f === "")) {
      l.delete("index"),
        u.filter((p) => p).forEach((p) => l.append("index", p));
      let f = l.toString();
      s.search = f ? `?${f}` : "";
    }
  }
  return (
    (!t || t === ".") &&
      r.route.index &&
      (s.search = s.search ? s.search.replace(/^\?/, "?index&") : "?index"),
    n !== "/" && (s.pathname = s.pathname === "/" ? n : ni([n, s.pathname])),
    Wo(s)
  );
}
function wU(t, e = {}) {
  let n = k.useContext(lR);
  Se(
    n != null,
    "`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?"
  );
  let { basename: i } = gR("useViewTransitionState"),
    r = Rl(t, { relative: e.relative });
  if (!n.isTransitioning) return !1;
  let s = tr(n.currentLocation.pathname, i) || n.currentLocation.pathname,
    a = tr(n.nextLocation.pathname, i) || n.nextLocation.pathname;
  return Mc(r.pathname, a) != null || Mc(r.pathname, s) != null;
}
new TextEncoder();
const SU = () => {
    const [t, e] = k.useState(!1),
      n = Sh(),
      i = async (r) => {
        r.preventDefault();
        const s = r.target[0].value,
          a = r.target[1].value;
        try {
          await TO(Th, s, a), n("/");
        } catch {
          e(!0);
        }
      };
    return V.jsx("div", {
      className: "formContainer",
      children: V.jsxs("div", {
        className: "formWrapper",
        children: [
          V.jsx("span", { className: "logo", children: "Sipher Chat" }),
          V.jsx("span", { className: "title", children: "Login" }),
          V.jsxs("form", {
            onSubmit: i,
            children: [
              V.jsx("input", { type: "email", placeholder: "email" }),
              V.jsx("input", { type: "password", placeholder: "password" }),
              V.jsx("button", { children: "Sign In" }),
              t && V.jsx("span", { children: "Something went wrong" }),
            ],
          }),
          V.jsxs("p", {
            children: [
              "You don't have an account? ",
              V.jsx(bh, { to: "/register", children: "Register" }),
            ],
          }),
        ],
      }),
    });
  },
  RU =
    "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAYhJREFUSInVlLtKRDEQhr85WCyIzRYWloKFKIiVIBMXa20tBMULop2P4DtYuiIoLojgQyjJ2oqF+BbbKGwhJDZn5ezhbE7wUviXk3/my0yYwB9L6gwhBLHW7ojIEbCQh59DCGfGmCsRCd8GhBAy51wH2BxhuVHVLRHxo2pkMYC1dj9SHGAz94xUFCAiB7HzFE8UAMzXAYC5nwCiD5jiqQO8JACinjpAOwFw/m2Aql6KSCdiuVbVy1iNpEVzzm0Bh8BiHn4C2qraqVu0/6+RI+p2u5Pe+2NgDZgBxkuWdxG5U9W9GGCsKmit3fDeXwATkdw3ETmNFYeKDqy1G8Bt1VlBH977pVar9VTI6wLeGGOKxqEO8rFc1BQHaBeL51quMg7tQT7z2FgAqNmNIZXfYD0lqd/vvwI45x5CCCvFM2vtYC/ujTGr5U2eTgE0Go26L+ZL5Q7eSBiR934WeFTV1iA2uLkxZuj9yje5TrlVlmW7KT4oddBsNk96vR7ANjAVydOK2H0q9Ff1CTItes6ulCmxAAAAAElFTkSuQmCC",
  bU = () => {
    const [t, e] = k.useState(!1),
      n = Sh(),
      i = async (r) => {
        r.preventDefault();
        const s = r.target[0].value,
          a = r.target[1].value,
          l = r.target[2].value,
          u = r.target[3].files[0];
        try {
          const c = await EO(Th, a, l),
            f = Mw(nR, s),
            p = Ow(f, u);
          p.on(
            (m) => {
              e(!0);
            },
            () => {
              Nw(p.snapshot.ref).then(async (m) => {
                await wO(c.user, { displayName: s, photoURL: m }),
                  await pm(an(Xt, "users", c.user.uid), {
                    uid: c.user.uid,
                    displayName: s,
                    email: a,
                    photoURL: m,
                  }),
                  await pm(an(Xt, "userChats", c.user.uid), {}),
                  n("/");
              });
            }
          );
        } catch {
          e(!0);
        }
      };
    return V.jsx("div", {
      className: "formContainer",
      children: V.jsxs("div", {
        className: "formWrapper",
        children: [
          V.jsx("span", { className: "logo", children: "Sipher Chat" }),
          V.jsx("span", { className: "title", children: "Register" }),
          V.jsxs("form", {
            onSubmit: i,
            children: [
              V.jsx("input", { type: "text", placeholder: "display name" }),
              V.jsx("input", { type: "email", placeholder: "email" }),
              V.jsx("input", { type: "password", placeholder: "password" }),
              V.jsx("input", {
                style: { display: "none" },
                type: "file",
                id: "file",
              }),
              V.jsxs("label", {
                htmlFor: "file",
                children: [
                  V.jsx("img", { src: RU, alt: "" }),
                  V.jsx("span", { children: "Add an Avatar" }),
                ],
              }),
              V.jsx("button", { children: "Sign up" }),
              t && V.jsx("span", { children: "Something went wrong" }),
            ],
          }),
          V.jsxs("p", {
            children: [
              "Do you already have an account? ",
              V.jsx(bh, { to: "/login", children: "Login" }),
            ],
          }),
        ],
      }),
    });
  };
function IU() {
  const { currentUser: t } = k.useContext(or),
    e = ({ children: n }) => (t ? n : V.jsx(jP, { to: "/" }));
  return V.jsx(mU, {
    children: V.jsx(HP, {
      children: V.jsxs(no, {
        path: "/",
        children: [
          V.jsx(no, {
            index: !0,
            element: V.jsx(e, { children: V.jsx(zV, {}) }),
          }),
          V.jsx(no, { path: "login", element: V.jsx(SU, {}) }),
          V.jsx(no, { path: "register", element: V.jsx(bU, {}) }),
        ],
      }),
    }),
  });
}
const CU = KI.createRoot(document.getElementById("root"));
CU.render(
  V.jsx(dV, {
    children: V.jsx(gV, {
      children: V.jsx(hb.StrictMode, { children: V.jsx(IU, {}) }),
    }),
  })
);
